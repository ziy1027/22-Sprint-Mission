(()=>{var e,t,n,r,o,s={56116:(e,t,n)=>{"use strict";var r=n(66532),o=n(44194),s=n(19963),i=n(79619),a=n.n(i),l=n(47966),c=n(59135),u=n(10201),h=n(80640),d=n(19200),p=n(38988),m=n(3223),g=n(28961),f=n(9967),v=n(34445),b=n(53284),_=n(33122),y=n(88513),C=n(12771);const{isMobile:w}=g.Z,E=function(e){let{children:t}=e;const n=(0,v.Z)((0,m.N)(b.Z.channelProfileSelectors.channelProfileTheme)),r=(0,v.Z)(b.Z.uiSelectors.getAppearance),[s,i]=(0,o.useState)((0,C.TF)(r,f.Z.topmostWindow)),a=(0,o.useCallback)((e=>{i(e.matches)}),[]);(0,o.useEffect)((function(){i((0,C.TF)(r,f.Z.topmostWindow))}),[r]),(0,o.useEffect)((function(){if(r===y.u.SYSTEM){const e=(0,C.aK)("dark",f.Z.topmostWindow);return e.addEventListener("change",a),function(){e.removeEventListener("change",a)}}return()=>{}}),[a,r]);const l=(0,o.useMemo)((()=>s?d.Z:d.I),[s]),c=(0,o.useMemo)((()=>{const e=n.color||"#4E66FF",t=n.gradientColor||"#5F4EFF",r=h.R.invisibleInTheme(n.brightness,s),o=h.R.getTextColor({brightness:n.brightness,foundation:l}),i=h.R.getMessageBubbleBackground({darkMode:s,color:e,brightness:n.brightness,foundation:l}),a=n.borderColor||"#465BE5",c=h.R.getIconColor({darkMode:s,brightness:n.brightness,color:e,foundation:l});return{darkMode:s,color:e,gradientColor:t,textColor:o,bubbleBackgroundColor:i,borderColor:a,useFallbackColor:r,brightness:n.brightness,iconColor:c}}),[n.borderColor,n.brightness,n.color,n.gradientColor,s,l]),u=(0,o.useMemo)((()=>{const e=w?"65.625%":"62.5%";return{...l,...c,global:{html:{fontSize:e}}}}),[c,l]);return o.createElement(p.Z,{foundation:u},o.createElement(_.ZL,{foundation:u}),t)};var S=n(37132),Z=n(94109),I=n(32106);const{isAndroidPhone:k}=g.Z,x=function(){const e=(0,I.ZP)((e=>e.isOpened)),t=(0,o.useRef)([]),n=(0,v.Z)(b.Z.uiSelectors.showMessenger),r=(0,o.useCallback)((()=>{t.current.forEach((e=>{e.destroy()})),t.current=[],e?(0,I.Mr)():v.S.setShowMessenger.run(!1)}),[e]);return(0,o.useEffect)((()=>{if(!("CloseWatcher"in window&&n&&k&&(0,Z.N0)()))return()=>{};const e=[window,f.Z.topmostWindow].map((e=>{const t=new e.CloseWatcher;return t.addEventListener("close",r),t}));return t.current=e,()=>{e.forEach((e=>{e.destroy()}))}}),[r,n]),null};function T(e,t){const n=(0,o.useRef)(e);return t&&(n.current=e),n.current}function A(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{e&&n(!0)}),[e]),{render:t,onAnimationEnd:(0,o.useCallback)((()=>{e||n(!1)}),[e])}}var M=n(89683),P=n(80925),R=n(27841),N=n(72927),O=n(21488),L=n(80577),U=n(86548);const D=()=>L.Z.getDate().getTime();var z=n(10919),B=n(39156),F=n(24848),$=n(40068);const H=$.ZP.a.withConfig({displayName:"LiveMeetBannerstyled__Wrapper",componentId:"ch-front__sc-1i7ddnr-0"})(["cursor:pointer;display:flex;gap:4px;align-items:center;justify-content:space-between;width:100%;height:100%;padding:0 12px;"," color:var(--inverted-txt-black-darkest,rgba(255,255,255,80%));"],F.ZT.Size13),W=$.ZP.div.withConfig({displayName:"LiveMeetBannerstyled__State",componentId:"ch-front__sc-1i7ddnr-1"})(["display:flex;gap:4px;align-items:center;justify-content:center;font-weight:bold;& svg{color:var(--inverted-bgtxt-cobalt-normal,#47c8ff);}"]);function j(){const{translate:e}=(0,z.Z)(),t=(0,v.Z)(b.Z.meetSelectors.getHasLiveMeet),n=(0,v.Z)(b.Z.meetSelectors.getEngagedAt),r=(0,v.Z)(b.Z.meetSelectors.isAudioMode),s=(0,v.Z)(b.Z.meetSelectors.getLiveMeetChatId),i=function(e){let{start:t,interval:n=U.WT,getCurrent:r=D}=e;const s=(0,o.useRef)(),[i,a]=(0,o.useState)(t?r()-t:0);return(0,o.useEffect)((()=>void 0===t?()=>{}:(s.current=window.setInterval((()=>{a(r()-t)}),n),()=>{window.clearInterval(s.current)})),[n,t,r]),i}({start:n}),a=T({sourceIcon:r?M.V:P.V},t);return o.createElement(H,{onClick:e=>{e.preventDefault(),O.Z.focus(),v.S.goUserChat(s)},href:(0,B.ID)(s)},o.createElement(W,null,o.createElement(R.J,{source:a.sourceIcon,size:N.J.XS}),e("ch.meet.ongoing")),n&&(0,U.LU)(i))}var G=n(67894),q=n(61378),V=n(44873),J=n(79845);const K=$.ZP.div.withConfig({displayName:"MeetRingBannerstyled__MeetRingBanner",componentId:"ch-front__sc-1k4wozn-0"})(["display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;width:100%;height:100%;padding:20px;"]),Y=$.ZP.div.withConfig({displayName:"MeetRingBannerstyled__Information",componentId:"ch-front__sc-1k4wozn-1"})([""]),X=$.ZP.div.withConfig({displayName:"MeetRingBannerstyled__Title",componentId:"ch-front__sc-1k4wozn-2"})([""," font-weight:bold;color:var(--inverted-txt-black-darkest,rgba(255,255,255,80%));"],J.ZT.PxSize17),Q=$.ZP.div.withConfig({displayName:"MeetRingBannerstyled__Description",componentId:"ch-front__sc-1k4wozn-3"})(["display:flex;gap:6px;align-items:center;margin-top:2px;"," color:var(--inverted-txt-black-darker,rgba(255,255,255,60%));"],J.ZT.PxSize13),ee=$.ZP.div.withConfig({displayName:"MeetRingBannerstyled__Buttons",componentId:"ch-front__sc-1k4wozn-4"})(["display:flex;gap:8px;"]),te=$.ZP.button.withConfig({displayName:"MeetRingBannerstyled__Button",componentId:"ch-front__sc-1k4wozn-5"})(["cursor:pointer;display:flex;align-items:center;justify-content:center;width:44px;height:44px;color:var(--bgtxt-absolute-white-dark,#fff);border-radius:22px;"]),ne=(0,$.ZP)(te).withConfig({displayName:"MeetRingBannerstyled__Decline",componentId:"ch-front__sc-1k4wozn-6"})(["background:var(--bgtxt-red-normal,#e94e58);"]),re=(0,$.ZP)(te).withConfig({displayName:"MeetRingBannerstyled__Accept",componentId:"ch-front__sc-1k4wozn-7"})(["background:var(--bgtxt-cobalt-normal,#329be7);"]);function oe(){const{translate:e}=(0,z.Z)(),t=(0,v.Z)(b.Z.meetSelectors.getMeetRing),n=(0,o.useRef)(!1),r=null==t?void 0:t.meetMode,s=r===V.Z.AUDIO,i=s?M.V:P.V,a=e(s?"ch.meet.type.audio":"ch.meet.type.video"),l=T({title:null==t?void 0:t.title,iconSource:i,modeText:a},!!t);return o.createElement(K,null,o.createElement(Y,null,o.createElement(X,null,null==l?void 0:l.title),o.createElement(Q,null,o.createElement(R.J,{source:l.iconSource,size:N.J.XS}),l.modeText)),o.createElement(ee,null,o.createElement(ne,{onClick:()=>{t&&!n.current&&(v.S.requestRejectOutboundMeet.run({meetId:t.meetId,userChatId:t.chatId}),n.current=!0)}},o.createElement(R.J,{source:G.C,size:N.J.S})),o.createElement(re,{onClick:()=>{t&&!n.current&&(O.Z.openMeetBox({mode:r,userChatId:t.chatId,meetId:t.meetId}),v.S.setShowMessenger.run(!0),v.S.goUserChat(t.chatId),n.current=!0)}},o.createElement(R.J,{source:q.C,size:N.J.S}))))}var se=n(74117),ie=n(50056);const ae=(0,$.iv)(["transform:translateX(-50%) translateY(-12px);opacity:0.01;backdrop-filter:blur(5px);"]),le=(0,$.iv)(["transform:translateX(-50%) translateY(0);opacity:1;backdrop-filter:blur(5px);"]),ce=(0,$.F4)(["from{","}to{","}"],ae,le),ue=(0,$.F4)(["from{","}to{","}"],le,ae),he=(0,$.iv)(["animation-duration:","ms;animation-timing-function:cubic-bezier(0.3,0,0,1);"],ie.sK),de=(0,$.iv)(["animation-name:",";animation-fill-mode:backwards;",""],ce,he),pe=(0,$.iv)(["animation-name:",";animation-fill-mode:both;",""],ue,he),me=$.ZP.div.withConfig({displayName:"MeetBannerContainerstyled__Container",componentId:"ch-front__sc-16twdjs-0"})(["position:fixed;z-index:",";top:10px;left:50%;transform:translateX(-50%);display:flex;align-items:center;justify-content:center;background:var(--inverted-bg-lounge,rgba(36,36,40,90%));backdrop-filter:blur(5px);transition-timing-function:cubic-bezier(0.3,0,0,1);transition-duration:0.3s;transition-property:width,height,border-radius;",""],se.Z.MEET_BANNER,(e=>{let{show:t}=e;return t?de:pe}));function ge(){const e=(0,v.Z)(b.Z.uiSelectors.isKeyboardOpen),t=(0,v.Z)(b.Z.uiSelectors.getKeyboardHeight),n=(0,v.Z)(b.Z.meetSelectors.getHasLiveMeet),r=(0,v.Z)(b.Z.meetSelectors.hasRing),s=n||r,{render:i,onAnimationEnd:a}=A(s),l=T({Content:r?o.createElement(oe,null):o.createElement(j,null),width:r?"calc(100% - 20px)":190,height:r?84:40,borderRadius:20},s);return i?o.createElement(me,{style:{width:l.width,height:l.height,borderRadius:l.borderRadius,transform:`translateX(-50%) translateY(${e?t:0}px)`},show:s,onAnimationEnd:a},l.Content):null}var fe=n(59483),ve=n(71142),be=n(96940),_e=n(90681);const ye=$.F4`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,Ce=()=>be.iv`
  animation: ${ye} 0.3s ease-in;
`,we=be.zo.div.withConfig({displayName:"Toaststyled__Toast",componentId:"ch-front__sc-19oj1gq-0"})(["position:relative;top:30px;display:flex;align-items:flex-start;max-width:460px;min-height:46px;padding:10px 14px;"," font-weight:bold;color:",";background:",";backdrop-filter:blur(30px);border-radius:22px;",""],F.ZT.Size14,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-absolute-white-dark"]}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-black-darker"]}),Ce),Ee=be.zo.div.withConfig({displayName:"LoaderToast__Wrapper",componentId:"ch-front__sc-a219cb-0"})(["position:relative;top:46px;width:40px;height:40px;color:",";border-radius:10px;"," ",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darkest"]}),(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev4()}),Ce),Se=function(){return o.createElement(Ee,null,o.createElement(_e.Z,{size:16,top:12,bottom:12,right:12,left:12,strokeWidth:2}))};var Ze=n(97050);const Ie=function(e){let{children:t,hasDuration:n=!1}=e;const r=(0,Ze.Z)();return(0,o.useEffect)((function(){n&&r((()=>{v.S.hideToast()}),3e3)}),[n,r]),o.createElement(we,null,t)},ke=be.zo.div.withConfig({displayName:"ToastContainerstyled__ToastContainer",componentId:"ch-front__sc-1riea3h-0"})(["position:fixed;top:0;right:0;left:0;z-index:",";display:flex;justify-content:center;padding:0 16px;pointer-events:none;> *{pointer-events:auto;}"],se.Z.TOAST),xe=(0,be.zo)(R.J).withConfig({displayName:"ToastContainerstyled__ToastIcon",componentId:"ch-front__sc-1riea3h-1"})(["align-self:start;opacity:0.6;"]),Te=be.zo.div.withConfig({displayName:"ToastContainerstyled__ToastText",componentId:"ch-front__sc-1riea3h-2"})(["margin:4px 0;",""],(0,ie.LH)(2,J.FH.Lh18)),Ae=function(){const e=(0,v.Z)(b.Z.toastSelectors.showOfflineToast),t=(0,v.Z)(b.Z.toastSelectors.showToast),n=(0,v.Z)(b.Z.toastSelectors.id),r=(0,v.Z)(b.Z.toastSelectors.message),s=(0,v.Z)(b.Z.socketSelectors.getSocketStatus),i=(0,v.Z)(b.Z.toastSelectors.icon),{translate:a}=(0,z.Z)(),l=(0,o.useMemo)((()=>e?o.createElement(Ie,null,o.createElement(R.J,{marginTop:3,marginBottom:3,marginRight:6,source:fe.E,size:N.J.S,color:"bgtxt-absolute-white-light"}),o.createElement(Te,null,a("ch.error.offline.title"))):t?o.createElement(Ie,{key:n,hasDuration:!0},i&&o.createElement(xe,{marginTop:3,marginBottom:3,marginRight:6,source:i,size:N.J.S,color:"bgtxt-absolute-white-light","aria-hidden":"true"}),o.createElement(Te,null,r)):s===ve.Q_.DISCONNECTED?o.createElement(Se,null):null),[e,t,s,a,n,i,r]);return o.createElement(ke,null,l)};var Me=n(13291);const Pe=be.zo.button.withConfig({displayName:"FixedCloseButton__Wrapper",componentId:"ch-front__sc-hlbjxw-0"})(["cursor:pointer;position:fixed;z-index:",";top:20px;right:16px;display:flex;align-items:center;justify-content:center;width:32px;height:32px;background-color:var(--bg-black-lighter);border-radius:50%;",""],se.Z.CLOSE_BUTTON,(e=>{let{showAbsoluteColor:t}=e;return t&&be.iv`
      background-color: var(--bgtxt-absolute-black-lighter);
    `}));function Re(){const e=!!(0,c.bS)("/home"),t=!!(0,c.bS)("/user-chats"),n=!!(0,c.bS)("/setting"),r=!!(0,c.bS)("/setting/edit");if(!(e||t||n||r))return null;const s=e;return o.createElement(Pe,{showAbsoluteColor:s,onClick:()=>{v.S.setShowMessenger.run(!1)},type:"button","data-ch-testid":"fixed-close-button"},o.createElement(R.J,{source:G.C,size:N.J.S,color:s?"bgtxt-absolute-white-dark":"txt-black-dark"}))}const Ne=be.zo.div.withConfig({displayName:"Backgroundstyled__Background",componentId:"ch-front__sc-qd2sn8-0"})(["position:fixed;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:url('https://cdn.channel.io/plugin/images/standalone-pattern-bg.png') repeat;background-size:460px 864px;"]),Oe=function(e){let{children:t}=e;return o.createElement(Ne,null,t)};var Le=n(23817);const{isMobile:Ue}=g.Z,De=function(e){let{children:t}=e;const n=(0,v.Z)(b.Z.uiSelectors.showMessenger),r=e=>{Me.Z.setDOMNodes({layoutContainer:e})};return Ue?(0,Z.N0)()?o.createElement(Le.XS,{ref:r,showMessenger:n,onClick:B.UW},t,o.createElement(Re,null)):o.createElement(Le.JL,{className:"notranslate",ref:r},t):(0,Z.N0)()?o.createElement(Le.i7,{ref:r},t):o.createElement(Oe,null,o.createElement(Le.Rk,{className:"notranslate",ref:r},t))};var ze=n(85940),Be=n(60489);const Fe=function(e){let{enabled:t,container:n}=e;(0,o.useEffect)((function(){return t?n?(Be.Z.disableBodyScrollForModal(),()=>{Be.Z.enableBodyScrollForModal()}):(Be.Z.disableMessengerBodyScroll(),()=>{Be.Z.enableMessengerBodyScroll()}):()=>{}}),[n,t])},$e=function(e){let{target:t,children:n}=e;return o.createElement($.LC,{target:t},o.createElement(o.Fragment,null,n))},{topmostDocument:He,rootElement:We}=f.Z,je=function(){const e=(0,I.ZP)((e=>e.content)),t=(0,I.ZP)((e=>e.container)),n=(0,I.ZP)((e=>e.isOpened)),r=Me.Z.layoutContainer,s=Me.Z.shadowRootWrapper??He.body,i=t??r??We;Fe({enabled:n,container:t});const a=ze.createPortal(e,i),l=t&&a,c=!t&&a;return o.createElement(o.Fragment,null,o.createElement($e,{target:s},n&&l),n&&c)};var Ge=n(3268),qe=n(57608),Ve=n(28049),Je=n(36333),Ke=n(85500),Ye=n(11599),Xe=n(91527),Qe=n(49438);const et=(0,be.zo)(Qe.R).attrs({size:16}).withConfig({displayName:"NavigationBadge__Alert",componentId:"ch-front__sc-2sncpz-0"})(["position:absolute;top:-4px;left:15px;padding:0 5px;"]),tt=(0,be.zo)(Qe.E).withConfig({displayName:"NavigationBadge__Unread",componentId:"ch-front__sc-2sncpz-1"})(["position:absolute;top:-1px;right:-2px;"]),nt=function(){const e=(0,v.Z)(b.Z.userSelectors.getUserAlertWithPlus),t=(0,v.Z)(b.Z.userSelectors.getUserUnread);return e?o.createElement(et,null,o.createElement(Xe.Z,{typo:F.ZT.Size11},e)):t?o.createElement(tt,null):null};var rt=n(94722);const ot=function(){const e=(0,v.Z)(b.Z.errorSelectors.hasAPIError),{translate:t}=(0,z.Z)(),n=(0,c.s0)(),r=e=>{e.preventDefault(),n(e.currentTarget.getAttribute("href")||"",{replace:!0})},s=!!(0,c.bS)("/home"),i=!!(0,c.bS)("/user-chats"),a=!!(0,c.bS)("/setting");return Ye.Z.isFollowUpLink||!(s||i||a)||e?null:o.createElement(rt.vx,null,o.createElement(rt.rU,{selected:s,onClick:r,href:"/home"},o.createElement(R.J,{source:s?Ge.H:qe.H}),o.createElement(rt.J$,{typo:F.ZT.Size12},t("ch.tab_title.lounge"))),o.createElement(rt.rU,{selected:i,onClick:r,href:"/user-chats"},o.createElement(rt.a1,null,o.createElement(R.J,{source:i?Ve.C:Je.C}),o.createElement(nt,null)),o.createElement(rt.J$,{typo:F.ZT.Size12},t("ch.tab_title.user_chats"))),o.createElement(rt.rU,{selected:a,onClick:r,href:"/setting"},o.createElement(R.J,{source:Ke.S}),o.createElement(rt.J$,{typo:F.ZT.Size12},t("ch.tab_title.setting"))))};var st=n(87893),it=n(87851),at=n(50022),lt=n(32490);function ct(e){return e.type===lt.q.Close?!e.attributes.wamEvent||ct(e.attributes.wamEvent):e.type===lt.q.Command?(0,at.HD)(e.attributes.appId)&&(0,at.HD)(e.attributes.name)&&(0,at.PO)(e.attributes.params):e.type===lt.q.OnAuthTokenUpdated&&(0,at.HD)(e.attributes.access_token)&&(0,at.hj)(e.attributes.expires_at)&&(0,at.hj)(e.attributes.expires_in)&&(0,at.HD)(e.attributes.refresh_token)&&(0,at.hj)(e.attributes.refresh_token_expires_at)&&(0,at.hj)(e.attributes.refresh_token_expires_in)&&Array.isArray(e.attributes.scope)&&(0,at.HD)(e.attributes.token_type)}var ut=n(30462);const ht=be.iv`
  overflow: hidden;
  align-items: flex-end;
`,dt=$.F4`
  from {
    transform: translateY(33%);
  }

  to {
    transform: translate(0);
  }
`,pt=(0,be.zo)(ut.Z).withConfig({displayName:"WamModalstyled__Popover",componentId:"ch-front__sc-btvs0f-0"})(["overflow:hidden;width:100%;height:",";border-radius:30px 30px 0 0;box-shadow:0 -4px 12px rgba(0,0,0,10%);",""],_.ns,(()=>be.iv`
  animation: ${dt} 0.3s ease;
`)),mt=be.zo.iframe.withConfig({displayName:"WamModalstyled__Frame",componentId:"ch-front__sc-btvs0f-1"})(["width:100%;height:100%;border:none;"]),gt=function(e){let{instance:t}=e;const n=(0,st.Z)().id,{systemLanguage:r}=(0,v.Z)(b.Z.userSelectors.getUser),s=(0,v.Z)(b.Z.uiSelectors.getAppearance),i=(0,C.TF)(s,f.Z.topmostWindow),a=(0,v.Z)(b.Z.wamModalSelectors.isWamModalOpened);(0,o.useEffect)((()=>{var e;a&&(null===(e=Me.Z.textAreaNode)||void 0===e||e.blur())}),[a]);const l={wamArgs:t.wamArgs,agentArgs:{wamId:t.id,language:r,appearance:i?"dark":"light"},primitive:{wamName:t.name,channelId:n,appId:t.appId,accessToken:t.accessToken,refreshToken:t.refreshToken}},c=(0,o.useCallback)((()=>{v.S.closeWamModal({id:t.id})}),[t.id]);return(0,o.useEffect)((()=>{function e(e){const{data:n}=e;if(n.wamId!==t.id)return;if(!ct(n))return;const{appId:r}=t;v.S.executeWamEvent.run({appId:r,wamEvent:n})}return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[t]),o.createElement(pt,{modalInterpolation:ht,onBackdropClick:c},o.createElement(mt,{src:`${it.m$}/public/wam-controller/v1?wam_data=${encodeURIComponent(JSON.stringify(l))}`}))},{rootElement:ft}=f.Z,vt=function(){const e=(0,v.Z)(b.Z.wamModalSelectors.getWamModalInstances),t=e.length>0,n=Me.Z.layoutContainer??ft;return Fe({enabled:t}),t?ze.createPortal(e.map((e=>o.createElement(gt,{key:e.id,instance:e}))),n):null};var bt=n(33275),_t=n(44653);const{isMac:yt,isSafari:Ct}=g.Z,{topmostDocument:wt}=f.Z;var Et=n(98450);const{isTouchableDevice:St}=g.Z,{topmostWindow:Zt}=f.Z;function It(){var e;return(null===(e=Zt.visualViewport)||void 0===e?void 0:e.height)??Zt.innerHeight}var kt=n(42972),xt=n(59544);const Tt=function(e){let{children:t}=e;const n=u.Z.getHistory(),[r,s]=(0,o.useState)({action:n.action,location:n.location});return function(){const e=(0,v.Z)(b.Z.uiSelectors.getcurrentTabId),{id:t}=(0,st.Z)(),n=(0,o.useCallback)((()=>{const n=(0,C.xn)(t);kt.Z.setItem(n,e)}),[t,e]),r=(0,o.useCallback)((()=>{if(f.Z.visibilityState===xt.Z.VISIBLE)return v.S.changeVisibilityState.run(xt.Z.VISIBLE),n(),void v.S.checkConnection.run();f.Z.visibilityState===xt.Z.HIDDEN&&v.S.changeVisibilityState.run(xt.Z.HIDDEN)}),[n]);(0,o.useEffect)((function(){return f.Z.currentDocument.addEventListener("visibilitychange",r),function(){f.Z.currentDocument.removeEventListener("visibilitychange",r)}}),[r]),(0,o.useEffect)((function(){f.Z.visibilityState===xt.Z.VISIBLE&&n()}),[n])}(),function(){const e=(0,v.Z)(b.Z.uiSelectors.showMessenger),t=(0,o.useRef)(It()),n=(0,o.useCallback)((()=>{const e=It();Math.abs(e-t.current)>180&&v.S.setKeyboardOpen({show:e<t.current,keyboardHeight:t.current-e}),t.current=e}),[]);(0,o.useEffect)((function(){return St&&e&&Zt.visualViewport?(Zt.visualViewport.addEventListener("resize",n),function(){Zt.visualViewport&&Zt.visualViewport.removeEventListener("resize",n)}):()=>{}}),[n,e])}(),function(){const e=(0,st.Z)(),t=(0,C.MI)(e.id),n=(0,o.useCallback)((()=>{bt.Z.mutePlay(),wt.removeEventListener("click",n)}),[]);(0,o.useEffect)((function(){if(yt&&Ct)return wt.addEventListener("click",n),function(){wt.removeEventListener("click",n)}}),[n]),(0,o.useEffect)((()=>{v.S.setNotificationSoundMode({notificationSoundMode:_t.Z.getSettingValue(t),notificationSoundModeStorageKey:t})}),[t])}(),function(){const e=u.Z.getHistory(),t=(0,o.useRef)(!1),n=(0,o.useCallback)((e=>{const t=(0,Et.LX)({path:"/user-chats/:userChatId",end:!0},e);t&&t.params.userChatId?v.S.setParamUserChatId(t.params.userChatId):v.S.resetParamUserChatId()}),[]);t.current||(t.current=!0,n(e.location.pathname)),(0,o.useEffect)((()=>e.listen((e=>{n(e.location.pathname)}))),[n,e])}(),(0,o.useLayoutEffect)((()=>n.listen(s)),[n]),o.createElement(c.F0,{navigator:n,navigationType:r.action,location:r.location},o.createElement(E,null,o.createElement(S.Z,null,o.createElement(De,null,t,o.createElement(x,null),o.createElement(je,null),o.createElement(vt,null),o.createElement(Ae,null),o.createElement(ge,null),o.createElement(ot,null)))))};var At=n(44356);const Mt="ch-plugin-theme-color",{topmostDocument:Pt}=f.Z,{isMobile:Rt}=g.Z,Nt=Rt?function(){var e;const t=(0,v.Z)(b.Z.uiSelectors.showMessenger),n=(null===(e=(0,be.je)())||void 0===e?void 0:e.darkMode)?"#313234":"#ffffff",r=(0,o.useRef)([]),s=(0,o.useCallback)((()=>{const e=Pt.createElement("meta");e.id=Mt,e.name="theme-color",e.content=n,Pt.head.appendChild(e)}),[n]),i=(0,o.useCallback)((()=>{const e=Pt.getElementById(Mt);e&&Pt.head.removeChild(e)}),[]),a=(0,o.useCallback)((()=>{Pt.head.querySelectorAll("meta").forEach((e=>{"theme-color"===e.name&&(r.current.push(e),Pt.head.removeChild(e))}))}),[]),l=(0,o.useCallback)((()=>{r.current.forEach((e=>{Pt.head.appendChild(e)})),r.current=[]}),[]);(0,o.useEffect)((function(){if(t)return a(),s(),function(){i(),l()}}),[a,s,l,i,t])}:()=>{};var Ot=n(93099),Lt=n(23295),Ut=n(76438);function Dt(){const{isMobile:e}=g.Z,t=Ut.Z.getHideChannelButtonOnBoot(),n=(0,v.Z)(b.Z.uiSelectors.showChannelButton),r=(0,v.Z)(b.Z.pluginSelectors.getPlugin);return!(!0!==n&&(!1===n||t||e&&r.mobileHideButton||!e&&r.deskHideButton))}var zt=n(35354);function Bt(){const e=(0,v.Z)(b.Z.popupSelectors.showPopup),t=(0,v.Z)(b.Z.meetSelectors.showRingPopup),n=(0,v.Z)(b.Z.popupSelectors.popupType),r=(0,v.Z)(b.Z.popupSelectors.isFullscreen);return!g.Z.isMobile&&(!!t||e&&n===zt.k.PushMessage&&!r)}const{isMobile:Ft}=g.Z,$t=be.zo.div.withConfig({displayName:"Launcherstyled__LauncherButtonWrapper",componentId:"ch-front__sc-1kx6op4-0"})(["position:fixed;"," overflow:visible;display:",";flex-wrap:nowrap;width:auto;background:transparent;",""],(e=>{let{isFullscreenPopupActive:t}=e;return!t&&!Ft&&(0,be.iv)(["z-index:",";"],se.Z.ON_SHADOW_ELEMENT)}),(e=>e.hidden?"none":"flex"),(function(e){let{launcherPosition:t}=e;return(0,be.iv)(["bottom:calc( env(safe-area-inset-bottom) + ","px );",";"],(null==t?void 0:t.yPosition)??24,"left"===(null==t?void 0:t.pluginPosition)?(0,be.iv)(["left:","px;"],(null==t?void 0:t.xPosition)??24):(0,be.iv)(["right:","px;"],(null==t?void 0:t.xPosition)??24))}));function Ht(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"0",height:"0",style:{display:"none"}},o.createElement("defs",null,o.createElement("mask",{id:"ch-icons-mask",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"30",height:"30"},o.createElement("rect",{width:"30",height:"30",fill:"url(#ch-icons-gradient)"})),o.createElement("linearGradient",{id:"ch-icons-gradient",x1:"15",y1:"15",x2:"15",y2:"30",gradientUnits:"userSpaceOnUse"},o.createElement("stop",null),o.createElement("stop",{offset:"1",stopOpacity:"0.8"}))),o.createElement("symbol",{id:"channel-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M27.4962 15.0038C27.4962 16.7173 27.1512 18.3464 26.5264 19.8336V19.8375C26.1392 20.7613 26.0702 21.7886 26.3117 22.7622L26.9902 25.4799C27.2202 26.3922 26.3922 27.224 25.4761 26.994L22.7584 26.3155C21.7847 26.0741 20.7574 26.1431 19.8336 26.5302C18.3464 27.155 16.7173 27.5 15.0038 27.5C8.12328 27.5 2.5 21.8844 2.5 15.0038C2.49617 8.09644 8.09645 2.5 15.0038 2.5C21.8844 2.5 27.4962 8.12328 27.4962 15.0038ZM22.3287 17.5655C20.9219 20.1759 18.1621 21.9468 14.992 21.9468H14.9844C11.8143 21.9468 9.05442 20.172 7.64765 17.5655C7.49049 17.2741 7.59782 16.91 7.88147 16.7375L10.12 15.3959C10.4382 15.2081 10.8369 15.3346 11.0055 15.6604C11.7492 17.1055 13.2518 18.0944 14.9882 18.0944C16.7246 18.0944 18.2272 17.1055 18.9709 15.6604C19.1395 15.3346 19.542 15.2081 19.8563 15.3959L22.0949 16.7375C22.3824 16.91 22.4859 17.2741 22.3287 17.5655Z",fill:"currentcolor"})),o.createElement("symbol",{id:"channel",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M26.4162 21.5593L27.0194 23.9758C27.2341 24.8347 26.9887 25.7243 26.3616 26.3514C25.7345 26.9785 24.8483 27.2239 23.986 27.0092L21.5695 26.4059C20.9901 26.2594 20.38 26.3037 19.8449 26.5286C18.3112 27.1728 16.6854 27.5 15.0119 27.5H15.0051C11.6786 27.5 8.54294 26.198 6.17416 23.836C3.80539 21.4707 2.50341 18.335 2.5 15.0051C2.5 11.665 3.79857 8.52249 6.16053 6.16053C8.52249 3.79857 11.6616 2.5 15.0017 2.5H15.0051C18.335 2.5 21.4707 3.80538 23.8361 6.17416C26.2014 8.54294 27.5034 11.6786 27.5 15.0085C27.5 16.682 27.1728 18.3078 26.5286 19.8415C26.3037 20.3766 26.2594 20.9867 26.4059 21.5661L26.4162 21.5593ZM15.0071 5.26903H15.0037C12.4066 5.26903 9.96281 6.2813 8.12914 8.11838C6.29206 9.95547 5.27979 12.3992 5.27979 14.9964C5.27979 17.5833 6.29546 20.0236 8.13936 21.8641C9.98326 23.7046 12.4202 24.7237 15.0105 24.7169C16.3125 24.7169 17.577 24.4613 18.7665 23.9636C19.8503 23.5069 21.0841 23.4183 22.2396 23.7046L23.7597 24.0829C23.9642 24.1341 24.1482 23.95 24.0971 23.7455L23.7188 22.2254C23.4291 21.07 23.5211 19.8362 23.9744 18.7523C24.4754 17.5628 24.7276 16.2983 24.7276 14.9964C24.7276 12.4095 23.7154 9.9691 21.8749 8.1252C20.0344 6.2813 17.594 5.26903 15.0071 5.26562V5.26903ZM15.0002 20.9713C17.7405 20.9713 20.1195 19.4409 21.3295 17.1846H21.3226C21.4624 16.9222 21.3704 16.5984 21.1181 16.445L19.3288 15.3714C19.0493 15.2044 18.6914 15.3101 18.5449 15.5998C17.8871 16.8915 16.5476 17.7777 14.9968 17.7777C13.4494 17.7777 12.1066 16.8915 11.4488 15.5998C11.3022 15.3101 10.9443 15.2044 10.6648 15.3714L8.87548 16.445C8.62326 16.5984 8.53124 16.9222 8.67098 17.1846C9.88093 19.4375 12.2633 20.9713 15.0002 20.9713Z",fill:"currentcolor"})),o.createElement("symbol",{id:"chat-bubble-alt-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",d:"M15 25C21.5584 25 26.875 20.5228 26.875 15C26.875 9.47715 21.5584 5 15 5C8.44162 5 3.125 9.47715 3.125 15C3.125 18.3766 5.11232 21.3623 8.15573 23.173C7.80844 24.4336 7.21229 25.6043 6.72761 26.4277C6.45154 26.8966 6.82131 27.4836 7.34888 27.3502C8.6738 27.015 10.7198 26.29 12.4901 24.7762C13.2992 24.9228 14.1389 25 15 25Z",fill:"currentcolor"})),o.createElement("symbol",{id:"chat-bubble-alt",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M15 3.75C7.96117 3.75 1.875 8.59411 1.875 15C1.875 18.5603 3.78885 21.6689 6.66906 23.6979C6.36904 24.49 5.98744 25.221 5.65041 25.7935C5.26104 26.4549 5.31755 27.2305 5.69195 27.8008C6.08079 28.3931 6.82826 28.7712 7.65541 28.562C8.97104 28.2292 10.9899 27.531 12.8437 26.0991C13.546 26.1984 14.2664 26.25 15 26.25C22.0388 26.25 28.125 21.4059 28.125 15C28.125 8.59411 22.0388 3.75 15 3.75ZM4.375 15C4.375 10.3602 8.92207 6.25 15 6.25C21.0779 6.25 25.625 10.3602 25.625 15C25.625 19.6398 21.0779 23.75 15 23.75C14.2136 23.75 13.4485 23.6795 12.713 23.5462L12.1289 23.4404L11.6777 23.8262C10.669 24.6887 9.54739 25.2699 8.54952 25.6573C8.85534 25.0093 9.1482 24.2768 9.36084 23.505L9.61398 22.586L8.79485 22.0987C6.05428 20.4682 4.375 17.8541 4.375 15Z",fill:"currentcolor"})),o.createElement("symbol",{id:"chat-bubble-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M25.9044 22.7375C25.6969 22.1175 25.7206 21.43 26.0281 20.8538C27.3269 18.4175 27.8519 15.5113 27.2344 12.4425C26.2281 7.44255 22.1169 3.4863 17.0806 2.6713C8.54688 1.2913 1.27938 8.56005 2.66188 17.0938C3.47813 22.1288 7.43313 26.2388 12.4344 27.245C15.5044 27.8625 18.4119 27.335 20.8481 26.0363C21.4219 25.73 22.1019 25.7063 22.7181 25.9113C23.3894 26.135 24.2869 26.4338 25.1219 26.7125C26.0994 27.0375 27.0281 26.1075 26.7019 25.1313L25.9044 22.7375Z",fill:"currentColor"})),o.createElement("symbol",{id:"chat-lightning-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M25.9039 22.7375C25.6964 22.1175 25.7201 21.43 26.0276 20.8538C27.3264 18.4175 27.8514 15.5113 27.2339 12.4425C26.2276 7.44255 22.1164 3.4863 17.0801 2.6713C8.54639 1.2913 1.27889 8.56005 2.66139 17.0938C3.47764 22.1288 7.43264 26.2388 12.4339 27.245C15.5039 27.8625 18.4114 27.335 20.8476 26.0363C21.4214 25.73 22.1014 25.7063 22.7176 25.9113C23.3889 26.135 24.2864 26.4338 25.1214 26.7125C26.0989 27.0375 27.0276 26.1075 26.7014 25.1313L25.9039 22.7375ZM19.9612 13.9188L16.7837 13.1838L18.3162 7.97382C18.4237 7.60757 17.9712 7.34007 17.7025 7.61007L10.1075 15.2263C9.90371 15.4313 10.0037 15.7788 10.285 15.8451L13.4625 16.5801L11.9312 21.7901C11.8237 22.1563 12.275 22.4238 12.5437 22.1538L20.1387 14.5376C20.3425 14.3326 20.2425 13.9851 19.9612 13.9188Z",fill:"currentcolor"})),o.createElement("symbol",{id:"chat-progress-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M26.0281 20.8538C25.7206 21.43 25.6969 22.1175 25.9044 22.7375L26.7019 25.1313C27.0281 26.1075 26.0994 27.0375 25.1219 26.7125C24.5488 26.5212 23.9462 26.3205 23.4076 26.141L22.7181 25.9113C22.1019 25.7063 21.4219 25.73 20.8481 26.0363C18.4119 27.335 15.5044 27.8625 12.4344 27.245C7.43313 26.2388 3.47813 22.1288 2.66188 17.0938C1.27938 8.56005 8.54688 1.2913 17.0806 2.6713C22.1169 3.4863 26.2281 7.44255 27.2344 12.4425C27.8519 15.5113 27.3269 18.4175 26.0281 20.8538ZM7.75811 14.9911C7.75811 15.9218 8.5187 16.6824 9.44943 16.6824C10.3802 16.6824 11.1407 15.9218 11.1407 14.9911C11.1407 14.0616 10.3802 13.301 9.44943 13.301C8.5187 13.301 7.75811 14.0616 7.75811 14.9911ZM15.0502 16.6824C14.1207 16.6824 13.3588 15.9218 13.3588 14.9911C13.3588 14.0616 14.1207 13.301 15.0502 13.301C15.9809 13.301 16.7415 14.0616 16.7415 14.9911C16.7415 15.9218 15.9809 16.6824 15.0502 16.6824ZM18.9601 14.9911C18.9601 15.9218 19.7207 16.6824 20.6514 16.6824C21.5809 16.6824 22.3427 15.9218 22.3427 14.9911C22.3427 14.0616 21.5809 13.301 20.6514 13.301C19.7207 13.301 18.9601 14.0616 18.9601 14.9911Z",fill:"currentcolor"})),o.createElement("symbol",{id:"chat-progress",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M26.758 23.8145L25.9561 21.4102C25.8823 21.154 25.9139 21.0896 26.3399 20.2244C26.3611 20.1813 26.3833 20.1363 26.4065 20.0891C26.768 19.2948 27.0382 18.4579 27.2234 17.6035C27.5974 15.8921 27.5824 14.1057 27.2371 12.4069C26.5366 8.95422 24.2886 5.9081 21.2637 4.15924C19.7563 3.28356 18.045 2.71061 16.3074 2.5705C14.5835 2.39412 12.8009 2.54173 11.1371 3.09216C7.80451 4.17675 4.99858 6.70622 3.57372 9.90371C2.8444 11.4937 2.48662 13.2513 2.50038 14.9927C2.51414 16.7215 2.82188 18.4904 3.55996 20.0854C4.98357 23.2916 7.79826 25.8061 11.1296 26.8919C12.8009 27.4286 14.566 27.6163 16.3061 27.4311C17.1743 27.336 18.0362 27.1571 18.8669 26.8807C19.2834 26.7481 19.6888 26.5854 20.0878 26.4078C20.2817 26.3255 20.5061 26.2108 20.6865 26.1185C20.86 26.0298 20.9928 25.9619 21.0185 25.9637C21.1737 25.9162 21.3025 25.9199 21.4101 25.955L22.5272 26.3277L23.8107 26.7556C23.9405 26.7959 24.0716 26.8412 24.2027 26.8865C24.4455 26.9704 24.6885 27.0543 24.9241 27.1071C25.2881 27.1697 25.5646 27.1246 25.8135 27.0546C26.354 26.9157 26.9144 26.359 27.0532 25.8174C27.1246 25.5672 27.1708 25.2932 27.1083 24.9292C27.057 24.6969 26.9745 24.4576 26.8919 24.2179C26.8455 24.0831 26.799 23.9483 26.758 23.8145ZM23.5755 20.273C23.3866 20.866 23.3666 21.5628 23.583 22.202L24.2736 24.2724L23.3191 23.9547L22.1982 23.5806C21.5577 23.3654 20.8622 23.3867 20.2692 23.5769C19.8457 23.7282 19.6205 23.8485 19.4306 23.95C19.308 24.0154 19.2002 24.073 19.0633 24.126C18.743 24.2674 18.419 24.3975 18.085 24.5038C17.4232 24.7253 16.7365 24.8666 16.0434 24.9429C14.6536 25.093 13.225 24.9379 11.9027 24.5126C9.25064 23.6507 6.97261 21.6191 5.84298 19.0633C5.25503 17.7961 5.01859 16.3975 5.00233 14.9927C4.98857 13.5928 5.27379 12.193 5.858 10.9233C6.99763 8.36877 9.24939 6.33969 11.909 5.47276C13.2362 5.03117 14.6586 4.91733 16.0534 5.05994C17.4558 5.16753 18.7956 5.62288 20.0078 6.32217C22.4296 7.72201 24.2348 10.1764 24.7852 12.9073C25.0654 14.2884 25.0742 15.7132 24.7765 17.078C24.6289 17.7598 24.4149 18.4278 24.1247 19.0646C24.0727 19.2036 24.0139 19.3132 23.9463 19.4392C23.8448 19.6285 23.7235 19.8547 23.5755 20.273ZM7.75785 14.991C7.75785 15.9218 8.51845 16.6824 9.44917 16.6824C10.3799 16.6824 11.1405 15.9218 11.1405 14.991C11.1405 14.0616 10.3799 13.301 9.44917 13.301C8.51845 13.301 7.75785 14.0616 7.75785 14.991ZM13.3586 14.991C13.3586 15.9218 14.1204 16.6824 15.0499 16.6824C15.9806 16.6824 16.7412 15.9218 16.7412 14.991C16.7412 14.0616 15.9806 13.301 15.0499 13.301C14.1204 13.301 13.3586 14.0616 13.3586 14.991ZM20.6511 16.6824C19.7204 16.6824 18.9598 15.9218 18.9598 14.991C18.9598 14.0616 19.7204 13.301 20.6511 13.301C21.5806 13.301 22.3425 14.0616 22.3425 14.991C22.3425 15.9218 21.5806 16.6824 20.6511 16.6824Z",fill:"currentcolor"})),o.createElement("symbol",{id:"chat-question-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M26.0276 20.8538C25.7201 21.43 25.6964 22.1175 25.9039 22.7375L26.7014 25.1313C27.0276 26.1075 26.0989 27.0375 25.1214 26.7125C24.5483 26.5212 23.9457 26.3205 23.4071 26.141C23.161 26.059 22.9282 25.9815 22.7176 25.9113C22.1014 25.7063 21.4214 25.73 20.8476 26.0363C18.4114 27.335 15.5039 27.8625 12.4339 27.245C7.43264 26.2388 3.47764 22.1288 2.66139 17.0938C1.27889 8.56005 8.54639 1.2913 17.0801 2.6713C22.1164 3.4863 26.2276 7.44255 27.2339 12.4425C27.8514 15.5113 27.3264 18.4175 26.0276 20.8538ZM16.0382 18.1763H13.6621V17.2909C13.6621 15.8465 14.4437 14.4922 15.7518 13.6668C16.8361 12.984 17.4238 12.4925 17.4238 11.8572C17.4238 10.5904 16.1733 9.90635 14.9977 9.90635C13.7047 9.90635 12.5717 10.818 12.5717 11.8572H10.1956C10.1956 9.51243 12.3941 7.53029 14.9977 7.53029C17.6902 7.53029 19.7999 9.43114 19.7999 11.8572C19.7999 13.9244 18.0591 15.0224 17.0186 15.6764C16.7235 15.8628 16.0382 16.393 16.0382 17.2909V18.1763ZM16.4809 21.161C16.4809 22.0201 15.7856 22.7154 14.9265 22.7154C14.0686 22.7154 13.372 22.0201 13.372 21.161C13.372 20.3019 14.0686 19.6066 14.9265 19.6066C15.7856 19.6066 16.4809 20.3019 16.4809 21.161Z",fill:"currentcolor"})),o.createElement("symbol",{id:"chat-question",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M25.9583 21.4119L26.99 24.5058C27.2864 25.4287 27.1226 25.9326 26.6373 26.5367C26.3897 26.8068 26.0496 26.9944 25.7557 27.0707C25.4756 27.1457 25.1067 27.1769 24.6715 27.0406L22.0015 26.1515L21.4838 25.9789C21.3656 25.9395 21.3529 25.9381 21.3138 25.9338C21.3032 25.9327 21.2907 25.9313 21.2737 25.9289C21.1599 25.9226 21.0148 25.9501 20.871 26.0264C19.4666 26.7793 17.8697 27.2757 16.2602 27.4358C13.0388 27.7772 9.68352 26.7855 7.17365 24.7409C4.65127 22.7275 2.90549 19.6874 2.59536 16.4459C2.17767 13.2395 3.15185 9.87797 5.13149 7.32058C7.13488 4.78945 10.12 2.98489 13.3577 2.61598C16.5541 2.16953 19.9494 3.01866 22.5243 5.00204C25.1242 6.9304 26.9125 9.93675 27.3664 13.1519C27.599 14.7464 27.5302 16.3996 27.1413 17.9741C26.945 18.7619 26.6724 19.5298 26.3297 20.2639C26.2776 20.3826 26.2182 20.4983 26.1589 20.6138C26.1258 20.6784 26.0927 20.7429 26.0608 20.8079C25.9947 20.932 25.9845 20.9646 25.9625 21.0356L25.957 21.053C25.9195 21.1943 25.9258 21.3106 25.9583 21.4119ZM23.586 22.2022C23.3859 21.6107 23.3871 20.9679 23.541 20.4052C23.6097 20.1363 23.7461 19.8274 23.8486 19.6398C23.8742 19.5874 23.9008 19.5357 23.9275 19.4841L23.9275 19.484C23.9752 19.3917 24.0228 19.2996 24.0637 19.2034C24.3388 18.6156 24.5564 18.0028 24.7127 17.3751C25.0229 16.1183 25.0791 14.8014 24.8916 13.5108C24.5264 10.9447 23.1083 8.55113 21.0173 6.99919C18.9577 5.41098 16.2627 4.73943 13.6841 5.09584C11.0954 5.38221 8.71559 6.83661 7.10487 8.85752C5.52792 10.9122 4.74006 13.5721 5.08022 16.1658C5.32157 18.7482 6.71219 21.1668 8.73935 22.7912C10.7603 24.4332 13.4164 25.2173 16.0063 24.9485C17.3019 24.8146 18.5425 24.4345 19.7118 23.8104C20.212 23.5478 20.801 23.3978 21.4175 23.4328C21.7014 23.4415 22.0803 23.5341 22.2741 23.6054L22.7931 23.7792L24.275 24.2732L23.586 22.2022ZM16.4808 21.1609C16.4808 22.02 15.7855 22.7153 14.9264 22.7153C14.0685 22.7153 13.3719 22.02 13.3719 21.1609C13.3719 20.3018 14.0685 19.6064 14.9264 19.6064C15.7855 19.6064 16.4808 20.3018 16.4808 21.1609ZM13.6621 18.1762H16.0381V17.2908C16.0381 16.3929 16.7234 15.8626 17.0186 15.6763C18.059 15.0223 19.7998 13.9243 19.7998 11.8571C19.7998 9.43103 17.6901 7.53018 14.9976 7.53018C12.394 7.53018 10.1955 9.51231 10.1955 11.8571H12.5716C12.5716 10.8179 13.7046 9.90624 14.9976 9.90624C16.1732 9.90624 17.4237 10.5903 17.4237 11.8571C17.4237 12.4924 16.836 12.9839 15.7517 13.6667C14.4437 14.492 13.6621 15.8464 13.6621 17.2908V18.1762Z",fill:"currentcolor"})),o.createElement("symbol",{id:"comment-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M8.75 3.75C5.98858 3.75 3.75 5.98858 3.75 8.75V26.1996C3.75 27.7718 5.56862 28.6459 6.7963 27.6637L11.0037 24.2978C11.447 23.9432 11.9978 23.75 12.5654 23.75H21.25C24.0114 23.75 26.25 21.5114 26.25 18.75V8.75C26.25 5.98858 24.0114 3.75 21.25 3.75H8.75ZM8.75 11.25C8.75 10.5596 9.30964 10 10 10H20C20.6904 10 21.25 10.5596 21.25 11.25C21.25 11.9404 20.6904 12.5 20 12.5H10C9.30964 12.5 8.75 11.9404 8.75 11.25ZM8.75 16.25C8.75 15.5596 9.30964 15 10 15H20C20.6904 15 21.25 15.5596 21.25 16.25C21.25 16.9404 20.6904 17.5 20 17.5H10C9.30964 17.5 8.75 16.9404 8.75 16.25Z",fill:"currentcolor"})),o.createElement("symbol",{id:"comment",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M3.75 8.75C3.75 5.98858 5.98858 3.75 8.75 3.75H21.25C24.0114 3.75 26.25 5.98858 26.25 8.75V18.75C26.25 21.5114 24.0114 23.75 21.25 23.75H12.5654C11.9978 23.75 11.447 23.9432 11.0037 24.2978L6.7963 27.6637C5.56862 28.6459 3.75 27.7718 3.75 26.1996V8.75ZM8.75 6.25C7.36929 6.25 6.25 7.36929 6.25 8.75V24.8992L9.44195 22.3457C10.3285 21.6364 11.4301 21.25 12.5654 21.25H21.25C22.6307 21.25 23.75 20.1307 23.75 18.75V8.75C23.75 7.36929 22.6307 6.25 21.25 6.25H8.75ZM10 11.25C10 10.5596 10.5596 10 11.25 10H18.75C19.4404 10 20 10.5596 20 11.25C20 11.9404 19.4404 12.5 18.75 12.5H11.25C10.5596 12.5 10 11.9404 10 11.25ZM11.25 15C10.5596 15 10 15.5596 10 16.25C10 16.9404 10.5596 17.5 11.25 17.5H18.75C19.4404 17.5 20 16.9404 20 16.25C20 15.5596 19.4404 15 18.75 15H11.25Z",fill:"currentcolor"})),o.createElement("symbol",{id:"communication",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M12.2264 21.2029C11.8014 20.4558 11.5011 19.6285 11.3537 18.7493C11.2855 18.343 11.2501 17.9256 11.2501 17.5C11.2501 13.3924 14.5521 10.0561 18.6465 10.0007C18.681 10.0002 18.7155 10 18.7501 10C19.6138 10 20.4435 10.146 21.2157 10.4147C24.1466 11.4345 26.2501 14.2216 26.2501 17.5C26.2501 19.0701 25.7676 20.5275 24.9429 21.732L26.2501 25L22.9821 23.6928C21.7775 24.5175 20.3201 25 18.7501 25C15.9546 25 13.5164 23.4706 12.2264 21.2029ZM8.75007 17.5C8.75007 12.3066 12.7091 8.03782 17.7737 7.54706C16.4837 5.27938 14.0455 3.75 11.2501 3.75C7.10794 3.75 3.75007 7.10786 3.75007 11.25C3.75007 12.8201 4.23252 14.2775 5.05727 15.482L3.75007 18.75L7.01806 17.4428C7.55995 17.8138 8.153 18.1156 8.78447 18.3353C8.76169 18.0599 8.75007 17.7813 8.75007 17.5ZM11.2501 1.25C15.511 1.25 19.1494 3.91488 20.5897 7.66886C25.2339 8.53246 28.7501 12.6056 28.7501 17.5C28.7501 19.089 28.3779 20.5955 27.7158 21.9328L28.5713 24.0715C28.9427 25.0001 28.725 26.0606 28.0178 26.7678C27.3107 27.4749 26.2501 27.6926 25.3216 27.3212L23.1828 26.4657C21.8456 27.1278 20.3391 27.5 18.7501 27.5C14.489 27.5 10.8504 24.8349 9.41024 21.0807C8.49682 20.9105 7.62613 20.6161 6.81732 20.2157L4.67855 21.0712C3.75001 21.4426 2.68946 21.2249 1.98231 20.5178C1.27515 19.8106 1.05746 18.7501 1.42888 17.8215L2.28439 15.6827C1.6223 14.3455 1.25007 12.839 1.25007 11.25C1.25007 5.72715 5.72723 1.25 11.2501 1.25ZM16.2501 17.5C16.2501 18.1904 15.6904 18.75 15.0001 18.75C14.3097 18.75 13.7501 18.1904 13.7501 17.5C13.7501 16.8096 14.3097 16.25 15.0001 16.25C15.6904 16.25 16.2501 16.8096 16.2501 17.5ZM18.7501 18.75C19.4404 18.75 20.0001 18.1904 20.0001 17.5C20.0001 16.8096 19.4404 16.25 18.7501 16.25C18.0597 16.25 17.5001 16.8096 17.5001 17.5C17.5001 18.1904 18.0597 18.75 18.7501 18.75ZM22.5001 18.75C23.1904 18.75 23.7501 18.1904 23.7501 17.5C23.7501 16.8096 23.1904 16.25 22.5001 16.25C21.8097 16.25 21.2501 16.8096 21.2501 17.5C21.2501 18.1904 21.8097 18.75 22.5001 18.75Z",fill:"currentcolor"})),o.createElement("symbol",{id:"headset",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M15 2.5C20.5137 2.5 25 6.98625 25 12.5V21.25C25 21.94 24.44 22.5 23.75 22.5H20.625C19.5912 22.5 18.75 21.6588 18.75 20.625V14.375C18.75 13.3412 19.5912 12.5 20.625 12.5H22.5C22.5 8.36375 19.1363 5 15 5C10.8637 5 7.5 8.36375 7.5 12.5H9.375C10.4088 12.5 11.25 13.3412 11.25 14.375V20.625C11.25 21.6588 10.4088 22.5 9.375 22.5H7.5V23.75C7.5 24.4387 8.06125 25 8.75 25H13.75C14.4404 25 15 25.5596 15 26.25C15 26.9404 14.4404 27.5 13.75 27.5H8.75C6.6825 27.5 5 25.8175 5 23.75V12.5C5 6.98625 9.48625 2.5 15 2.5Z",fill:"currentcolor"})),o.createElement("symbol",{id:"help-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M15.0005 2.50024C21.9038 2.50024 27.5005 8.09655 27.5005 15.0002C27.5005 21.9039 21.9038 27.5002 15.0005 27.5002C8.09638 27.5002 2.50049 21.9044 2.50049 15.0002C2.50049 8.09614 8.09638 2.50024 15.0005 2.50024ZM16.0387 18.1764H13.6626V17.291C13.6626 15.8466 14.4442 14.4922 15.7523 13.6669C16.8365 12.984 17.4243 12.4926 17.4243 11.8573C17.4243 10.5905 16.1737 9.90642 14.9982 9.90642C13.7051 9.90642 12.5721 10.8181 12.5721 11.8573H10.1961C10.1961 9.5125 12.3946 7.53036 14.9982 7.53036C17.6907 7.53036 19.8004 9.43121 19.8004 11.8573C19.8004 13.9245 18.0596 15.0225 17.0191 15.6765C16.724 15.8628 16.0387 16.3931 16.0387 17.291V18.1764ZM14.9269 22.7155C14.0691 22.7155 13.3725 22.0202 13.3725 21.1611C13.3725 20.3019 14.0691 19.6066 14.9269 19.6066C15.7861 19.6066 16.4814 20.3019 16.4814 21.1611C16.4814 22.0202 15.7861 22.7155 14.9269 22.7155Z",fill:"currentcolor"})),o.createElement("symbol",{id:"send-forward-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M26.1482 6.26333L3.64868 6.26305C3.14742 6.26233 2.69385 6.56173 2.49869 7.0237C2.30182 7.48522 2.40048 8.0186 2.74753 8.3797L9.68474 15.5953L22.1471 9.31817L22.5858 10.0781L10.9315 17.7622L13.6518 27.4139C13.7884 27.898 14.2011 28.2529 14.6999 28.3143C14.9759 28.3498 15.2489 28.2903 15.4795 28.1571C15.6657 28.0496 15.8255 27.8939 15.9376 27.7007L27.2307 8.13828C27.455 7.75184 27.4545 7.27585 27.2307 6.88831C27.0076 6.50184 26.5956 6.26336 26.1482 6.26333",fill:"currentcolor"})),o.createElement("symbol",{id:"send-forward",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M12.0263 14.3042L6.68602 8.75008H21.6031L12.0263 14.3042ZM26.2359 6.25007H3.75005C2.64821 6.25007 2.08531 7.57218 2.84899 8.36643L10.6869 16.5181L13.7531 27.4003C14.0531 28.4648 15.4859 28.6441 16.0388 27.6863L27.3255 8.13739C27.3338 8.12322 27.3419 8.10889 27.3497 8.09442C27.7937 7.27616 27.2145 6.27392 26.2834 6.25048C26.2676 6.25004 26.2517 6.2499 26.2359 6.25007ZM22.8259 10.931L13.2713 16.4722L15.3557 23.8696L22.8259 10.931Z",fill:"currentcolor"})),o.createElement("symbol",{id:"sms-filled",viewBox:"0 0 30 30"},o.createElement("path",{mask:"url(#ch-icons-mask)",fillRule:"evenodd",d:"M26.875 15C26.875 20.5228 21.5584 25 15 25C14.1389 25 13.2992 24.9228 12.4901 24.7762C10.5908 26.4003 8.37401 27.1166 7.07099 27.4174C6.6468 27.5154 6.35471 27.0422 6.58178 26.6707C7.08684 25.8445 7.77266 24.5635 8.15573 23.173C5.11232 21.3623 3.125 18.3766 3.125 15C3.125 9.47715 8.44162 5 15 5C21.5584 5 26.875 9.47715 26.875 15ZM7.5 14.9993C7.5 16.0315 8.34489 16.875 9.37569 16.875C10.4079 16.875 11.2514 16.0315 11.2514 14.9993C11.2514 13.9685 10.4079 13.125 9.37569 13.125C8.34489 13.125 7.5 13.9685 7.5 14.9993ZM13.125 14.9993C13.125 16.0315 13.9699 16.875 15.0007 16.875C16.0329 16.875 16.8764 16.0315 16.8764 14.9993C16.8764 13.9685 16.0329 13.125 15.0007 13.125C13.9699 13.125 13.125 13.9685 13.125 14.9993ZM20.6257 16.875C19.5949 16.875 18.75 16.0315 18.75 14.9993C18.75 13.9685 19.5949 13.125 20.6257 13.125C21.6579 13.125 22.5014 13.9685 22.5014 14.9993C22.5014 16.0315 21.6579 16.875 20.6257 16.875Z",fill:"currentcolor"})),o.createElement("symbol",{id:"sms",viewBox:"0 0 30 30"},o.createElement("g",{mask:"url(#ch-icons-mask)"},o.createElement("path",{d:"M7.5 14.9993C7.5 16.0315 8.34489 16.875 9.37569 16.875C10.4079 16.875 11.2514 16.0315 11.2514 14.9993C11.2514 13.9685 10.4079 13.125 9.37569 13.125C8.34489 13.125 7.5 13.9685 7.5 14.9993Z",fill:"currentColor"}),o.createElement("path",{d:"M13.125 14.9993C13.125 16.0315 13.9699 16.875 15.0007 16.875C16.0329 16.875 16.8764 16.0315 16.8764 14.9993C16.8764 13.9685 16.0329 13.125 15.0007 13.125C13.9699 13.125 13.125 13.9685 13.125 14.9993Z",fill:"currentColor"}),o.createElement("path",{d:"M20.6257 16.875C19.5949 16.875 18.75 16.0315 18.75 14.9993C18.75 13.9685 19.5949 13.125 20.6257 13.125C21.6579 13.125 22.5014 13.9685 22.5014 14.9993C22.5014 16.0315 21.6579 16.875 20.6257 16.875Z",fill:"currentColor"}),o.createElement("path",{fillRule:"evenodd",d:"M15 3.75C7.96117 3.75 1.875 8.59411 1.875 15C1.875 18.5603 3.78885 21.6689 6.66906 23.6979C6.36904 24.49 5.98744 25.221 5.65041 25.7935C5.26104 26.4549 5.31755 27.2305 5.69195 27.8008C6.08079 28.3931 6.82826 28.7712 7.65541 28.562C8.97104 28.2292 10.9899 27.531 12.8437 26.0991C13.546 26.1984 14.2664 26.25 15 26.25C22.0388 26.25 28.125 21.4059 28.125 15C28.125 8.59411 22.0388 3.75 15 3.75ZM4.375 15C4.375 10.3602 8.92207 6.25 15 6.25C21.0779 6.25 25.625 10.3602 25.625 15C25.625 19.6398 21.0779 23.75 15 23.75C14.2136 23.75 13.4485 23.6795 12.713 23.5462L12.1289 23.4404L11.6777 23.8262C10.669 24.6887 9.54739 25.2699 8.54952 25.6573C8.85534 25.0093 9.1482 24.2768 9.36084 23.505L9.61398 22.586L8.79485 22.0987C6.05428 20.4682 4.375 17.8541 4.375 15Z",fill:"currentColor"}))))}const Wt=o.memo(Ht),jt=400,{isMobile:Gt}=g.Z,qt=$.F4`
  from {
    opacity: 0;
    transform: scale(0.8), translate(50%, -50%);
  }

  to {
    opacity: 1;
    transform: scale(1), translate(50%, -50%);
  }
`,Vt=()=>(0,be.iv)(["animation:"," ","ms "," backwards;"],qt,jt,_.Zs),Jt=(0,be.iv)(["top:","px;right:","px;transform:translate(50%,-50%);"],Gt?5:7,Gt?5:7),Kt=(0,be.zo)(Qe.R).withConfig({displayName:"Badge__MeetBadge",componentId:"ch-front__sc-1k3c5b2-0"})([""," position:absolute;min-width:18px;height:18px;padding:0;background:var(--bgtxt-cobalt-normal,#329be7);"," ",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev1()}),Jt,Vt),Yt=(0,be.zo)(Qe.R).withConfig({displayName:"Badge__AlertBadge",componentId:"ch-front__sc-1k3c5b2-1"})(["position:absolute;min-width:18px;height:18px;font-size:12px;line-height:16px;color:",";"," background-color:",";border-radius:12px;"," ",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-absolute-white-dark"]}),(e=>{let{foundation:t}=e;return Gt?null==t?void 0:t.elevation.ev2():null==t?void 0:t.elevation.ev1()}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-red-normal"]}),Jt,Vt),Xt=be.zo.div.withConfig({displayName:"Badge__BaseUnreadBadge",componentId:"ch-front__sc-1k3c5b2-2"})(["position:absolute;top:0;right:0;width:10px;height:10px;background-color:",";border-radius:50%;"," ",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-red-normal"]}),Jt,Vt),Qt=(0,be.zo)(Xt).withConfig({displayName:"Badge__PcUnreadBadge",componentId:"ch-front__sc-1k3c5b2-3"})(["background-clip:padding-box;border:2px solid ",";"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-absolute-white-normal"]})),en=(0,be.zo)(Xt).withConfig({displayName:"Badge__MobileUnreadBadge",componentId:"ch-front__sc-1k3c5b2-4"})([""," background-color:",";"],(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev2()}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-red-normal"]})),tn=Gt?en:Qt;function nn(){const{translate:e}=(0,z.Z)(),t=(0,v.Z)(b.Z.userSelectors.getUserUnread),n=(0,v.Z)(b.Z.userSelectors.getUserAlertWithPlus),r=(0,v.Z)(b.Z.uiSelectors.showMessenger),s=(0,v.Z)(b.Z.meetSelectors.showRingPopup),i=(0,v.Z)(b.Z.meetSelectors.getHasLiveMeet);return r?null:i||s?o.createElement(Kt,null,o.createElement(R.J,{source:M.V,size:N.J.XS})):n?o.createElement(Yt,{role:"status","aria-label":`, ${e("ch.lounge.card.chat_list.unread_count",n)}`},n):t?o.createElement(tn,{role:"status","aria-label":", there are unread messages"}):null}var rn=n(82667);const{isMobile:on}=g.Z,sn=on?rn.zw:rn.HN,an=on?rn.qk:rn._z,ln=(0,$.F4)(["from{opacity:0;transform:scale3d(0.9,0.9,1);}to{opacity:1;transform:scale3d(1,1,1);}"]),cn=be.zo.div.withConfig({displayName:"ChatButtonContainer__Container",componentId:"ch-front__sc-qgvnh9-0"})(["position:relative;box-sizing:border-box;display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;width:","px;height:","px;overflow:initial;cursor:pointer;backdrop-filter:blur(30px);border-radius:","px;will-change:transform,opacity;transition:transform ","ms "," 10ms,box-shadow ","ms ease-out;"," &:hover{box-shadow:0 8px 30px 0 rgba(0,0,0,0.1);}&:active{transition:transform 0s;transform:scale3d(0.9,0.9,1);}"],sn,sn,an,jt,_.Zs,200,(()=>(0,be.iv)(["animation:"," ","ms "," backwards;"],ln,jt,_.Zs)));function un(e){let{children:t}=e;return o.createElement(cn,null,t,o.createElement(nn,null))}var hn=n(15964);const dn=(0,be.iv)(["box-shadow:inset 0 0 0 1px rgba(255,255,255,20%),0 4px 6px rgba(0,0,0,10%),0 8px 30px rgba(0,0,0,15%);"]);function pn(e){let{icon:t,...n}=e;return o.createElement("svg",n,o.createElement("use",{href:`#${t}`}))}const mn=g.Z.isMobile?rn.qk:rn._z,gn=g.Z.isMobile?30:36,fn=be.zo.div.withConfig({displayName:"IconButtonView__Background",componentId:"ch-front__sc-vtu014-0"})(["cursor:pointer;position:absolute;display:flex;align-items:center;justify-content:center;width:100%;height:100%;visibility:",";border-radius:","px;",";"," ",""],(e=>{let{show:t}=e;return t?"visible":"hidden"}),mn,(e=>{let{show:t}=e;return t?be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.Ji} ${jt}ms ${_.Zs}
    both;
`:be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.U6} ${jt}ms ${_.Zs}
    both;
`}),(e=>{let{foundation:t}=e;return be.iv`
    background: linear-gradient(
      180deg,
      ${null==t?void 0:t.color} 0%,
      ${null==t?void 0:t.gradientColor} 100%
    );
  `}),dn);function vn(){const e=Bt(),t=(0,v.Z)(b.Z.uiSelectors.showMessenger),n=(0,v.Z)(b.Z.pluginSelectors.showIconButton),r=(0,v.Z)(b.Z.pluginSelectors.iconButton),{pluginIconColor:s}=(0,v.Z)((0,m.N)(b.Z.channelProfileSelectors.channelProfileTheme)),i=!t&&!e&&n;return o.createElement(fn,{show:i},o.createElement(pn,{icon:(a=r,l=s,"channel-filled"!==a||(0,hn.hL)(l)?a:"channel"),width:gn,height:gn,color:s}));var a,l}const bn=g.Z.isMobile?rn.qk:rn._z,_n=be.zo.div.withConfig({displayName:"ImageCustomButtonView__Wrapper",componentId:"ch-front__sc-1s91m5o-0"})(["cursor:pointer;position:absolute;width:100%;height:100%;visibility:",";",";"],(e=>{let{show:t}=e;return t?"visible":"hidden"}),(e=>{let{show:t}=e;return t?be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.Ji} ${jt}ms ${_.Zs}
    both;
`:be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.U6} ${jt}ms ${_.Zs}
    both;
`})),yn=be.zo.div.withConfig({displayName:"ImageCustomButtonView__CustomImageBg",componentId:"ch-front__sc-1s91m5o-1"})(["width:100%;height:100%;background-color:",";"," border-radius:","px;",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-absolute-white-normal"]}),(e=>{let{src:t}=e;return(0,ie.Vz)(t)}),bn,dn);function Cn(){const e=Bt(),t=(0,v.Z)(b.Z.uiSelectors.showMessenger),n=(0,v.Z)(b.Z.pluginSelectors.customImageUrl),r=(0,v.Z)(b.Z.pluginSelectors.buttonType),s=!t&&!e&&r===Lt.B.CustomImage;return n?o.createElement(_n,{show:s,"data-testid":"img-custom-btn"},o.createElement(yn,{src:n})):null}var wn=n(29286);const En=be.zo.div.withConfig({displayName:"MinimizeButtonView__Wrapper",componentId:"ch-front__sc-1idijj-0"})(["will-change:opacity,visibility;cursor:pointer;position:absolute;display:flex;align-items:center;justify-content:center;width:100%;height:100%;visibility:",";background-color:",";border-radius:","px;",";",""],(e=>{let{show:t}=e;return t?"visible":"hidden"}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-lounge"]}),rn._z,(e=>{let{show:t}=e;return t?be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.Ji} ${jt}ms ${_.Zs}
    both;
`:be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.U6} ${jt}ms ${_.Zs}
    both;
`}),dn);function Sn(){const e=(0,v.Z)(b.Z.uiSelectors.showMessenger);return o.createElement(En,{show:e,"data-ch-testid":"minimize-button"},o.createElement(R.J,{source:wn.C,size:N.J.L,color:"txt-black-darker","aria-hidden":"true"}))}var Zn=n(3164);const In=be.zo.div.withConfig({displayName:"SenderButtonView__Wrapper",componentId:"ch-front__sc-1aik3pi-0"})(["cursor:pointer;position:absolute;width:100%;height:100%;visibility:",";",";"],(e=>{let{show:t}=e;return t?"visible":"hidden"}),(e=>{let{show:t}=e;return t?be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.Ji} ${jt}ms ${_.Zs}
    both;
`:be.iv`
  transition: visibility ${jt}ms;
  animation: ${_.U6} ${jt}ms ${_.Zs}
    both;
`})),kn=be.zo.div.withConfig({displayName:"SenderButtonView__SenderAvatarBg",componentId:"ch-front__sc-1aik3pi-1"})(["width:100%;height:100%;background-color:",";"," border-radius:","px;",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-absolute-white-normal"]}),(e=>{let{src:t}=e;return(0,ie.Vz)(t)}),rn._z,dn);function xn(){const e=(0,v.Z)(b.Z.popupSelectors.getPopupMessage),t=Bt(),{avatarUrl:n}=(0,Zn.Z)(e),r=(0,v.Z)(b.Z.meetSelectors.getRingAvatarUrl)||n;return r?o.createElement(In,{show:t},o.createElement(kn,{src:r})):null}function Tn(){const{translate:e}=(0,z.Z)(),t=(0,v.Z)(b.Z.channelProfileSelectors.channelName),n=(0,v.Z)(b.Z.uiSelectors.showMessenger),r=function(){const e=(0,v.Z)(b.Z.popupSelectors.popupUserChatId),t=(0,v.Z)(b.Z.uiSelectors.showMessenger),n=Bt();return()=>{if(!t)return n?(v.S.setShowMessenger.run(!0),void v.S.goUserChat(e)):void v.S.setShowMessenger.run(!0);v.S.setShowMessenger.run(!1)}}();return g.Z.isMobile&&n?null:o.createElement("button",{type:"button",onClick:r},o.createElement(un,null,o.createElement("span",{className:"a11y-hidden"},e("ch.launcher.custom_alt",t)),o.createElement(xn,null),o.createElement(Cn,null),o.createElement(vn,null),o.createElement(Sn,null)))}const An=be.zo.button.withConfig({displayName:"LegacyImageCustomButton__ImageLauncherButton",componentId:"ch-front__sc-13afzgx-0"})(["cursor:pointer;position:relative;overflow:visible;display:flex;align-items:center;justify-content:center;"]),Mn=be.zo.img.withConfig({displayName:"LegacyImageCustomButton__Image",componentId:"ch-front__sc-13afzgx-1"})(["width:","px;height:","px;"],(e=>e.width),(e=>e.height)),Pn=function(){const e=(0,v.Z)(b.Z.pluginSelectors.getPlugin),t=(0,v.Z)(b.Z.channelProfileSelectors.channelName),{translate:n}=(0,z.Z)(),r=e.legacyImageUrl,s=e.getImage();return o.createElement(An,{id:"ch-plugin-launcher",type:"button",onClick:()=>{v.S.setShowMessenger.run(!0)}},o.createElement("span",{className:"a11y-hidden"},n("ch.launcher.custom_alt",t)),o.createElement(Mn,{alt:"",src:r,width:((null==s?void 0:s.width)??0)/2,height:((null==s?void 0:s.height)??0)/2}),o.createElement(nn,null))},Rn=be.zo.div.withConfig({displayName:"PCBubbleBackground__Gradient",componentId:"ch-front__sc-9jm6jh-0"})(["pointer-events:none;position:fixed;bottom:0;width:400px;height:400px;background:radial-gradient( 88.57% 77.67% at 90.77% 86.84%,rgba(39,46,58,20%) 0%,rgba(39,46,58,0%) 100% );"," ",""],(e=>{let{isLeft:t}=e;return t?(0,be.iv)(["left:0;transform:scaleX(-1);"]):(0,be.iv)(["right:0;"])}),(e=>{let{show:t}=e;return t?(0,be.iv)(["animation:"," ","ms "," both;"],_.Ji,jt,_.Zs):(0,be.iv)(["animation:"," ","ms "," both;"],_.U6,jt,_.Zs)})),Nn=function(){const e=(0,v.Z)(b.Z.popupSelectors.showPopup),t=(0,v.Z)(b.Z.popupSelectors.isFullscreen),n=(0,v.Z)(b.Z.pluginSelectors.getPlugin),{render:r,onAnimationEnd:s}=A(e&&!t),i="left"===n.getPosition();return r?o.createElement(Rn,{isLeft:i,show:e,onAnimationEnd:s}):null};var On=n(53212),Ln=n(48384);const{isMobile:Un}=g.Z,Dn=function(){const e=(0,v.Z)(b.Z.pluginSelectors.getPlugin),t=(0,v.Z)(b.Z.pluginSelectors.showIconButton),n=(0,v.Z)(b.Z.uiSelectors.showMessenger),r=(0,v.Z)(b.Z.popupSelectors.isFullscreenPopupActive),s=Bt(),i=function(){const{isMobile:e}=g.Z,t=(0,v.Z)(b.Z.pluginSelectors.isBooted),n=(0,v.Z)(b.Z.popupSelectors.showLabelBtn),r=Bt(),o=(0,v.Z)(b.Z.uiSelectors.showMessenger)&&!g.Z.isMobile,s=Dt();return!!t&&(!!o||!!r||(!n||!e)&&s)}(),a=e.buttonType===Lt.B.Legacy&&e.legacyImageUrl&&!n&&!s,l=(()=>{const t=e.getMargin();return{pluginPosition:e.getPosition(),mobileBubblePosition:e.mobileBubblePosition,xPosition:t.marginX,yPosition:t.marginY}})();return function(){const e=function(){const e=(0,v.Z)(b.Z.pluginSelectors.getPlugin),t=(0,v.Z)(b.Z.popupSelectors.showPopup),n=(0,v.Z)(b.Z.userSelectors.getPopUpChatId),r=Dt(),o=On.Z.getItem(Ln.Z.LABEL_BUTTON_VISIBILITY)??!0;return e.labelButton&&e.buttonType!==Lt.B.Legacy&&r&&o&&!n&&!t}(),t=function(){const e=(0,v.Z)(b.Z.popupSelectors.popupType),t=!Dt();return e===zt.k.LabelButton&&t}();(0,o.useEffect)((function(){e&&v.S.initializeLabelButton.run()}),[]),(0,o.useEffect)((function(){t&&v.S.setPopupActive({active:!1})}),[t])}(),o.createElement(o.Fragment,null,t&&o.createElement(Wt,null),!Un&&o.createElement(Nn,null),o.createElement($t,{"data-ch-testid":"launcher",hidden:!i,launcherPosition:l,isFullscreenPopupActive:r},a?o.createElement(Pn,null):o.createElement(Tn,null)))};var zn=n(18204),Bn=n(48825),Fn=n(16231),$n=n(43354),Hn=n(48126);const Wn=be.zo.div.withConfig({displayName:"LabelButtonStatus__Status",componentId:"ch-front__sc-c6z8yp-0"})(["display:flex;column-gap:4px;align-items:center;",""],(e=>{let{dim:t,foundation:n}=e;return t?be.iv`
          color: ${null==n?void 0:n.theme["txt-black-dark"]};
        `:""})),jn=function(){const{translate:e}=(0,z.Z)();return(0,v.Z)(b.Z.channelOperationSelectors.isSingleOperation)?o.createElement(Wn,null,o.createElement(Hn.Jj,null),o.createElement(Hn.p3,{typo:J.ZT.PxSize13})):o.createElement(Wn,{dim:!0},o.createElement(R.J,{source:$n.S,size:N.J.XS}),o.createElement(Xe.Z,{typo:J.ZT.PxSize13,color:"txt-black-dark",truncated:!0},e("ch.label_button.description")))},Gn=function(){return{handleClickButton:()=>{v.S.setShowMessenger.run(!0),v.S.setPopupActive({active:!1})},handleClickCloseButton:e=>{e.stopPropagation(),v.S.setPopupActive({active:!1})}}},qn=be.zo.div.withConfig({displayName:"ChatButtonAvatar__Background",componentId:"ch-front__sc-xu2avx-0"})(["cursor:pointer;display:flex;align-items:center;justify-content:center;width:","px;height:","px;border-radius:","px;",""],42,42,18,(e=>{let{foundation:t}=e;return be.iv`
    background: linear-gradient(
      180deg,
      ${null==t?void 0:t.color} 0%,
      ${null==t?void 0:t.gradientColor} 100%
    );
  `})),Vn=be.zo.img.withConfig({displayName:"ChatButtonAvatar__CustomImage",componentId:"ch-front__sc-xu2avx-1"})(["display:block;width:","px;height:","px;object-fit:cover;background-color:",";border-radius:","px;"],42,42,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-absolute-white-normal"]}),18);function Jn(){const e=(0,v.Z)(b.Z.pluginSelectors.iconButton),t=(0,v.Z)(b.Z.pluginSelectors.buttonType),{pluginIconColor:n}=(0,v.Z)((0,m.N)(b.Z.channelProfileSelectors.channelProfileTheme)),r=(0,v.Z)(b.Z.pluginSelectors.customImageUrl),s=o.createElement(qn,null,o.createElement(pn,{icon:(i=e,a=n,"channel-filled"===i&&"#ffffff"!==a?"channel":i),width:28,height:28,color:n}));var i,a;const l=o.createElement(Vn,{src:r,alt:""});return t===Lt.B.CustomImage?l:s}const Kn=be.zo.button.withConfig({displayName:"MobileLabelButton__LabelButton",componentId:"ch-front__sc-iun71h-0"})(["cursor:pointer;position:relative;display:flex;align-items:center;box-sizing:border-box;width:100%;padding:12px 14px;",";background:",";border-radius:20px;"],(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev3()}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-white-high"]})),Yn=be.zo.div.withConfig({displayName:"MobileLabelButton__Wrapper",componentId:"ch-front__sc-iun71h-1"})(["position:relative;"]),Xn=be.zo.div.withConfig({displayName:"MobileLabelButton__TextWrapper",componentId:"ch-front__sc-iun71h-2"})(["overflow:hidden;display:flex;flex:1;flex-direction:column;max-width:100%;margin-left:8px;padding:0 0 0 2px;"]),Qn=be.zo.div.withConfig({displayName:"MobileLabelButton__Title",componentId:"ch-front__sc-iun71h-3"})(["overflow:hidden;padding-left:1px;font-weight:bold;color:",";"," text-align:left;text-overflow:ellipsis;white-space:nowrap;"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-pure"]}),J.ZT.PxSize16),er=be.zo.button.withConfig({displayName:"MobileLabelButton__CloseButton",componentId:"ch-front__sc-iun71h-4"})(["cursor:pointer;position:absolute;top:-12px;right:-6px;box-sizing:border-box;width:30px;height:30px;padding:5px;color:",";"," background-color:",";border-radius:18px;"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]}),(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev2()}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-white-high"]}));function tr(){const{translate:e}=(0,z.Z)(),t=(0,v.Z)(b.Z.pluginSelectors.getPlugin),n=(0,v.Z)(b.Z.userSelectors.getLanguage),r=t.getLabelButtonText(n),{handleClickButton:s,handleClickCloseButton:i}=Gn(),a=o.createElement(Xn,null,o.createElement(Qn,null,r),o.createElement(jn,null)),l=o.createElement(er,{type:"button","aria-label":e("ch.common.close"),onClick:i,"data-ch-testid":"label-button-close-button"},o.createElement(Bn.Z,{name:"cancel-bold",size:Fn.$.Small,defaultOpacity:1}));return o.createElement(Yn,null,o.createElement(Kn,{type:"button",onClick:s},o.createElement(Jn,null),a),l)}const nr=be.zo.div.withConfig({displayName:"OperatorAvatars__Wrapper",componentId:"ch-front__sc-1sex4br-0"})(["position:relative;width:42px;height:42px;"]),rr=be.iv`
  position: absolute;

  overflow: hidden;

  width: 24px;
  height: 24px;

  background-color: ${e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-white-high"]}};
  ${e=>{let{src:t}=e;return(0,ie.Vz)(t)}}
  border: 2px solid ${e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-white-high"]}};
  border-radius: 12.6px;
`,or=be.zo.div.withConfig({displayName:"OperatorAvatars__FirstAvatar",componentId:"ch-front__sc-1sex4br-1"})(["top:-1px;left:-1px;",""],rr),sr=be.zo.div.withConfig({displayName:"OperatorAvatars__SecondAvatar",componentId:"ch-front__sc-1sex4br-2"})(["right:-1px;bottom:-1px;",""],rr);function ir(){const e=(0,v.Z)(b.Z.managerSelectors.getOperators);return o.createElement(nr,null,o.createElement(or,{src:e[0].avatarUrl}),o.createElement(sr,{src:e[1].avatarUrl}))}const ar=be.zo.button.withConfig({displayName:"PCLabelButton__LabelButton",componentId:"ch-front__sc-1viw4do-0"})(["cursor:pointer;position:relative;display:flex;align-items:center;box-sizing:border-box;width:100%;padding:14px 48px 14px 14px;",";background:",";border-radius:20px;"],(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev3()}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-white-high"]})),lr=be.zo.div.withConfig({displayName:"PCLabelButton__Wrapper",componentId:"ch-front__sc-1viw4do-1"})(["position:relative;min-width:270px;"]),cr=be.zo.div.withConfig({displayName:"PCLabelButton__TextWrapper",componentId:"ch-front__sc-1viw4do-2"})(["overflow:hidden;display:flex;flex:1;flex-direction:column;gap:2px;max-width:100%;padding:1px 2px;",""],(e=>{let{showAvatar:t}=e;return t&&be.iv`
      margin-left: 4px;
    `})),ur=be.zo.div.withConfig({displayName:"PCLabelButton__Title",componentId:"ch-front__sc-1viw4do-3"})(["overflow:hidden;font-weight:bold;color:",";"," text-align:left;text-overflow:ellipsis;white-space:nowrap;"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-pure"]}),J.ZT.PxSize15),hr=(0,be.zo)(Bn.Z).withConfig({displayName:"PCLabelButton__CloseIcon",componentId:"ch-front__sc-1viw4do-4"})(["display:block;"]),dr=be.zo.button.withConfig({displayName:"PCLabelButton__CloseButton",componentId:"ch-front__sc-1viw4do-5"})(["cursor:pointer;padding:4px;color:",";background-color:",";border-radius:18px;"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-black-lighter"]})),pr=be.zo.div.withConfig({displayName:"PCLabelButton__CloseButtonArea",componentId:"ch-front__sc-1viw4do-6"})(["position:absolute;top:0;right:0;padding-top:10px;padding-right:10px;",""],(0,hn.jC)(be.iv`
    ${dr} {
      background-color: ${e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-black-dark"]}};
    }
  `));function mr(){const{translate:e}=(0,z.Z)(),t=(0,v.Z)(b.Z.pluginSelectors.getPlugin),n=(0,v.Z)(b.Z.userSelectors.getLanguage),r=(0,v.Z)(b.Z.managerSelectors.getOperators),s=t.getLabelButtonText(n),{handleClickButton:i,handleClickCloseButton:a}=Gn(),l=r.length>=2,c=o.createElement(pr,{onClick:a},o.createElement("span",{className:"a11y-hidden"},e("ch.common.close")),o.createElement(dr,null,o.createElement(hr,{name:"cancel-bold",size:Fn.$.Small,defaultOpacity:1}))),u=o.createElement(cr,{showAvatar:l},o.createElement(ur,null,s),o.createElement(jn,null));return o.createElement(lr,null,o.createElement(ar,{type:"button",onClick:i},l&&o.createElement(ir,null),u),c)}const gr=function(){return(0,o.useEffect)((()=>()=>{On.Z.setItem(Ln.Z.LABEL_BUTTON_VISIBILITY,!1)})),g.Z.isMobile?o.createElement(tr,null):o.createElement(mr,null)},fr=(0,$.iv)(["height:","px;background:var(--inverted-bg-lounge,rgba(36,36,40,90%));backdrop-filter:blur(30px);border-radius:20px;"],84),vr=$.ZP.div.withConfig({displayName:"MeetRingPopupContent__MobileBackground",componentId:"ch-front__sc-y33d0y-0"})(["",""],fr);function br(){return o.createElement(vr,null,o.createElement(oe,null))}const _r=$.ZP.div.withConfig({displayName:"MeetRingPopupContent__PCWrapper",componentId:"ch-front__sc-y33d0y-1"})(["width:320px;",""],fr);function yr(){return o.createElement(_r,null,o.createElement(oe,null))}const Cr=400,wr=[0,1,2,3,4,5,6,7],Er=[50,56.25,62.5,68.75,75,81.25,87.5,93.75,100],Sr=be.zo.div.withConfig({displayName:"MobileBubbleBackdrop__BackdropBlurLayer",componentId:"ch-front__sc-2ylxjx-0"})(["position:absolute;inset:0;z-index:",";backdrop-filter:blur(","px);pointer-events:none;mask:radial-gradient( ellipse at center,"," );",""],(e=>{let{layer:t}=e;return t}),(e=>{let{layer:t}=e;return 1*.5**t}),(e=>{let{layer:t}=e;return(e=>0===e?`\n    rgba(0, 0, 0, 1) ${Er[0]}%,\n    rgba(0, 0, 0, 0) ${Er[1]}%\n    `:1===e?`\n    rgba(0, 0, 0, 1) ${Er[0]}%,\n    rgba(0, 0, 0, 1) ${Er[1]}%,\n    rgba(0, 0, 0, 0) ${Er[2]}%\n    `:`\n  rgba(0, 0, 0, 0) ${Er[e-2]}%,\n  rgba(0, 0, 0, 1) ${Er[e-1]}%,\n  rgba(0, 0, 0, 1) ${Er[e]}%,\n  rgba(0, 0, 0, 0) ${Er[e+1]}%\n  `)(t)}),(()=>be.iv`
  animation: ${_.Ji} ${Cr}ms ${_.Zs}
    ${Cr}ms both;
`)),Zr=be.zo.div.withConfig({displayName:"MobileBubbleBackdrop__BackdropGradient",componentId:"ch-front__sc-2ylxjx-1"})(["position:absolute;top:-50px;left:-100px;z-index:-1;width:calc(100% + 200px);height:calc(100% + 100px);pointer-events:none;background:linear-gradient( 0deg,rgba(0,0,0,0.2) 0%,rgba(0,0,0,0) 78.33% );",""],(e=>{let{isTopPosition:t}=e;return t&&be.iv`
      transform: rotate(-180deg);
    `}));function Ir(e){let{isTopPosition:t}=e;return o.createElement(Zr,{isTopPosition:t},wr.map((e=>o.createElement(Sr,{key:e,layer:e}))))}const{isKakaoInAppBrowser:kr}=g.Z,xr=be.zo.div.withConfig({displayName:"MobileBubblePopupLayer__Wrapper",componentId:"ch-front__sc-13scx9p-0"})(["position:fixed;"," right:0;left:0;display:flex;justify-content:center;width:100%;",""],(e=>{let{isTopPosition:t}=e;return t?(0,be.iv)(["top:0;"]):(0,be.iv)(["bottom:0;"])}),(e=>{let{show:t,isTopPosition:n}=e;return t?(e=>(0,be.iv)(["animation:"," ","ms "," backwards;"],(e=>(0,$.F4)(["from{opacity:0;transform:translate3d(0,",",0);}to{opacity:1;transform:translate3d(0,0,0);}"],e?"-10px":"10px"))(e),Cr,_.Zs))(n):(0,be.iv)(["animation:"," ","ms "," forwards;"],_.U6,Cr,_.Zs)})),Tr=be.zo.article.withConfig({displayName:"MobileBubblePopupLayer__Article",componentId:"ch-front__sc-13scx9p-1"})(["width:100%;min-width:288px;max-width:520px;margin:16px;"]);function Ar(e){let{children:t}=e;const n=(0,v.Z)(b.Z.pluginSelectors.getPlugin),r=(0,v.Z)(b.Z.popupSelectors.showPopup),{render:s,onAnimationEnd:i}=A(r),a=(0,v.Z)(b.Z.popupSelectors.popupType);if(!s)return null;const l=a===zt.k.MeetRing||"top"===n.mobileBubblePosition;return o.createElement(xr,{role:"dialog",isTopPosition:l,show:r,onAnimationEnd:i},!kr&&o.createElement(Ir,{isTopPosition:l}),o.createElement(Tr,null,o.createElement("h2",{className:"a11y-hidden"},"Channel Talk pop-up"),t))}const Mr=o.lazy((()=>Promise.all([n.e(883),n.e(592),n.e(670)]).then(n.bind(n,49012)))),Pr=function(){const e=(0,v.Z)(b.Z.popupSelectors.popupType);return o.createElement(Ar,null,e===zt.k.MeetRing&&o.createElement(br,null),e===zt.k.PushMessage&&o.createElement(Mr,null),e===zt.k.LabelButton&&o.createElement(gr,null))};var Rr;!function(e){e.Left="left",e.Right="right",e.Top="top"}(Rr||(Rr={}));const Nr=be.zo.article.withConfig({displayName:"PCBubblePopupLayer__PCBubbleWrapper",componentId:"ch-front__sc-qr66bs-0"})(["position:fixed;"," min-width:230px;max-width:320px;"," ",""],(e=>{let{pluginPosition:t,xPosition:n,yPosition:r}=e;return(0,be.iv)(["bottom:calc(env(safe-area-inset-bottom) + ","px);",""],r,"left"===t?(0,be.iv)(["left:","px;"],n):(0,be.iv)(["right:","px;"],n))}),(e=>{let{hasLinkButton:t}=e;return t&&(0,be.iv)(["width:100%;"])}),(e=>{let{show:t,moveTo:n}=e;return t?(e=>(0,be.iv)(["animation:"," ","ms "," backwards;"],(e=>(0,$.F4)(["from{opacity:0;transform:",";}to{opacity:1;transform:translate3d(0,0,0);}"],(e=>{switch(e){case Rr.Left:return"translate3d(10px, 0, 0)";case Rr.Right:return"translate3d(-10px, 0, 0)";default:return"translate3d(0, 10px, 0)"}})(e)))(e),Cr,_.Zs))(n):(0,be.iv)(["animation:"," ","ms "," both;"],_.U6,Cr,_.Zs)}));function Or(e){let{children:t,popupType:n}=e;const{handleInteracting:r,handleNotInteracting:s}=((0,o.useEffect)((()=>()=>{v.S.setHoverOrFocusBubble({isBubbleInteracting:!1})}),[]),{handleInteracting:()=>{v.S.setHoverOrFocusBubble({isBubbleInteracting:!0})},handleNotInteracting:()=>{v.S.setHoverOrFocusBubble({isBubbleInteracting:!1})}}),{xPosition:i,yPosition:a,pluginPosition:l}=function(){const e=(0,v.Z)(b.Z.pluginSelectors.getPlugin),t=e.getMargin();return{xPosition:t.marginX,yPosition:t.marginY+rn.HN+rn.P8,pluginPosition:e.getPosition()}}(),c=(0,v.Z)(b.Z.popupSelectors.showPopup),u=(0,v.Z)(b.Z.popupSelectors.hasLinkButton),{render:h,onAnimationEnd:d}=A(c),p=((e,t)=>t===zt.k.PushMessage||t===zt.k.MeetRing?Rr.Top:"left"===e?Rr.Right:Rr.Left)(l,n);return h?o.createElement(Nr,{role:"dialog",xPosition:i,yPosition:a,pluginPosition:l,moveTo:p,hasLinkButton:u,show:c,onAnimationEnd:d,onMouseEnter:r,onMouseLeave:s,onFocus:r,onBlur:s},o.createElement("h2",{className:"a11y-hidden"},"Channel Talk pop-up"),t):null}const Lr=o.lazy((()=>Promise.all([n.e(883),n.e(592),n.e(670)]).then(n.bind(n,62712)))),Ur=function(){const e=(0,v.Z)(b.Z.popupSelectors.popupType);return o.createElement(Or,{popupType:e},e===zt.k.MeetRing&&o.createElement(yr,null),e===zt.k.PushMessage&&o.createElement(Lr,null),e===zt.k.LabelButton&&o.createElement(gr,null))};var Dr=n(80834);let zr;function Br(e,t){const n=(0,v.Z)(b.Z.popupSelectors.getAlertLevel),r=(0,v.Z)(b.Z.popupSelectors.curPopupMsgId),s=(0,v.Z)(b.Z.popupSelectors.popupType),i=(0,o.useRef)(null),a=(0,o.useCallback)((()=>{v.S.setPopupActive({active:!1})}),[]),l=s===zt.k.LabelButton?a:t,c=(0,o.useCallback)((()=>{i.current&&(clearTimeout(i.current),i.current=null),f.Z.parentWindow.removeEventListener(e,l)}),[l,e]),u=(0,o.useCallback)((()=>{i.current||(i.current=window.setTimeout((()=>{f.Z.parentWindow.addEventListener(e,l,{once:!0})}),1e4))}),[l,e]);(0,o.useEffect)((function(){return n===Dr.Z.ALERT?()=>{}:(u(),c)}),[n,u,c,r])}!function(e){e.PAGEHIDE="pagehide",e.SCROLL="scroll"}(zr||(zr={}));const Fr=function(){return function(){const e=(0,o.useCallback)((()=>{v.S.requestClosePopup.run(),v.S.setPopupActive({active:!1})}),[]);Br(zr.SCROLL,e)}(),g.Z.isMobile?o.createElement(Pr,null):o.createElement(Ur,null)};var $r=n(10101);const Hr=o.lazy((()=>Promise.all([n.e(883),n.e(592),n.e(670)]).then(n.bind(n,62962)))),Wr=function(){!function(){const e=(0,o.useCallback)((()=>{(0,$r.HQ)().run()}),[]);Br(zr.PAGEHIDE,e)}();const e=(0,v.Z)(b.Z.popupSelectors.isFullscreen),t=(0,v.Z)(b.Z.popupSelectors.showPopup),[n]=(0,At.Z)({payload:e=>({showPopup:t,emojiIsEmpty:zn.Z.isEmpty(),observer:e}),effect:v.S.initializePopup});return n?null:e?o.createElement(Hr,null):o.createElement(Fr,null)};var jr=n(79513),Gr=n(63548);const qr=function(e){let{children:t}=e;const n=(0,be.je)()??d.I,r=f.Z.chPluginEntryElement,[s,i]=(0,o.useState)(void 0),a=(0,o.useCallback)((e=>{e&&(i(e),Me.Z.setDOMNodes({shadowRootWrapper:e}))}),[]);return r?ze.createPortal(o.createElement(Gr.ZP.div,{ref:e=>{null==e||e.style.setProperty("display","block","important")},mode:"open"},o.createElement("div",{id:_.Kn,ref:a},o.createElement($e,{target:s},o.createElement(_.cU,{foundation:n}),o.createElement(jr.c,{foundation:n}),s&&t))),r):null};var Vr=n(47134);const Jr=o.lazy((()=>Promise.all([n.e(883),n.e(142),n.e(592),n.e(743)]).then(n.bind(n,16694)))),Kr=function(){const e=(0,be.je)()??d.I,t=(0,v.Z)(b.Z.popupSelectors.showPopup),n=(0,v.Z)(b.Z.uiSelectors.showMessenger),r=(0,v.Z)(b.Z.pluginSelectors.isBooted),s=(0,v.Z)(b.Z.uiSelectors.getMessengerSizeType),i=(0,v.Z)((0,m.N)(b.Z.uiSelectors.getMessengerEdgeSize));Nt();const[a,l]=(0,o.useState)(n),[c,u]=(0,o.useTransition)();(0,At.Z)({effect:v.S.initializeApp,payload:()=>{}}),(0,o.useEffect)((()=>{n&&!a&&u((()=>{l(!0)}))}),[n,a,u]);const h=function(e,t){const[n,r]=(0,o.useState)(!1);return(0,o.useEffect)((function(){if(e)return r(!0),()=>{};const t=setTimeout((()=>{r(!1)}),400);return()=>clearTimeout(t)}),[e,400]),n}(t),p=f.Z.chPluginElement,g=p?o.createElement($.LC,{target:p},o.createElement(_.eY,{messengerSize:Ot.L[s],messengerEdgeSize:i,foundation:e})):null;return o.createElement(o.Fragment,null,o.createElement(o.StrictMode,null,g,o.createElement(qr,null,r&&o.createElement(Dn,null),o.createElement(o.Suspense,{fallback:null},h&&o.createElement(Wr,null)))),c&&o.createElement(Vr.Z,null),o.createElement(o.Suspense,{fallback:o.createElement(Vr.Z,null)},a&&r?o.createElement(Jr,null):o.createElement(Vr.Z,null)))};l.Z.init(),(0,r.MD)(),a().polyfill();const Yr=window.document.getElementById("main");(0,s.s)(Yr).render(o.createElement(Tt,null,o.createElement(Kr,null)))},90511:(e,t,n)=>{"use strict";n.d(t,{f:()=>s,o:()=>o});var r=n(87851);const o="https://cdn.channel.io/plugin/images/",s=`${r.NF}/asset/plugin/images/`},71381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={TEXT:"text",CODE:"code",BULLETS:"bullets"}},80805:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e[e.Rotate0=1]="Rotate0",e[e.HorizontalFlip=2]="HorizontalFlip",e[e.Rotate180=3]="Rotate180",e[e.VerticalFlip=4]="VerticalFlip",e[e.VerticalFlipRotate90=5]="VerticalFlipRotate90",e[e.Rotate90=6]="Rotate90",e[e.HorizontalFlipRotate90=7]="HorizontalFlipRotate90",e[e.Rotate270=8]="Rotate270"}(r||(r={}));const o=r},93345:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e[e.DEFAULT=18]="DEFAULT",e[e.LARGE=24]="LARGE",e[e.GIANT=60]="GIANT",e[e.CDN_GIANT=160]="CDN_GIANT",e[e.CDN_DEFAULT=80]="CDN_DEFAULT"}(r||(r={}));const o=r},14906:(e,t,n)=>{"use strict";let r;n.d(t,{O:()=>r}),function(e){e.Bubble="bubble",e.FullScreen="fullScreen"}(r||(r={}))},16758:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>s,p:()=>o}),function(e){e.Audio="audio",e.File="file",e.Image="image",e.Video="video"}(r||(r={}));const o={[r.Video]:10,[r.Image]:20,[r.Audio]:30,[r.File]:40},s=r},33122:(e,t,n)=>{"use strict";n.d(t,{BU:()=>w,Hz:()=>p,IZ:()=>g,Ji:()=>k,Kn:()=>m,NH:()=>f,OA:()=>v,RB:()=>_,U6:()=>x,Ul:()=>C,ZL:()=>O,Zs:()=>T,bG:()=>Z,cU:()=>N,dS:()=>E,eY:()=>D,ns:()=>b,rP:()=>y,vZ:()=>d,zu:()=>I});var r=n(96940),o=n(40068),s=n(76438),i=n(28961),a=n(15964);const{isAppleTouchableDevice:l,isMobile:c,isSafari:u,isIPhone:h}=i.Z,d="ch-scroll-lock",p="scroll-lock",m="ch-shadow-root-wrapper",g=30,f=c?55:60,v="87%",b="92%",_=16,y=14,C="ch-body-cover",w=400,E=400,S=(0,a.V0)(s.Z.getLanguage()),Z=(0,r.iv)(["word-break:break-word;overflow-wrap:break-word;white-space:pre-line;"]),I=(0,r.iv)(["outline:5px auto Highlight;outline:5px auto -webkit-focus-ring-color;"]),k=(0,o.F4)(["from{opacity:0;}to{opacity:1;}"]),x=(0,o.F4)(["from{opacity:1;}to{opacity:0;}"]),T="cubic-bezier(0.36, 0, 0, 1)",A=(0,r.iv)([".a11y-hidden{position:absolute;width:1px;height:1px;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);clip-path:polygon(0 0,0 0,0 0);user-select:none;}"]),M=(0,r.iv)(["font-size:16px !important;"]),P=(0,r.iv)(["button{box-sizing:border-box;width:auto;padding:0;margin:0;overflow:visible;font:inherit;font-family:",";line-height:inherit;color:inherit;text-shadow:0 0 0 transparent;letter-spacing:inherit;background:transparent;border:0 solid transparent;box-shadow:0 0 0 transparent;}"],S),R=(0,r.iv)(["a:focus-visible,button:focus-visible,div:focus-visible{","}"],I),N=(0,r.vJ)([""," *{-webkit-tap-highlight-color:transparent;}#","{all:initial;width:0;display:block;font-family:",";color:var(--txt-black-darkest);}"," ",""],A,m,S,P,!l&&!u&&R),O=(0,r.vJ)([""," *{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}*:focus{outline:none;}#main{color:var(--txt-black-darkest);opacity:1;}html{font-size:",";-webkit-text-size-adjust:none;}body{position:relative;margin:0;font-family:",";background-color:transparent;}body.","{overflow:hidden;}input,textarea{font-family:",";","}"," form{margin:unset;}a{color:inherit;text-decoration:inherit;}h1,h2,h3,h4,ol,ul,li,p{padding:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline;border:0;}ol,ul,li{list-style:none;}",""],A,"62.5%",S,p,S,h&&M,P,!l&&!u&&R),L=(0,o.F4)(["from{opacity:0;transform:translate3d(0,20px,0);}to{opacity:1;transform:translate3d(0,0,0);}"]),U=(0,o.F4)(["from{opacity:1;transform:translate3d(0,0,0);}to{opacity:0;transform:translate3d(0,20px,0);}"]),D=((0,r.vJ)(["",""],!s.Z.isFixedDocumentMode()&&(0,r.iv)(["html,body,#ch-plugin{height:100%;}.","{overflow:hidden;}"],d)),(0,r.vJ)(["#ch-plugin{position:relative !important;display:block !important;color-scheme:normal !important;white-space:normal !important;}@media print{#ch-plugin{display:none !important;}}"," .ch-messenger-hidden{visibility:hidden !important;","}.","{overflow:hidden !important;}body.","{position:relative !important;}.ch-desk-messenger{"," position:fixed !important;min-height:200px !important;min-width:430px !important;max-width:","px !important;max-height:","px !important;width:calc(100% - ","px) !important;height:calc(100% - ","px) !important;overflow:hidden !important;background-color:transparent !important;border-radius:","px !important;will-change:transform,opacity,width,max-height,max-width !important;","}.ch-mobile-messenger{position:fixed !important;inset:0 !important;width:100% !important;height:100% !important;background-color:transparent !important;}"],!c&&(0,r.iv)(["#ch-plugin-script-iframe{border-radius:","px !important;}"],g),(()=>(0,r.iv)(["transition:visibility ","ms ",",width ","ms ",",max-width ","ms ",",max-height ","ms "," !important;animation:"," ","ms "," !important;"],w,T,w,T,w,T,w,T,U,w,T)),d,C,(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev6()}),(e=>{let{messengerSize:t}=e;return t.width}),(e=>{let{messengerSize:t}=e;return t.height}),(e=>{let{messengerEdgeSize:t}=e;return t.width}),(e=>{let{messengerEdgeSize:t}=e;return t.height}),g,(()=>(0,r.iv)(["transition:visibility ","ms ",",width ","ms ",",max-width ","ms ",",max-height ","ms ",";animation:"," ","ms "," both;"],w,T,w,T,w,T,w,T,L,w,T))))},84267:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>o,Z:()=>s}),function(e){e.Campaign="campaign",e.OneTimeMessage="oneTimeMsg"}(r||(r={}));const o={[r.Campaign]:"campaigns",[r.OneTimeMessage]:"one-time-msgs"},s=r},44873:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.AUDIO="audio",e.VIDEO="video"}(r||(r={}));const o=r},93099:(e,t,n)=>{"use strict";let r;n.d(t,{A:()=>r,L:()=>o}),function(e){e.Default="default",e.Document="document"}(r||(r={}));const o={[r.Default]:{width:430,height:730},[r.Document]:{width:680,height:1200}}},78882:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.Bot="bot",e.Manager="manager",e.User="user"}(r||(r={}));const o=r},80834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={ALERT:"alert",UNREAD:"unread"}},35354:(e,t,n)=>{"use strict";let r;n.d(t,{k:()=>r}),function(e){e.LabelButton="labelButton",e.MeetRing="meetRing",e.PushMessage="pushMessage"}(r||(r={}))},54225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={Name:"name",MobileNumber:"mobileNumber",Email:"email"}},71142:(e,t,n)=>{"use strict";n.d(t,{Ks:()=>r,Nx:()=>i,Q_:()=>o,om:()=>s});const r={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",READY:"ready",CREATE:"create",UPDATE:"update",DELETE:"delete",PUSH:"push",TYPING:"typing",HEARTBEAT:"heartbeat",DELTA:"delta",ALF_PROCESS:"alf_process"},o={CLOSED:"closed",READY:"READY",DISCONNECTED:"disconnected"},s={JOIN:"join",LEAVE:"leave",HEARTBEAT:"heartbeat",TYPING:"typing",AUTHENTICATION:"authentication",OFFLINE:"offline"};let i;!function(e){e.CLIENT_DISCONNECT="io client disconnect",e.PING_TIMEOUT="ping timeout",e.SERVER_DISCONNECT="io server disconnect",e.TRANSPORT_CLOSE="transport close",e.TRANSPORT_ERROR="transport error"}(i||(i={}))},48384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={VEIL_ID:"veilId",DRAFT_MESSAGE:"draft_message",DRAFT_COMMAND:"draft_command",DRAFT_FORM:"draft_form_value",PLUGIN_INFO:"plugin_info",AVAILABLE_TEST:"__storage_test__",FREQUENTLY_USED_EMOJIS:"frequently_used_emojis",LABEL_BUTTON_VISIBILITY:"label_button_visibility",TRANSLATION_VISIBILITY:"translation_visibility",LAST_SEEN_TAB_ID:"last_seen_tab_id",NOTIFICATION_SOUND:"notification_sound",DOCUMENT_VIEWER_SHRINKED:"document_viewer_shrinked"}},49038:(e,t,n)=>{"use strict";var r;n.d(t,{Dn:()=>s,ZP:()=>i,iV:()=>o}),function(e){e.EN="en",e.JA="ja",e.KO="ko"}(r||(r={}));const o=[r.KO,r.EN,r.JA];function s(e){return Object.values(r).includes(e)}const i=r},18380:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,g:()=>r});const r={width:56,height:56},o={width:286,height:270}},48793:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.BOTTOM="bottom",e.BOTTOM_LEFT="bottomLeft",e.BOTTOM_RIGHT="bottomRight",e.CENTER="center",e.LEFT="left",e.LEFT_BOTTOM="leftBottom",e.LEFT_TOP="leftTop",e.RIGHT="right",e.RIGHT_BOTTOM="rightBottom",e.RIGHT_TOP="rightTop",e.TOP="top",e.TOP_LEFT="topLeft",e.TOP_RIGHT="topRight"}(r||(r={}));const o=r},53288:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,q:()=>r});const r=Object.values({SOURCE:"utm_source",MEDIUM:"utm_medium",CAMPAIGN:"utm_campaign",CONTENT:"utm_content",TERM:"utm_term"}),o="referrer"},87851:(e,t,n)=>{"use strict";n.d(t,{Dd:()=>l,K5:()=>m,L4:()=>i,NF:()=>s,PX:()=>o,Ss:()=>p,Tx:()=>h,eS:()=>r,g5:()=>d,l$:()=>g,m$:()=>u,oj:()=>c,yq:()=>a});const r="https://api.channel.io",o="https://media.channel.io",s="https://cf.channel.io",i="https://cdn.channel.io/plugin",a="https://gw.channel.io",l="https://ch.xyz",c="https://front-api.ch.xyz",u="https://app-store-api.channel.io",h="https://document-api.channel.io",d="https://meet.channel.io",p="https://bezier-cdn.channel.io",m="https://status.channel.io",g="https://front-admin.channel.io"},9845:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r=25},59544:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={VISIBLE:"visible",HIDDEN:"hidden",PRERENDER:"prerender",UNLOADED:"unloaded"}},74117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={TOAST:1060,MODAL:1050,MEET_BANNER:1040,ALF_BANNER:1040,OVERLAY:1040,NAVIGATION_BAR:1030,CLOSE_BUTTON:1030,HEADER:1030,CHATROOM_FOOTER:1030,BANNER:1030,EMOJI_SELECTOR:1020,INFINITE_SCROLL_LOADER:1010,TOOLTIP_CONTENT:1e3,ON_SHADOW_ELEMENT:10}},49438:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,E:()=>s});var r=n(96940);const o=r.zo.div.withConfig({displayName:"AlertBadgestyled__AlertBadge",componentId:"ch-front__sc-1utiu90-0"})(["display:inline-flex;flex-wrap:nowrap;align-items:center;justify-content:center;box-sizing:border-box;min-width:","px;height:","px;padding:1px 6px;color:var(--bgtxt-absolute-white-dark);visibility:",";background-color:var(--bgtxt-red-normal);border-radius:","px;"],(e=>e.size||20),(e=>e.size||20),(e=>e.hidden?"hidden":"visible"),(e=>Math.floor((e.size||20)/2))),s=r.zo.div.withConfig({displayName:"UnreadBadgestyled__UnreadBadge",componentId:"ch-front__sc-kvvwsm-0"})(["display:block;width:6px;height:6px;background-color:var(--bgtxt-red-normal);border-radius:50%;"])},73489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(55325),o=n(67894),s=n(27841),i=n(72927),a=n(44194),l=n(94046),c=n(96940),u=n(40068),h=n(33122),d=n(15964),p=n(30462),m=n(79845);const g=c.zo.div.withConfig({displayName:"BottomSheetstyled__Header",componentId:"ch-front__sc-jmqotn-0"})(["display:flex;flex-shrink:0;align-items:center;justify-content:space-between;height:48px;padding:8px 0 0 16px;"]),f=c.zo.div.withConfig({displayName:"BottomSheetstyled__HeaderTitle",componentId:"ch-front__sc-jmqotn-1"})(["font-weight:600;color:",";",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]}),m.ZT.RemSize13),v=c.zo.div.withConfig({displayName:"BottomSheetstyled__IconWrapper",componentId:"ch-front__sc-jmqotn-2"})(["display:flex;align-items:center;justify-content:center;width:28px;height:28px;background-color:",";border-radius:18px;"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-black-lighter"]})),b=c.zo.button.withConfig({displayName:"BottomSheetstyled__CloseButton",componentId:"ch-front__sc-jmqotn-3"})(["cursor:pointer;display:flex;align-items:center;justify-content:center;width:56px;",""],(0,d.jC)((0,c.iv)(["> ","{background-color:",";}"],v,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-black-light"]})))),_=(0,u.F4)(["from{transform:translateY(33%);}to{transform:translate(0);}"]),y=(0,c.zo)(p.Z).withConfig({displayName:"BottomSheetstyled__Popover",componentId:"ch-front__sc-jmqotn-4"})(["align-self:flex-end;width:100%;max-height:",";border-radius:30px 30px 0 0;box-shadow:0 -4px 12px rgba(0,0,0,10%);",""],h.OA,(()=>(0,c.iv)(["animation:"," 0.3s ease;"],_))),C=c.zo.div.withConfig({displayName:"BottomSheetstyled__Wrapper",componentId:"ch-front__sc-jmqotn-5"})(["overflow-y:hidden;display:flex;flex-direction:column;max-height:100%;"]),w=function(e){let{children:t,onHide:n,title:c,...u}=e;const{closeModal:h}=(0,l.Z)(),d=a.useRef(null);return a.createElement(y,(0,r.Z)({onBackdropClick:n,autoFocusRef:d},u),a.createElement(C,{role:"dialog","aria-modal":"true","aria-labelledby":"bottom_sheet_header_title"},a.createElement(g,null,a.createElement(f,{id:"bottom_sheet_header_title"},c),a.createElement(b,{type:"button",onClick:()=>{h(),null==n||n()},ref:d},a.createElement("span",{className:"a11y-hidden"}," Close bottom sheet modal "),a.createElement(v,null,a.createElement(s.J,{source:o.C,size:i.J.S,color:"txt-black-dark","aria-hidden":"true"})))),t))}},57410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(96940),o=n(33122);const s=r.zo.section.withConfig({displayName:"HomeCard",componentId:"ch-front__sc-ln349k-0"})(["margin:0 ","px;overflow:hidden;background-color:",";border-radius:20px;* + &{margin-top:","px;}"],o.RB,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-white-high"]}),o.rP)},48825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(44194),o=n(16231),s=n(96940),i=n(15964);const a=s.zo.div.withConfig({displayName:"InnerIconstyled__Icon",componentId:"ch-front__sc-197h5bb-0"})(["cursor:pointer;flex:0 0 auto;width:","px;height:","px;margin:",";color:",";opacity:",";",""],(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t}),(function(e){let{margintop:t,marginright:n,marginbottom:r,marginleft:o}=e;return`${t}px ${n}px ${r}px ${o}px`}),(e=>{let{color:t,withtheme:n,foundation:r}=e;return t??("true"===n?null==r?void 0:r.iconColor:"inherit")}),(e=>{let{defaultopacity:t}=e;return t}),(e=>{let{hoveredopacity:t}=e;return(0,i.jC)(s.iv`
      opacity: ${t};
    `)}));var l=n(55325);const c={cancel:function(e){return r.createElement("svg",(0,l.Z)({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16.4818 4.69668L15.3033 3.51817L10 8.82147L4.69671 3.51817L3.5182 4.69668L8.8215 9.99998L3.51819 15.3033L4.6967 16.4818L10 11.1785L15.3033 16.4818L16.4818 15.3033L11.1785 9.99998L16.4818 4.69668Z"}))},"cancel-bold":function(e){return r.createElement("svg",(0,l.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",d:"M4.92893 4.92893C4.34315 5.51472 4.34315 6.46447 4.92893 7.05025L9.87868 12L4.92893 16.9497C4.34315 17.5355 4.34315 18.4853 4.92893 19.0711C5.51472 19.6569 6.46447 19.6569 7.05025 19.0711L12 14.1213L16.9497 19.0711C17.5355 19.6569 18.4853 19.6569 19.0711 19.0711C19.6569 18.4853 19.6569 17.5355 19.0711 16.9497L14.1213 12L19.0711 7.05025C19.6569 6.46447 19.6569 5.51472 19.0711 4.92893C18.4853 4.34315 17.5355 4.34315 16.9497 4.92893L12 9.87868L7.05025 4.92893C6.46447 4.34315 5.51472 4.34315 4.92893 4.92893Z"}))},"chevron-left":function(e){return r.createElement("svg",(0,l.Z)({width:"1em",height:"1em",viewBox:"0 0 13 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M9.17255 16.4226C8.84711 16.748 8.31947 16.748 7.99404 16.4226L2.1607 10.5893C1.83527 10.2638 1.83527 9.73619 2.1607 9.41075L7.99404 3.57742C8.31947 3.25198 8.84711 3.25198 9.17255 3.57742C9.49799 3.90285 9.49799 4.43049 9.17255 4.75593L3.92847 10L9.17255 15.2441C9.49799 15.5695 9.49799 16.0972 9.17255 16.4226Z"}))},"more-vertical":function(e){return r.createElement("svg",(0,l.Z)({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M7.91683 4.16671C7.91683 3.02087 8.85433 2.08337 10.0002 2.08337C11.146 2.08337 12.0835 3.02087 12.0835 4.16671C12.0835 5.31254 11.146 6.25004 10.0002 6.25004C8.85433 6.25004 7.91683 5.31254 7.91683 4.16671ZM7.91683 10.4167C7.91683 9.27087 8.85433 8.33337 10.0002 8.33337C11.146 8.33337 12.0835 9.27087 12.0835 10.4167C12.0835 11.5625 11.146 12.5 10.0002 12.5C8.85433 12.5 7.91683 11.5625 7.91683 10.4167ZM10.0002 14.5834C8.85433 14.5834 7.91683 15.5209 7.91683 16.6667C7.91683 17.8125 8.85433 18.75 10.0002 18.75C11.146 18.75 12.0835 17.8125 12.0835 16.6667C12.0835 15.5209 11.146 14.5834 10.0002 14.5834Z"}))},send:function(e){return r.createElement("svg",(0,l.Z)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M20.9186 5.01057L2.91895 5.01034C2.51794 5.00977 2.15508 5.24929 1.99895 5.61886C1.84146 5.98808 1.92039 6.41478 2.19802 6.70366L7.74779 12.4761L17.7176 7.45444L18.0686 8.06239L8.74519 14.2097L10.9214 21.931C11.0307 22.3183 11.3609 22.6022 11.7599 22.6513C11.9807 22.6797 12.1991 22.6321 12.3836 22.5256C12.5326 22.4396 12.6604 22.315 12.7501 22.1604L21.7846 6.51053C21.964 6.20137 21.9636 5.82058 21.7846 5.51055C21.6061 5.20138 21.2765 5.01059 20.9186 5.01057Z"}))},"arrow-right":function(e){return r.createElement("svg",(0,l.Z)({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M10.3812 17.8559L9.16667 16.7145L14.6935 10.8334H2.5V9.16669H14.6723L9.16667 3.30803L10.3812 2.16667L16.7878 8.98406C17.3304 9.56141 17.3304 10.4612 16.7878 11.0385L10.3812 17.8559Z"}))},refresh:function(e){return r.createElement("svg",(0,l.Z)({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16.6667 9.99996C16.6667 13.6758 13.6758 16.6666 10 16.6666C6.32417 16.6666 3.33334 13.6758 3.33334 9.99996C3.33334 6.32413 6.32417 3.33329 10 3.33329C11.7642 3.33329 13.4225 4.01579 14.6775 5.25246L12.9333 6.99663C12.6708 7.25913 12.8558 7.70829 13.2275 7.70829H17.9167C18.1467 7.70829 18.3333 7.52163 18.3333 7.29163V2.60246C18.3333 2.23079 17.8842 2.04579 17.6217 2.30829L15.8558 4.07413C14.2858 2.52246 12.2092 1.66663 10 1.66663C5.40501 1.66663 1.66667 5.40496 1.66667 9.99996C1.66667 14.595 5.40501 18.3333 10 18.3333C14.595 18.3333 18.3333 14.595 18.3333 9.99996H16.6667Z"}))},youtube:function(e){return r.createElement("svg",(0,l.Z)({width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("rect",{x:"10",y:"10",width:"10",height:"10",fill:"white"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6824 18.6838V11.1963L18.8187 14.94L12.6824 18.6838ZM27.3837 11.2838C27.2274 8.85754 25.3474 6.89751 22.9311 6.64002C20.425 6.38629 17.7612 6.25 15 6.25C12.2387 6.25 9.57499 6.38629 7.06868 6.63882C4.65246 6.89751 2.7725 8.85754 2.61623 11.2838C2.54003 12.4788 2.5 13.7 2.5 14.94C2.5 16.18 2.54003 17.4012 2.61623 18.5963C2.7725 21.0225 4.65246 22.9825 7.06868 23.24C9.57499 23.4938 12.2387 23.63 15 23.63C17.7612 23.63 20.425 23.4938 22.9311 23.2412C25.3474 22.9825 27.2274 21.0225 27.3837 18.5963C27.46 17.4012 27.5 16.18 27.5 14.94C27.5 13.7 27.46 12.4788 27.3837 11.2838Z",fill:"#E94E58"}))},"arrow-up":function(e){return r.createElement("svg",(0,l.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3.28481 11.8367C3.66302 12.2392 4.29589 12.2588 4.69835 11.8806L11 5.95864V20C11 20.5523 11.4477 21 12 21C12.5523 21 13 20.5523 13 20V5.9332L19.3287 11.8806C19.7312 12.2588 20.364 12.2392 20.7423 11.8367C21.1205 11.4343 21.1008 10.8014 20.6983 10.4232L13.0408 3.22696C12.4634 2.68439 11.5637 2.68439 10.9863 3.22696L3.32872 10.4232C2.92626 10.8014 2.9066 11.4343 3.28481 11.8367Z"}))}};function u(e){let{name:t,className:n,color:s,size:i=o.$.Normal,defaultOpacity:l=.6,hoveredOpacity:u=1,marginTop:h=0,marginRight:d=0,marginBottom:p=0,marginLeft:m=0,onClick:g=(()=>{}),withTheme:f=!1}=e;return c[t]?r.createElement(a,{className:n,color:s,as:c[t],width:i,height:i,defaultopacity:l,hoveredopacity:u,margintop:h,marginright:d,marginbottom:p,marginleft:m,withtheme:f.toString(),onClick:g}):null}const h=(0,r.memo)(u)},90681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(96940);const o=r.zo.div.withConfig({displayName:"Loaderstyled__Loader",componentId:"ch-front__sc-1f5ps8p-0"})(["position:",";inset:","px ","px ","px ","px;display:flex;align-items:center;justify-content:center;&::before{@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}content:'';display:inline-block;box-sizing:border-box;border-style:solid;"," "," border-bottom-color:transparent;border-radius:50%;animation:rotation 1.1s linear infinite;}"],(e=>{let{position:t}=e;return t||"absolute"}),(e=>{let{top:t}=e;return t||0}),(e=>{let{right:t}=e;return t||0}),(e=>{let{bottom:t}=e;return t||0}),(e=>{let{left:t}=e;return t||0}),(function(e){let{size:t,strokeWidth:n}=e;const o=t||24;return r.iv`
    width: ${o}px;
    height: ${o}px;
    border-width: ${n??o/8}px;
  `}),(function(e){let{foundation:t,color:n}=e;const o=n?(null==t?void 0:t.theme[n])??n:null==t?void 0:t.theme["txt-black-dark"];return r.iv`
    border-color: ${o};
  `}))},32106:(e,t,n)=>{"use strict";n.d(t,{Mr:()=>a,ZP:()=>l,h7:()=>i});var r=n(4191);const o={isOpened:!1,container:null,content:null},s=(0,r.U)((e=>({...o,open:(t,n)=>e({isOpened:!0,content:t,container:n}),close:()=>e(o)}))),i=s.getState().open,a=s.getState().close,l=s},44565:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(55325),o=n(44194),s=n(96940),i=n(74117);const a=s.zo.div.withConfig({displayName:"Modalstyled__Wrapper",componentId:"ch-front__sc-n7slr5-0"})(["touch-action:",";position:fixed;z-index:",";inset:0;overflow:hidden;",""],(e=>{let{preventTouchActions:t}=e;return t?"none":"auto"}),i.Z.MODAL,(e=>{let{interpolation:t}=e;return t})),l=function(e){let{autoFocusRef:t,children:n,targetNodeRefToReturn:s,onWrapperClick:i,preventTouchActions:l=!0,interpolation:c,...u}=e;return(0,o.useEffect)((()=>{var e;null==t||null===(e=t.current)||void 0===e||e.focus();const n=null==s?void 0:s.current;return()=>{null==n||n.focus()}}),[t,s]),o.createElement(a,(0,r.Z)({role:"presentation",preventTouchActions:l,onClick:i,interpolation:c},u),n)}},30462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(55325),o=n(44194),s=n(94046),i=n(39156),a=n(40068),l=n(96940),c=n(33122),u=n(44565);const h=a.F4`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,d=(0,l.zo)(u.Z).withConfig({displayName:"Popoverstyled__Modal",componentId:"ch-front__sc-b3s73u-0"})(["display:flex;background-color:",";",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bgtxt-absolute-black-lighter"]}),(()=>l.iv`
  opacity: 1;
  animation: ${h} 0.25s linear;
`)),p=l.zo.div.withConfig({displayName:"Popoverstyled__Content",componentId:"ch-front__sc-b3s73u-1"})(["display:flex;flex-direction:column;background-color:",";border-radius:16px;"," ",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-white-normal"]}),c.bG,(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev4()})),m=function(e){let{children:t,onBackdropClick:n,className:a,modalInterpolation:l,...c}=e;const{closeModal:u}=(0,s.Z)();return o.createElement(d,(0,r.Z)({onClick:e=>{e.stopPropagation(),u(),null==n||n()},interpolation:l},c),o.createElement(p,{className:a,onClick:i.UW},t))}},16231:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,Z:()=>l});var r=n(96940),o=n(13635),s=n(50022),i=n(50056);let a;!function(e){e[e.XXSmall=12]="XXSmall",e[e.XSmall=16]="XSmall",e[e.Small=20]="Small",e[e.Normal=24]="Normal",e[e.YoutubeIcon=30]="YoutubeIcon",e[e.Large=36]="Large",e[e.Giant=70]="Giant"}(a||(a={}));const l=r.zo.div.withConfig({displayName:"SVGIconstyled__SVGIcon",componentId:"ch-front__sc-15isf0b-0"})(["cursor:",";display:inline-flex;align-items:center;justify-content:center;width:",";height:",";visibility:",";&::before{content:'';display:block;width:","px;height:","px;"," opacity:",";}&:hover{&::before{"," opacity:",";}}"],(e=>{let{defaultOpacity:t}=e;return 1===t?"initial":"pointer"}),(e=>(0,s.kK)(e.width)?"auto":`${e.width}px`),(e=>(0,s.kK)(e.height)?"auto":`${e.height}px`),(e=>e.hidden?"hidden":"visible"),(e=>Array.isArray(e.size)?e.size[0]:e.size),(e=>Array.isArray(e.size)?e.size[1]:e.size),(e=>{var t;return(0,i.Vz)((0,o.jW)(`${e.name}${e.withTheme?`-${null===(t=e.foundation)||void 0===t?void 0:t.textColor}`:""}`,"svg"))}),(e=>e.defaultOpacity||.6),(e=>e.withHover?(0,i.Nx)((0,o.jW)(`${e.name}-hover`,"svg")):""),(e=>(0,s.hj)(e.hoveredOpacity)?e.hoveredOpacity:1))},41956:(e,t,n)=>{"use strict";n.d(t,{a:()=>u,n:()=>c});var r=n(96940),o=n(40068),s=n(50022);function i(e,t){return(0,s.hj)(t)?r.iv`
      ${e}: ${t}px;
    `:r.iv`
    ${e}: ${t};
  `}function a(e){let{width:t}=e;return i("width",t)}const l=o.F4`
  from {
    left: -100%;
  }

  to {
    left: 100%;
  }
`,c=r.zo.div.withConfig({displayName:"Skeletonstyled__SkeletonBox",componentId:"ch-front__sc-1f4mq1b-0"})(["position:relative;overflow:hidden;"," "," "," background-color:var(--bg-black-lighter);&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient( 90deg,transparent,var(--bg-black-lightest),transparent );","}"],a,(function(e){let{height:t}=e;return i("height",t)}),(function(e){let{radius:t}=e;return i("border-radius",t)}),(()=>r.iv`
  animation: ${l} 2s infinite linear;
`)),u=r.zo.div.withConfig({displayName:"Skeletonstyled__SkeletonTextWrapper",componentId:"ch-front__sc-1f4mq1b-1"})(["display:flex;align-items:center;"," padding:","px 0;"],a,(e=>{let{padding:t}=e;return t??6}))},99717:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(44194),o=n(41956);const s=function(e){let{width:t,height:n=6,padding:s,className:i}=e;return r.createElement(o.a,{className:i,width:t,padding:s},r.createElement(o.n,{width:"100%",height:n,radius:3}))}},57730:(e,t,n)=>{"use strict";n.d(t,{N0:()=>s,nN:()=>r.n,N2:()=>i.Z});var r=n(41956),o=n(44194);const s=function(e){let{size:t,className:n}=e;return o.createElement(r.n,{className:n,width:t,height:t,radius:"42%"})};var i=n(99717)},15183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(44194),o=n(85940),s=n(13291),i=n(28961),a=n(9967),l=n(48793),c=n(40068),u=n(96940),h=n(74117),d=n(79845);const p=c.F4`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,m=u.zo.div.withConfig({displayName:"Tooltipstyled__Wrapper",componentId:"ch-front__sc-7p7m1r-0"})(["z-index:",";"," width:max-content;padding:5px 8px;color:",";background-color:",";border-radius:6px;"," ",""],h.Z.OVERLAY,(e=>{let{foundation:t}=e;return null==t?void 0:t.elevation.ev3()}),(e=>{var t;let{foundation:n}=e;return null==n||null===(t=n.subTheme)||void 0===t?void 0:t["txt-black-darkest"]}),(e=>{var t;let{foundation:n}=e;return null==n||null===(t=n.subTheme)||void 0===t?void 0:t["bg-grey-lighter"]}),d.ZT.RemSize13,(()=>u.iv`
  animation: ${p} 0.2s ease-in;
`)),g=u.zo.div.withConfig({displayName:"Tooltipstyled__TargetWrapper",componentId:"ch-front__sc-7p7m1r-1"})(["",""],(e=>{let{interpolation:t}=e;return t})),f=function(e){let{children:t,content:n,delayHide:c=0,disabled:u,placement:h=l.Z.BOTTOM,marginX:d=0,marginY:p=0,interpolation:f}=e;const[v,b]=(0,r.useState)(!1),_=r.useRef(null),y=r.useRef(null),{layoutContainer:C}=s.Z,w=()=>{y.current&&window.clearTimeout(y.current),b(!0)},E=()=>{y.current=window.setTimeout((()=>{b(!1)}),i.Z.isTouchableDevice?0:c)};if((0,r.useEffect)((()=>()=>{y.current&&window.clearTimeout(y.current)}),[]),!C)return null;const S=function(e){let{container:t,marginX:n,marginY:r,placement:o,target:s}=e;if(!s||!t)return{};const{height:i,width:a,top:c,left:u}=s.getBoundingClientRect(),{top:h,left:d}=t.getBoundingClientRect(),p=`translateY(${r}px)`,m=`translateY(${-r}px) translateY(-100%)`,g=`translateY(${i+r}px)`,f=`translateY(${i-r}px) translateY(-100%)`,v=`translateX(${n}px)`,b=`translateX(${-n}px) translateX(-100%)`,_=`translateX(${a+n}px)`,y=`translateX(${a-n}px) translateX(-100%)`;let C=`translateX(${a/2+n}px) translateX(-50%)`,w=`translateY(${i/2+r}px) translateY(-50%)`;if(o){switch(o){case l.Z.TOP:case l.Z.TOP_LEFT:case l.Z.TOP_RIGHT:w=m;break;case l.Z.RIGHT:case l.Z.RIGHT_TOP:case l.Z.RIGHT_BOTTOM:C=_;break;case l.Z.BOTTOM:case l.Z.BOTTOM_LEFT:case l.Z.BOTTOM_RIGHT:w=g;break;case l.Z.LEFT:case l.Z.LEFT_TOP:case l.Z.LEFT_BOTTOM:C=b}switch(o){case l.Z.RIGHT_TOP:case l.Z.LEFT_TOP:w=p;break;case l.Z.TOP_RIGHT:case l.Z.BOTTOM_RIGHT:C=y;break;case l.Z.RIGHT_BOTTOM:case l.Z.LEFT_BOTTOM:w=f;break;case l.Z.TOP_LEFT:case l.Z.BOTTOM_LEFT:C=v}}return{position:"absolute",top:c-s.clientTop-h,left:u-s.clientLeft-d,transform:`${C} ${w}`}}({container:C,marginX:d,marginY:p,placement:h,target:_.current}),Z=v&&!u&&o.createPortal(r.createElement(m,{role:"tooltip",style:S,onMouseEnter:w,onMouseLeave:E},n),C||a.Z.rootElement);return r.createElement(r.Fragment,null,Z,r.createElement(g,{onMouseEnter:w,onMouseLeave:E,interpolation:f,ref:_},t))}},32587:(e,t,n)=>{"use strict";n.d(t,{$t:()=>N,B_:()=>S,EK:()=>P,G7:()=>V,Hn:()=>_,Jd:()=>I,Km:()=>Z,Kx:()=>A,Mn:()=>E,Mz:()=>v,RE:()=>B,T3:()=>b,Tj:()=>x,Wg:()=>J,Xj:()=>G,Ym:()=>q,a6:()=>H,az:()=>L,bG:()=>D,bT:()=>$,dZ:()=>W,dh:()=>w,eX:()=>M,gL:()=>z,im:()=>C,jx:()=>T,x1:()=>F,xr:()=>j,zF:()=>k});var r=n(96940),o=n(24848),s=n(49048),i=n(28961),a=n(33122),l=n(74117),c=n(94109),u=n(15964),h=n(68366),d=n(58138),p=n(50056);const{isMobile:m,isTouchableDevice:g,isSafariOnIOS26:f}=i.Z,v=m?16:20,b=m?50:86,_=f&&(0,c.N0)()?16:14,y=r.iv`
  cursor: pointer;

  display: flex;
  align-items: center;
  align-self: flex-end;
  justify-content: center;

  width: 28px;
  height: 28px;

  color: var(--txt-black-dark);

  border-radius: 8px;

  ${(0,u.jC)(r.iv`
    background: var(--bg-black-lighter);
  `)}
`,C=r.zo.section.withConfig({displayName:"ChatRoomFooterstyled__Wrapper",componentId:"ch-front__sc-fucbfx-0"})(["position:sticky;z-index:",";right:0;bottom:0;left:0;width:100%;"," ",""],l.Z.CHATROOM_FOOTER,(e=>{let{applyAnimation:t}=e;return t&&(0,p.SE)()}),(e=>{let{visible:t}=e;return!t&&r.iv`
      display: none;
    `})),w=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__SafeAreaInsetBottom",componentId:"ch-front__sc-fucbfx-1"})(["width:100%;height:env(safe-area-inset-bottom);background-color:var(--bg-white-low);"]),E=r.zo.button.withConfig({displayName:"ChatRoomFooterstyled__CommandButton",componentId:"ch-front__sc-fucbfx-2"})(["",""],y),S=r.zo.button.withConfig({displayName:"ChatRoomFooterstyled__CancelCommandButton",componentId:"ch-front__sc-fucbfx-3"})(["z-index:1;",""],y),Z=r.zo.button.withConfig({displayName:"ChatRoomFooterstyled__EmojiButton",componentId:"ch-front__sc-fucbfx-4"})(["",""],y),I=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__ChatRoomTextAreaContainer",componentId:"ch-front__sc-fucbfx-5"})(["position:relative;display:flex;flex-direction:column;gap:6px;padding:0 ","px ","px ","px;"],_,_,_),k=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__ChatRoomTextAreaWrapper",componentId:"ch-front__sc-fucbfx-6"})(["position:relative;display:flex;flex-direction:",";align-items:",";min-width:0;min-height:","px;padding:",";background:var(--bg-gnb,rgba(239,239,240,80%));backdrop-filter:blur(12px);border-radius:","px;box-shadow:0 30px 0 0 var(--bg-white-low),0 60px 0 0 var(--bg-white-low),",";"],m?"row":"column",m?"center":"flex-start",b,m?"0 6px 0 14px":"0 10px 10px",v,(e=>{let{foundation:t}=e;return function(e){return null!=e&&e.darkMode?"1px 1px 1px 0 rgba(255, 255, 255, 20%) inset,\n    -1px -1px 1px 0 rgba(0, 0, 0, 20%) inset":"1px 1px 1px 0 rgba(255, 255, 255, 80%) inset,\n    -1px -1px 1px 0 rgba(0, 0, 0, 4%) inset"}(t)})),x=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__TextAreaWrapper",componentId:"ch-front__sc-fucbfx-7"})(["display:flex;flex:1 1 0;width:100%;"]),T=r.iv`
  resize: none;
  scrollbar-width: none; /* hide scrollbar in FF */

  overflow: hidden scroll;

  width: 100%;
  min-width: 0;
  margin-top: auto;

  /* reset textarea-autosize padding */
  ${m?r.iv`
        padding: 0;
      `:r.iv`
        padding: 0 8px;
      `}

  color: ${e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darkest"]}};

  background-color: transparent;
  border: none;

  ${o.ZT.Size16}

  &::-webkit-scrollbar {
    display: none;
  }
`,A=(0,r.zo)(s.Z).withConfig({displayName:"ChatRoomFooterstyled__TextArea",componentId:"ch-front__sc-fucbfx-8"})([""," &::placeholder{color:",";","}"],T,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]}),o.ZT.Size16),M=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__Actions",componentId:"ch-front__sc-fucbfx-9"})(["display:flex;flex-direction:row;align-items:",";justify-content:",";margin-top:2px;"," ",""],m?"center":"flex-end",m?"flex-end":"space-between",!m&&r.iv`
    width: 100%;
  `,m&&r.iv`
    align-self: flex-end;
    height: 36px;
    margin: 7px 0;
  `),P=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__Buttons",componentId:"ch-front__sc-fucbfx-10"})(["display:flex;flex-direction:row;gap:4px;align-items:center;padding:0 2px;"]),R=r.iv`
  cursor: pointer;

  display: flex;
  align-items: center;
  align-self: flex-end;
  justify-content: center;

  width: 36px;
  height: 36px;
  padding: 0;

  border: none;
  border-radius: 12px;
`,N=r.zo.button.withConfig({displayName:"ChatRoomFooterstyled__StopButton",componentId:"ch-front__sc-fucbfx-11"})([""," color:var(--txt-black-dark);background-color:var(--bg-black-lighter);",""],R,(0,u.jC)(r.iv`
    color: var(--txt-black-darker);
    background-color: var(--bg-black-dark);
  `)),O=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__FooterWrapper",componentId:"ch-front__sc-fucbfx-12"})(["display:flex;flex-direction:column;align-items:center;padding:16px 20px 20px;"," font-weight:bold;background-color:var(--bg-white-high);box-shadow:0 -1px 4px 0 rgba(0,0,0,8%),0 0 2px 1px rgba(0,0,0,5%);"],o.ZT.Size13),L=(0,r.zo)(O).withConfig({displayName:"ChatRoomFooterstyled__ButtonBoxWrapper",componentId:"ch-front__sc-fucbfx-13"})(["row-gap:8px;color:var(--txt-black-dark,rgba(0,0,0,4%));"]),U=r.zo.button.withConfig({displayName:"ChatRoomFooterstyled__ChatButtonWrapper",componentId:"ch-front__sc-fucbfx-14"})(["cursor:pointer;display:flex;column-gap:6px;align-items:center;justify-content:center;width:100%;height:40px;"," font-weight:bold;border:none;border-radius:14px;&:disabled{cursor:not-allowed;opacity:0.4;}"],o.ZT.Size14),D=(0,r.zo)(U).withConfig({displayName:"ChatRoomFooterstyled__StartChatButtonWrapper",componentId:"ch-front__sc-fucbfx-15"})(["color:",";",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darkest"]}),d.W),z=(0,r.zo)(U).withConfig({displayName:"ChatRoomFooterstyled__NewChatButtonWrapper",componentId:"ch-front__sc-fucbfx-16"})(["position:relative;color:",";background:",";",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.textColor}),(e=>{let{foundation:t}=e;return`linear-gradient(135deg, ${null==t?void 0:t.color} 0%, ${null==t?void 0:t.gradientColor}) 100%`}),h.el),B=(0,r.zo)(U).withConfig({displayName:"ChatRoomFooterstyled__FallbackRetryButtonWrapper",componentId:"ch-front__sc-fucbfx-17"})(["color:",";",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darkest"]}),d.W),F=r.zo.input.withConfig({displayName:"ChatRoomFooterstyled__HiddenInput",componentId:"ch-front__sc-fucbfx-18"})(["pointer-events:none;position:absolute;opacity:0;"]),$=r.zo.label.withConfig({displayName:"ChatRoomFooterstyled__FileUploadLabel",componentId:"ch-front__sc-fucbfx-19"})([""," overflow:hidden;"],y),H=r.zo.input.withConfig({displayName:"ChatRoomFooterstyled__FileUploadInput",componentId:"ch-front__sc-fucbfx-20"})(["&:focus-visible + label{","}"],a.zu),W=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__DecoratorContainer",componentId:"ch-front__sc-fucbfx-21"})(["position:absolute;top:0;right:0;left:0;transform:translateY(-100%);"]),j=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__AutocompleteContainer",componentId:"ch-front__sc-fucbfx-22"})([""]),G=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__OverlayContainer",componentId:"ch-front__sc-fucbfx-23"})([""]),q=r.zo.li.withConfig({displayName:"ChatRoomFooterstyled__CommandListItem",componentId:"ch-front__sc-fucbfx-24"})(["cursor:pointer;display:flex;flex-direction:column;align-items:flex-start;min-width:0;margin:0;padding:8px 6px;list-style:none;background-color:",";border-radius:6px;&:active{background-color:",";}"],(e=>{let{foundation:t,focused:n}=e;return n?null==t?void 0:t.theme["bg-black-lighter"]:"transparent"}),(e=>{let{foundation:t,focused:n}=e;return g||n?null==t?void 0:t.theme["bg-black-lighter"]:"transparent"})),V=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__CommandName",componentId:"ch-front__sc-fucbfx-25"})(["overflow:hidden;max-width:100%;margin-bottom:2px;"," font-weight:bold;color:",";text-overflow:ellipsis;white-space:nowrap;"],o.ZT.Size14,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darkest"]})),J=r.zo.div.withConfig({displayName:"ChatRoomFooterstyled__CommandDescription",componentId:"ch-front__sc-fucbfx-26"})(["overflow:hidden;max-width:100%;"," color:",";text-overflow:ellipsis;white-space:nowrap;"],o.ZT.Size13,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darker"]}))},42474:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.Boolean="boolean",e.Date="date",e.Datetime="datetime",e.List="list",e.ListOfNumber="listofnumber",e.Number="number",e.String="string"}(r||(r={}));const o=r},66934:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.Boolean="bool",e.Checkbox="checkbox",e.Date="date",e.Datetime="datetime",e.MultiSelect="multiSelect",e.Number="number",e.Radio="radio",e.SingleSelect="singleSelect",e.Text="text"}(r||(r={}));const o=r},82667:(e,t,n)=>{"use strict";n.d(t,{HN:()=>o,P8:()=>a,_z:()=>i,qk:()=>s,zw:()=>r});const r=44,o=56,s=18,i=24,a=10},68366:(e,t,n)=>{"use strict";n.d(t,{Qj:()=>a,el:()=>s,xm:()=>i});var r=n(96940),o=n(15964);const s=(0,r.iv)(["&::after{pointer-events:none;content:'';position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;background:var(--bgtxt-absolute-black-lightest);border-radius:inherit;transition:opacity 150ms cubic-bezier(0.3,0,0,1);}",";"],(0,o.jC)((0,r.iv)(["&::after{opacity:1;}"]))),i=e=>{let{foundation:t,disabled:n}=e;return(0,r.iv)(["color:",";"],t&&function(e,t){return e?t.theme["txt-black-dark"]:t.textColor}(n,t))},a=r.zo.a.withConfig({displayName:"NewChatButtonstyled__LinkButton",componentId:"ch-front__sc-1nuv8bj-0"})(["cursor:pointer;display:flex;gap:2px;align-items:center;justify-content:center;width:100%;padding:14px 24px;border-radius:16px;",";",";"],(e=>{let{foundation:t,disabled:n}=e;return(e=>{let{foundation:t,disabled:n}=e;return(0,r.iv)(["position:relative;background:",";",";"],t&&function(e,t){if(e)return t.theme["bg-black-lighter"];const n=(0,o.uz)(null==t?void 0:t.color);return(null==t?void 0:t.color)!==n?n:(null==t?void 0:t.color)===(null==t?void 0:t.gradientColor)?null==t?void 0:t.color:`linear-gradient(90deg, ${null==t?void 0:t.color} 48.41%, ${null==t?void 0:t.gradientColor}) 100%`}(n,t),!n&&s)})({foundation:t,disabled:n})}),(e=>{let{foundation:t,disabled:n}=e;return i({foundation:t,disabled:n})}))},38693:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(80070);class o{constructor(e,t){(0,r.Z)(this,"type",void 0),(0,r.Z)(this,"value",void 0),(0,r.Z)(this,"options",{}),(0,r.Z)(this,"children",void 0),this.type=e,this.value=t,this.children=[]}}},13892:(e,t,n)=>{"use strict";n.d(t,{BM:()=>m,Ur:()=>u,ZP:()=>f,ar:()=>d,j0:()=>c,nR:()=>p,tn:()=>h});var r=n(80070),o=n(23206),s=n(18204),i=n(50655),a=n(50022),l=n(38693);const c="root",u="text",h="emoji",d="link",p="b",m="i";class g extends o.U{constructor(e){super(),(0,r.Z)(this,"queue",[]),(0,r.Z)(this,"current",new l.Z(c)),(0,r.Z)(this,"plainBuffer",""),(0,r.Z)(this,"dictionary",null),(0,r.Z)(this,"attributeType",""),(0,r.Z)(this,"attributeValue",null),e.dictionary&&(this.dictionary=e.dictionary)}getResult(){return this.current}shiftText(){this.plainBuffer&&(this.current.children.push(new l.Z(u,this.plainBuffer)),this.plainBuffer="")}shiftContext(){this.shiftText();const e=this.queue.pop();e&&(e.children.push(this.current),this.current=e)}enterBlock(){this.queue=[],this.current=new l.Z(c)}exitBlock(){for(this.plainBuffer&&this.shiftText();this.queue.length>0;)this.shiftContext()}enterGroup(){this.shiftText(),this.queue.push(this.current),this.current=new l.Z("group")}exitGroup(){this.shiftContext()}enterNewLine(e){this.plainBuffer+=e.getText()}exitNewLine(){this.shiftText()}enterTag(e){const t=e.TAG_NAME();if(null==t||!t.length)return;const n=t[0].getText();this.shiftText(),this.queue.push(this.current),this.current=new l.Z(n)}exitTag(){this.shiftContext()}enterAttribute(e){const[t,n]=e.getText().split("=");t&&n&&"type"===t?this.attributeType=n.slice(1,-1):t&&(this.attributeType=t)}exitAttribute(){this.attributeType=""}enterAttrValue(e){this.attributeValue=(0,i.l0)(e.getText())}exitAttrValue(){this.attributeType&&this.attributeValue&&(this.current.options[this.attributeType]=this.attributeValue),this.attributeValue=null}enterContent(){}exitContent(){}enterEmoji(){}exitEmoji(e){const t=e.getText(),[,n]=t.split(":");if(s.Z.getEmoji(n))return this.shiftText(),void this.current.children.push(new l.Z(h,n));this.plainBuffer+=t}enterVariable(e){var t,n;if(!this.dictionary)return void(this.plainBuffer+=e.getText());const r=null===(t=e.getChild(1))||void 0===t?void 0:t.getText(),o=null===(n=e.getChild(3))||void 0===n?void 0:n.getText();this.plainBuffer+=r.split(".").reduce(((e,t)=>null==e?void 0:e[t]),this.dictionary)??o??e.getText()}exitVariable(){}enterVariableFallback(){}exitVariableFallback(){}enterPlain(e){(0,a.kK)(this.attributeValue)&&(this.plainBuffer+=e.getText())}exitPlain(){}enterEscape(e){(0,a.kK)(this.attributeValue)&&(this.plainBuffer+=e.getText())}exitEscape(){}}const f=g},92027:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>m,nZ:()=>p});var r=n(12442),o=n(52609),s=n(47405),i=n(42135);const a={serializer:e=>JSON.stringify(e),cache:new Map},l=new class{memoize(e){let{serializer:t=a.serializer,cache:n=a.cache}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];const i=t(o);if(n.has(i))return n.get(i);const a=e(...o);return n.set(i,a),a}}};var c=n(38693),u=n(13892);const h=(e,t)=>{const n=new u.ZP({dictionary:t});if(!e)return new c.Z("root");const a=(e=>e.replace(/<link(?:(?!\stype=)[^>])*\stype="(team|manager)"[^>]*>([^<]*)<\/link>/g,((e,t,n)=>n)))(e),l=new r.InputStream(a),h=new s.N(l),d=new r.CommonTokenStream(h),p=new i.J(d);p.buildParseTrees=!0;const m=p.block();return o.ParseTreeWalker.DEFAULT.walk(n,m),n.getResult()},d=new Map,p=(e,t)=>l.memoize(h,{serializer:()=>e,cache:d})(t),m=h},32490:(e,t,n)=>{"use strict";let r;n.d(t,{q:()=>r}),function(e){e.Close="close",e.Command="command",e.OnAuthTokenUpdated="onAuthTokenUpdated"}(r||(r={}))},58138:(e,t,n)=>{"use strict";n.d(t,{W:()=>f,Z:()=>_});var r=n(55485),o=n(64880),s=n(96940),i=n(91527),a=n(24848),l=n(27841),c=n(72927),u=n(44194),h=n(34445),d=n(53284),p=n(10919),m=n(39156),g=n(15964);const f=s.iv`
  background: var(--bg-black-lighter, rgba(0, 0, 0, 5%));
  transition: background-color 150ms cubic-bezier(0.3, 0, 0, 1);

  ${(0,g.jC)(s.iv`
    background: var(--bg-black-light, rgba(0, 0, 0, 8%));
  `)}
`,v=s.zo.a.withConfig({displayName:"MainChatButton__Wrapper",componentId:"ch-front__sc-18xugjs-0"})(["cursor:pointer;display:flex;gap:8px;align-items:center;justify-content:center;padding:14px 16px 14px 14px;border-radius:16px;",""],f),b=s.zo.div.withConfig({displayName:"MainChatButton__IconWrapper",componentId:"ch-front__sc-18xugjs-1"})(["display:flex;gap:16px;margin-left:auto;"]),_=function(){const{translate:e}=(0,p.Z)(),t=(0,h.Z)(d.Z.userChatSelectors.getMainChatId),n=(0,h.Z)((e=>d.Z.userChatSelectors.isUserChatAlf(e,t)));return u.createElement(v,{onClick:e=>{e.preventDefault(),h.S.goUserChat(t)},href:(0,m.ID)(t)},u.createElement(i.Z,{typo:a.ZT.Size15,color:"txt-black-dark"},e(n?"ch.alf.input_placeholder":"ch.messenger.placeholder")),u.createElement(b,null,u.createElement(l.J,{source:r.F,size:c.J.S,color:"txt-black-dark"}),u.createElement(l.J,{source:o.C,size:c.J.S,color:"txt-black-dark"})))}},48126:(e,t,n)=>{"use strict";n.d(t,{p3:()=>E,Jj:()=>C,sZ:()=>l,p6:()=>u,A7:()=>p});var r=n(34445),o=n(53284);const s=function(){const e=(0,r.Z)(o.Z.userChatSelectors.getMainChat);return(0,r.Z)(o.Z.userChatSelectors.getCurrentUserChatId)||(null==e?void 0:e.id)};var i=n(10919),a=n(80577);function l(){const e=s(),t=(0,r.Z)((t=>o.Z.channelOperationSelectors.isInOperation(t,e))),n=(0,r.Z)((t=>o.Z.channelOperationSelectors.isOperationTimeScheduling(t,e))),i=(0,r.Z)((t=>o.Z.channelOperationSelectors.nextOperatingAt(t,e))),l=a.Z.getDate().getTime();return!t&&n&&i>l+6e4}var c=n(86548);function u(){const e=s(),t=(0,r.Z)((t=>o.Z.channelOperationSelectors.nextOperatingAt(t,e))),n=(0,r.Z)(o.Z.userSelectors.getSystemLanguage),{translate:a}=(0,i.Z)();return a("ch.response_status.auto",(0,c.Ym)(t,n,a))}var h=n(36355);const d={[h.D.INSTANT]:"ch.response_delay.fast",[h.D.NORMAL]:"ch.response_delay.few_minutes",[h.D.DELAYED]:"ch.response_delay.delayed"};function p(){const e=s(),t=(0,r.Z)((t=>o.Z.channelOperationSelectors.isInOperation(t,e))),n=(0,r.Z)((t=>o.Z.channelOperationSelectors.isNewChatAvailable(t,e))),{translate:a}=(0,i.Z)(),c=u(),h=l(),p=function(){const e=s(),t=(0,r.Z)((t=>o.Z.channelOperationSelectors.expectedResponseDelay(t,e))),{translate:n}=(0,i.Z)();return n(d[t])}();return t?p:h?c:a(n?"ch.response_status.away_active":"ch.response_status.out_of_office")}var m=n(7150),g=n(37131),f=n(55310),v=n(99173),b=n(27841),_=n(72927),y=n(44194);const C=function(){const e=s(),t=(0,r.Z)((t=>o.Z.channelOperationSelectors.isInOperation(t,e))),n=(0,r.Z)((t=>o.Z.channelOperationSelectors.expectedResponseDelay(t,e))),i=(0,r.Z)((t=>o.Z.channelOperationSelectors.isNewChatAvailable(t,e))),a=l(),c=t?n===h.D.INSTANT?m.L:g.D:a||i?f.C:v.C,u=t?n===h.D.DELAYED?"bgtxt-yellow-normal":"bgtxt-green-normal":"txt-black-dark";return y.createElement(b.J,{source:c,color:u,size:_.J.XS})};var w=n(91527);const E=function(e){let{typo:t,userChatId:n}=e;const s=(0,r.Z)((e=>o.Z.channelOperationSelectors.isInOperation(e,n)));return y.createElement(w.Z,{typo:t,color:s?"txt-black-dark":"txt-black-darker",bold:!s,truncated:!0},p())}},51328:(e,t,n)=>{"use strict";let r,o,s;n.d(t,{GL:()=>r,hi:()=>o,wj:()=>s}),function(e){e[e.NetworkError=0]="NetworkError",e[e.Unauthenticated=401]="Unauthenticated",e[e.Forbidden=403]="Forbidden",e[e.NotFound=422]="NotFound"}(r||(r={})),function(e){e.ConstraintChannelError="constraintChannelError",e.ConstraintClientError="constraintClientError",e.ConstraintUrlError="constraintUrlError",e.SessionJWTInvalidError="sessionJWTInvalidError"}(o||(o={})),function(e){e.ChunkLoadError="ChunkLoadError"}(s||(s={}))},88923:(e,t,n)=>{"use strict";n.d(t,{$:()=>K,U:()=>X});var r=n(44194),o=n(28961),s=n(94046),i=n(10919),a=n(48793),l=n(50022),c=n(15183),u=n(27841),h=n(72927),d=n(34445),p=n(53284);const{isMobile:m,isKakaoInAppBrowser:g,isAndroidChrome114:f}=o.Z;var v=n(96940),b=n(15964);let _;!function(e){e.Cobalt="cobalt",e.Grey="grey",e.Purple="purple"}(_||(_={}));const y=v.zo.a.withConfig({displayName:"IntegrationItemstyled__LinkContainer",componentId:"ch-front__sc-1nhdapy-0"})(["cursor:pointer;"]);let C;!function(e){e.Large="large",e.Small="small"}(C||(C={}));const w=v.zo.div.withConfig({displayName:"IntegrationItemstyled__Item",componentId:"ch-front__sc-1nhdapy-1"})(["overflow:hidden;display:flex;align-items:center;justify-content:center;transition:transform 0.1s ease-out;"," "," ",""],(function(e){let{size:t}=e;switch(t){default:case C.Small:return(0,v.iv)(["width:34px;height:34px;border-radius:12px;"]);case C.Large:return(0,v.iv)(["width:54px;height:54px;border-radius:20px;"])}}),(function(e){let{color:t}=e;switch(t){case _.Cobalt:return(0,v.iv)(["color:var(--bgtxt-cobalt-normal);background:var(--bgtxt-cobalt-lighter);"]);case _.Purple:return(0,v.iv)(["color:var(--bgtxt-purple-normal);background:var(--bgtxt-purple-lighter);"]);default:case _.Grey:return(0,v.iv)(["color:var(--txt-black-dark);background:var(--bg-black-light);"])}}),(0,b.jC)((0,v.iv)(["transform:scale(1.1);"]))),E=v.zo.img.withConfig({displayName:"IntegrationItemstyled__Image",componentId:"ch-front__sc-1nhdapy-2"})(["width:100%;height:100%;"]);function S(e){let{className:t,integrationItem:n,onMouseOver:o,size:s}=e;const{avatarUrl:i,href:a,icon:l,appMessengerName:c,key:v,text:b,color:_,mediumId:C}=n,S=function(e){let{key:t,href:n,appMessengerName:r,mediumId:o}=e;const s=(i="phone"===t,g?"_parent":i&&f?"_self":i&&m?"_parent":"_blank");var i;const a=(0,d.Z)(p.Z.channelSelectors.getChannelId);return e=>{e.preventDefault(),n?window.open(n,s):(r&&d.S.requestGetAppMessenerDeepLink.run({appMessengerName:r,observer:{next:e=>{window.open(e.uri,s)}}}),o&&d.S.requestConnectMediumLink.run({channelId:a,mediumId:o,observer:{next:e=>{window.open(e.attributes.url,s)}}}))}}({key:v,href:a,appMessengerName:c,mediumId:C});return r.createElement(y,{className:t,href:a,onClick:S,onMouseOver:o},r.createElement(w,{color:_,size:s},l&&r.createElement(u.J,{source:l,size:"large"===s?h.J.L:h.J.Normal}),i&&r.createElement(E,{alt:b,src:i})))}S.Size=C;const Z=S;var I=n(62721);const k=v.zo.button.withConfig({displayName:"MoreButton__ButtonContainer",componentId:"ch-front__sc-n1zo7n-0"})(["cursor:pointer;"]);function x(e){let{onClick:t,size:n}=e;return r.createElement(k,{onClick:t},r.createElement("span",{className:"a11y-hidden"},"See more ways to talk to us"),r.createElement(w,{size:n},r.createElement(u.J,{source:I.M,size:"large"===n?h.J.L:h.J.Normal})))}var T=n(73489),A=n(24848);const M=v.zo.div.withConfig({displayName:"IntegrationModalstyled__Content",componentId:"ch-front__sc-1pd1hz9-0"})(["display:flex;flex-wrap:wrap;gap:24px;justify-content:center;margin:24px 16px 40px;padding:0 16px;"]),P=v.zo.div.withConfig({displayName:"IntegrationModalstyled__Wrapper",componentId:"ch-front__sc-1pd1hz9-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),R=v.zo.div.withConfig({displayName:"IntegrationModalstyled__Name",componentId:"ch-front__sc-1pd1hz9-2"})(["margin-top:12px;font-weight:bold;color:",";text-decoration:none;",";"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]}),A.ZT.Size13),N=function(e){let{integratedItems:t,targetNodeRefToReturn:n}=e;const{translate:o}=(0,i.Z)();return r.createElement(T.Z,{title:o("ch.lounge.card.integrations.title"),targetNodeRefToReturn:n},r.createElement(M,null,t.map((e=>r.createElement(P,{key:e.key},r.createElement(Z,{size:Z.Size.Large,integrationItem:e}),r.createElement(R,null,e.text))))))};var O=n(94785),L=n(3223);function U(e,t){return e.pluginTextI18n[t]||e.pluginTextI18n.text}function D(){const e=(0,d.Z)((0,L.N)(p.Z.appMessengerSelectors.getAppMessengers)),t=(0,d.Z)(p.Z.appMessengerSelectors.getDeepLinkUris),n=(0,d.Z)(p.Z.userSelectors.getSystemLanguage);return e.map((e=>({appMessengerName:e.name,avatarUrl:e.avatarUrl,href:t[e.name],key:e.name,text:U(e,n),tooltip:U(e,n)})))}var z=n(28049),B=n(99265);const F={icon:z.C,color:_.Purple};function $(e){let{phoneIntegration:t}=e;const n=(0,d.Z)(p.Z.mediumLinkSelectors.getMediumLinks),r=(0,d.Z)(p.Z.userSelectors.getSystemLanguage);return n.map((e=>{switch(e.mediumType){case B.E.PHONE:return t;case B.E.APP:return{...e.iconUrl?{avatarUrl:e.iconUrl}:F,key:e.id,text:e.getName(r),mediumId:e.mediumId};default:return null}}))}var H=n(62949);var W=n(57410);const j=v.zo.div.withConfig({displayName:"IntegrationCardstyled__ToolTipContent",componentId:"ch-front__sc-ikg1gf-0"})(["overflow:hidden;max-width:210px;text-overflow:ellipsis;white-space:nowrap;"]),G=v.zo.div.withConfig({displayName:"IntegrationCardstyled__IconsWrapper",componentId:"ch-front__sc-ikg1gf-1"})(["display:flex;gap:6px;margin:auto 0;"]),q=(0,v.zo)(W.Z).withConfig({displayName:"IntegrationCardstyled__Wrapper",componentId:"ch-front__sc-ikg1gf-2"})(["position:relative;display:flex;flex-direction:row;align-content:center;padding:14px;"]),V=v.zo.h2.withConfig({displayName:"IntegrationCardstyled__Title",componentId:"ch-front__sc-ikg1gf-3"})(["display:flex;flex:1;margin:auto 0;padding:0;font-weight:bold;",";color:",";"],A.ZT.Size13,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]})),{isTouchableDevice:J}=o.Z,K=function(){const{translate:e}=(0,i.Z)(),{openModal:t}=(0,s.Z)(),n=function(){const e=function(){const{translate:e}=(0,i.Z)(),t=(0,d.Z)(p.Z.channelProfileSelectors.parsedPhoneNumber),n=(0,d.Z)(p.Z.channelProfileSelectors.channelPhoneNumber),o=(0,d.Z)(p.Z.mediumLinkSelectors.hasPhoneNumberMediumLink),[s,a]=(0,r.useState)(!1);if(o)return null;const l=!!t.e164;return n?{href:`tel:${n}`,icon:H.C,key:"phone",color:_.Cobalt,text:e("ch.integration.phone.text"),tooltip:l?e("ch.integrations.phone.tooltip",t.international):void 0,onMouseOver:()=>{l||s||d.S.requestGetChannelPhoneNumber.run({number:n,observer:{error:()=>{a(!1)},complete:()=>{a(!1)}}})}}:null}(),t=(0,d.Z)(p.Z.mediumLinkSelectors.hasPhoneNumberMediumLink);return(0,O.o)([...$({phoneIntegration:e}),...D(),t?null:e])}(),o=r.useRef(null),u=n.length>3,h=u?n.slice(0,2):n,m=r.createElement(G,null,h.map((e=>r.createElement(c.Z,{key:e.key,content:r.createElement(j,null,e.tooltip),placement:a.Z.LEFT,marginX:8,disabled:(0,l.xb)(e.tooltip)||J},r.createElement(Z,{size:Z.Size.Small,integrationItem:e,onMouseOver:e.onMouseOver})))),u&&r.createElement(x,{onClick:e=>{o.current=e.currentTarget,t(r.createElement(N,{targetNodeRefToReturn:o.current?o:void 0,integratedItems:n}))},size:Z.Size.Small}));return r.createElement(q,null,r.createElement(V,null,e("ch.integration.title")),m)};var Y=n(57730);const X=function(){return r.createElement(q,null,r.createElement(V,null,r.createElement(Y.N2,{width:109})),r.createElement(G,null,r.createElement(Y.N0,{size:34})))}},87374:(e,t,n)=>{"use strict";n.d(t,{d:()=>a,im:()=>i,mi:()=>c,r8:()=>l});var r=n(96940),o=n(23883),s=n(15964);const i=r.zo.div.withConfig({displayName:"SettingProfilestyled__Wrapper",componentId:"ch-front__sc-1e15fqm-0"})(["display:flex;flex-direction:column;gap:16px;align-items:center;width:100%;padding:16px 24px;"]),a=r.zo.div.withConfig({displayName:"SettingProfilestyled__Information",componentId:"ch-front__sc-1e15fqm-1"})(["display:flex;flex-direction:column;gap:4px;align-items:center;width:100%;text-align:center;&:empty{display:none;}"]),l=r.zo.div.withConfig({displayName:"SettingProfilestyled__Contact",componentId:"ch-front__sc-1e15fqm-2"})(["color:var(--txt-black-dark,rgba(0,0,0,40%));",""],(0,o.LH)()),c=r.zo.a.withConfig({displayName:"SettingProfilestyled__EditLink",componentId:"ch-front__sc-1e15fqm-3"})(["cursor:pointer;display:flex;align-items:center;padding:3px 4px;background:var(--bg-black-lighter,rgba(0,0,0,5%));border-radius:8px;",""],(0,s.jC)(r.iv`
    background: var(--bg-black-light, rgba(0, 0, 0, 5%));
  `))},52785:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.Cobalt="cobalt",e.Default="default",e.Green="green",e.Navy="navy",e.Olive="olive",e.Orange="orange",e.Pink="pink",e.Purple="purple",e.Red="red",e.Yellow="yellow"}(r||(r={}));const o=r},87893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(34445),o=n(53284);const s=function(){return(0,r.Z)(o.Z.channelSelectors.getChannel)}},44356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(44194);const o=function(e){let{shouldInitialize:t=!0,payload:n,effect:o}=e;const[s,i]=(0,r.useState)(t),[a,l]=(0,r.useState)(!1),c=(0,r.useRef)(!1),u=(0,r.useRef)(o),h=(0,r.useRef)(n);return u.current=o,h.current=n,(0,r.useEffect)((()=>{if(t&&!c.current){i(!0),l(!1),c.current=!0;const e={error:()=>{i(!1),l(!0),c.current=!1},complete:()=>{i(!1),c.current=!1}};u.current.run(h.current(e))}}),[t]),[s,a]}},3164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(34445),o=n(53284),s=n(18291);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{personId:n="",personType:i=null}=e??{},a=(0,s.Z)(),l=(0,r.Z)((e=>o.Z.messageSelectors.isMessageAuthorEmpty(e,i,n))),c=(0,r.Z)((e=>o.Z.messageSelectors.getMessageAuthorAvatarUrl(e,i,n))),u=(0,r.Z)((e=>o.Z.messageSelectors.getMessageAuthorName(e,i,n))),h=(0,r.Z)((e=>o.Z.messageSelectors.isMessageAuthorAi(e,i,n))),d={avatarUrl:(0,r.Z)(o.Z.channelProfileSelectors.channelLogoUrl),name:(0,r.Z)(o.Z.channelProfileSelectors.channelName),isAi:!1},p={avatarUrl:c,name:u||t||a,isAi:h},m=!e||l||e.getDisplayAsChannel();return m?d:p}},94046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(32106);const o=function(){return{openModal:r.h7,closeModal:r.Mr}}},97050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(44194);function o(){const e=(0,r.useRef)(new Set);return(0,r.useEffect)((()=>()=>{e.current.size>0&&e.current.forEach((e=>{clearTimeout(e)}))}),[]),(0,r.useCallback)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=window.setTimeout(t,n);return e.current.add(r),r}),[])}},10919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(44194),o=n(17787),s=n(60885),i=n(34445),a=n(53284),l=n(50022);const c=function(){const e=(0,i.Z)(a.Z.userSelectors.getSystemLanguage),t=(0,r.useCallback)((function(t){const n=s.Z.getTranslateObject(e)[t]??"";for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(0,l.xb)(i)?n:(0,o.sprintf)(n,...i)}),[e]),n=(0,r.useCallback)((e=>e),[]),c=(0,r.useCallback)((function(t){const n=s.Z.getTranslateObject(e)[t]??"";for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return r.createElement("span",{dangerouslySetInnerHTML:{__html:(0,l.xb)(a)?n:(0,o.sprintf)(n,...a)}})}),[e]);return{translate:t,mockTranslate:n,translateWithInnerHtml:c}}},18291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(10919);function o(){const{translate:e}=(0,r.Z)();return e("ch.unknown")}},23817:(e,t,n)=>{"use strict";n.d(t,{JL:()=>v,Rk:()=>p,XS:()=>f,cD:()=>b,i7:()=>d,tn:()=>_});var r=n(96940),o=n(40068),s=n(76438),i=n(28961),a=n(33122),l=n(93099),c=n(50056);const{isIPhone:u}=i.Z,h=(0,r.iv)(["background-color:var(--bg-grey-lighter);"]),d=r.zo.div.withConfig({displayName:"Layoutstyled__PCAppLayout",componentId:"ch-front__sc-19rvneg-0"})(["position:fixed;inset:0;",""],h),p=r.zo.div.withConfig({displayName:"Layoutstyled__PCStandaloneLayout",componentId:"ch-front__sc-19rvneg-1"})(["position:relative;transform:translateZ(0);overflow-x:hidden;width:","px;height:100%;min-height:500px;max-height:","px;border-radius:","px;box-shadow:0 12px 60px 5px rgba(0,0,0,30%);",""],l.L[l.A.Default].width,l.L[l.A.Default].height,a.IZ,h),m=(0,o.F4)(["from{opacity:0;transform:translateY(150px);}20%{opacity:0.5;}to{opacity:1;transform:translateY(0);}"]),g=(0,r.iv)(["animation:"," ","ms cubic-bezier(0.2,1,0.4,1) both;"],m,600),f=r.zo.div.withConfig({displayName:"Layoutstyled__MobileAppLayout",componentId:"ch-front__sc-19rvneg-2"})(["position:fixed;inset:env(safe-area-inset-top) 0 0;"," ",""],h,(e=>{let{showMessenger:t}=e;return t&&g})),v=r.zo.div.withConfig({displayName:"Layoutstyled__MobileStandaloneLayout",componentId:"ch-front__sc-19rvneg-3"})(["display:flex;flex-direction:column;width:100%;min-height:100%;",""],h),b=r.zo.div.withConfig({displayName:"Layoutstyled__FullPageWrapper",componentId:"ch-front__sc-19rvneg-4"})(["width:100%;",""],s.Z.isFixedDocumentMode()?(0,r.iv)(["height:100%;"]):(0,r.iv)(["display:flex;flex:1;flex-direction:column;"])),_=r.zo.div.withConfig({displayName:"Layoutstyled__ScrollableContent",componentId:"ch-front__sc-19rvneg-5"})(["width:100%;",""],s.Z.isFixedDocumentMode()?(0,r.iv)(["overflow-y:auto;height:100%;"," ",""],(0,c.y$)(),u&&(0,c.aN)()):(0,r.iv)(["flex:1;"]))},94722:(e,t,n)=>{"use strict";n.d(t,{Di:()=>h,J$:()=>f,a1:()=>g,rU:()=>m,vx:()=>d});var r=n(96940),o=n(91527),s=n(28961),i=n(74117),a=n(94109),l=n(15964);const{isMobile:c,isSafariOnIOS26:u}=s.Z,h=c?"calc(env(safe-area-inset-bottom) + 60px)":"60px",d=r.zo.nav.withConfig({displayName:"NavigationBarstyled__NavigationBar",componentId:"ch-front__sc-1kd54kd-0"})(["position:fixed;z-index:",";right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:space-between;height:",";padding:4px 6px 6px;background:",";backdrop-filter:blur(30px);"," ",""],i.Z.NAVIGATION_BAR,h,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-navi"]}),u&&(0,a.N0)()&&r.iv`
    background: ${e=>{let{foundation:t}=e;return null==t?void 0:t.theme["bg-grey-lighter"]}};
    backdrop-filter: unset;
  `,c&&r.iv`
    padding-bottom: calc(env(safe-area-inset-bottom) + 6px);
  `);function p(e){let{foundation:t}=e;return null!=t&&t.useFallbackColor?null==t?void 0:t.theme["txt-black-darkest"]:null==t?void 0:t.color}const m=r.zo.a.withConfig({displayName:"NavigationBarstyled__Link",componentId:"ch-front__sc-1kd54kd-1"})(["display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;height:100%;color:",";",""],(function(e){let{selected:t,foundation:n}=e;return t?p({foundation:n}):null==n?void 0:n.theme["txt-black-dark"]}),(0,l.jC)(r.iv`
    color: ${p};
  `)),g=r.zo.div.withConfig({displayName:"NavigationBarstyled__IconWrapper",componentId:"ch-front__sc-1kd54kd-2"})(["position:relative;"]),f=(0,r.zo)(o.Z).withConfig({displayName:"NavigationBarstyled__TabTitle",componentId:"ch-front__sc-1kd54kd-3"})(["margin-top:2px;"])},47405:(e,t,n)=>{var r=n(12442),o=["","\b\b\b\b\t","\t\t\t","\t\t\b\t\b\t\t\t\n\t\n","\v\t\v\f\t\f\r\t\r\t","\t\t\t\t","\t\t\t","\t\t\t\t","\t\t\t","\t\t\t \t ","","","R\n\rS","\\\n\r","]\b\ba\n\b\r\b\bb\t\tf\n\t","\r\t\tg\n\n\v\v\v","\v\f\f\r\ru\n","\rv","~\n\r","","","\n\r","\n\r","","\n\r","\n","\r\n\r","","   \n \r  ","  !\b\n\f","\b\t\n\v\f\r",' "$&(*,.0',"2468:<>@B","\t\b--//2;C\\aac|\udffd","2;C\\c|C\\c|\b/02;C\\^^aa",'c|\v\v""',"\b","\n\f","","","",""," ",'"$',"&(*",",.","02","46","8:","<D\bH","\nM\fO","W[`","ei","ko","qt",' x"}$',"&(","*,",".02","46","8:","<>","@B","DE>EFFG\b","GHI&IJ}","JKKL\bL\t","MNB N\vOQ","<PR\tQPRS","SQST","TUUV<V\r","WX\ud83eXY\tY","Z\\\t[Z","\\]][]^","^_a>`_","abb`","bccdf@","edfgge","ghh","ij\vjkl@","lmmn\b\vn","op1p","qr?rsu\t","tsuvvt","vww","xy$yzz{\b","{!|~>}|","~}","","\b#","$","\b%","B '&","}","\b)","\t","","+",">","","-","\v/","","\b1","B 3\t","","","5~","7\t","","","9>","","",";\v","=\t\b?","\fA","(\t","","","=","CS]bgv","","\b"].join(""),s=(new r.atn.ATNDeserializer).deserialize(o),i=s.decisionToState.map((function(e,t){return new r.dfa.DFA(e,t)}));function a(e){return r.Lexer.call(this,e),this._interp=new r.atn.LexerATNSimulator(this,s,i,new r.PredictionContextCache),this}a.prototype=Object.create(r.Lexer.prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,"atn",{get:function(){return s}}),a.EOF=r.Token.EOF,a.LT=1,a.VAR_BEG=2,a.ESCAPED=3,a.EMOJI=4,a.EMOJI_SKIN_TONE_MODIFIER=5,a.CHAR=6,a.WS=7,a.NEW_LINE=8,a.ANY=9,a.GT=10,a.SLASH=11,a.EQUALS=12,a.TAG_NAME=13,a.STR_BEG=14,a.TAG_WS=15,a.STR_END=16,a.STR_ESCAPED=17,a.STR_VAR_BEG=18,a.STR_CHAR=19,a.STR_WS=20,a.STR_ANY=21,a.VAR_END=22,a.VAR_ESCAPED=23,a.VAR_NAME=24,a.VAR_BAR=25,a.VAR_UNI=26,a.VAR_WS=27,a.VAR_ANY=28,a.TAG=1,a.STR=2,a.VAR=3,a.prototype.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],a.prototype.modeNames=["DEFAULT_MODE","TAG","STR","VAR"],a.prototype.literalNames=[null,"'<'",null,null,null,null,null,null,null,null,"'>'","'/'","'='",null,null,null,null,null,null,null,null,null,"'}'",null,null,"'|'"],a.prototype.symbolicNames=[null,"LT","VAR_BEG","ESCAPED","EMOJI","EMOJI_SKIN_TONE_MODIFIER","CHAR","WS","NEW_LINE","ANY","GT","SLASH","EQUALS","TAG_NAME","STR_BEG","TAG_WS","STR_END","STR_ESCAPED","STR_VAR_BEG","STR_CHAR","STR_WS","STR_ANY","VAR_END","VAR_ESCAPED","VAR_NAME","VAR_BAR","VAR_UNI","VAR_WS","VAR_ANY"],a.prototype.ruleNames=["LT","VAR_BEG","ESCAPED","EMOJI","EMOJI_SKIN_TONE_MODIFIER","CHAR","WS","NEW_LINE","ANY","GT","SLASH","EQUALS","TAG_NAME","STR_BEG","TAG_WS","STR_END","STR_ESCAPED","STR_VAR_BEG","STR_CHAR","STR_WS","STR_ANY","VAR_END","VAR_ESCAPED","VAR_NAME","VAR_BAR","VAR_UNI","VAR_WS","VAR_ANY","Ws","NewLine","Escaped"],a.prototype.grammarFileName="TextBlockLexer.g4",t.N=a},42135:(e,t,n)=>{var r=n(12442),o=n(23206).U,s=["","u\t\t\t","\t\t\t","\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f","\r\t\r\n\f"," \v","&\n\r'","/\n\f","2\v","7\n\f:\v","","","L\n\rM\b","\b\b\b\bT\n\b\r\b\bU\t\t","\tZ\n\t\n\n\n\n\n`\n\n\n\n","\v\v\v\v\v\v","i\n\v\f\v\vl\v\v\f\fo\n\f\r\f","\fp\r\r\r","\b\n\f","\b\t\v\v","","%)\b+","\n@\fK","SW","[jn","r",""," ","","! ",'!""',"#&\b$&\b%#","%$&''%","'((",")*\n*+,",",0-/\n.-","/20.","011320","38\f47\b57\b","64657:","86899;",":8;<<=","\r=>>?\f?\t","@AAB","BCCD\fDE","E\vFL\rGL","\nHLILJ","LKFKG","KHKIKJ","LMMKMN","N\rOT\r","PT\tQT\nRT\fS","OSPSQ","SRTUUS","UVV","WYXZYX","YZZ[\\\t","\\_]^","^`\v_]_`","`aabb","ci\rdie","ifigi","hchdhe","hfhgil","jhjk","kljmo\t","nmoppn","pqq","rs\ts","%'068KMSUY_hjp"].join(""),i=(new r.atn.ATNDeserializer).deserialize(s),a=i.decisionToState.map((function(e,t){return new r.dfa.DFA(e,t)})),l=new r.PredictionContextCache,c=[null,"'<'",null,null,null,null,null,null,null,null,"'>'","'/'","'='",null,null,null,null,null,null,null,null,null,"'}'",null,null,"'|'"],u=[null,"LT","VAR_BEG","ESCAPED","EMOJI","EMOJI_SKIN_TONE_MODIFIER","CHAR","WS","NEW_LINE","ANY","GT","SLASH","EQUALS","TAG_NAME","STR_BEG","TAG_WS","STR_END","STR_ESCAPED","STR_VAR_BEG","STR_CHAR","STR_WS","STR_ANY","VAR_END","VAR_ESCAPED","VAR_NAME","VAR_BAR","VAR_UNI","VAR_WS","VAR_ANY"],h=["block","group","newLine","tag","attribute","attrValue","content","emoji","variable","variableFallback","plain","escape"];function d(e){return r.Parser.call(this,e),this._interp=new r.atn.ParserATNSimulator(this,i,a,l),this.ruleNames=h,this.literalNames=c,this.symbolicNames=u,this}function p(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_block,this}function m(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_group,this}function g(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_newLine,this}function f(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_tag,this}function v(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_attribute,this}function b(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_attrValue,this}function _(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_content,this}function y(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_emoji,this}function C(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_variable,this}function w(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_variableFallback,this}function E(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_plain,this}function S(e,t,n){return void 0===t&&(t=null),null==n&&(n=-1),r.ParserRuleContext.call(this,t,n),this.parser=e,this.ruleIndex=d.RULE_escape,this}d.prototype=Object.create(r.Parser.prototype),d.prototype.constructor=d,Object.defineProperty(d.prototype,"atn",{get:function(){return i}}),d.EOF=r.Token.EOF,d.LT=1,d.VAR_BEG=2,d.ESCAPED=3,d.EMOJI=4,d.EMOJI_SKIN_TONE_MODIFIER=5,d.CHAR=6,d.WS=7,d.NEW_LINE=8,d.ANY=9,d.GT=10,d.SLASH=11,d.EQUALS=12,d.TAG_NAME=13,d.STR_BEG=14,d.TAG_WS=15,d.STR_END=16,d.STR_ESCAPED=17,d.STR_VAR_BEG=18,d.STR_CHAR=19,d.STR_WS=20,d.STR_ANY=21,d.VAR_END=22,d.VAR_ESCAPED=23,d.VAR_NAME=24,d.VAR_BAR=25,d.VAR_UNI=26,d.VAR_WS=27,d.VAR_ANY=28,d.RULE_block=0,d.RULE_group=1,d.RULE_newLine=2,d.RULE_tag=3,d.RULE_attribute=4,d.RULE_attrValue=5,d.RULE_content=6,d.RULE_emoji=7,d.RULE_variable=8,d.RULE_variableFallback=9,d.RULE_plain=10,d.RULE_escape=11,p.prototype=Object.create(r.ParserRuleContext.prototype),p.prototype.constructor=p,p.prototype.EOF=function(){return this.getToken(d.EOF,0)},p.prototype.group=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(m):this.getTypedRuleContext(m,e)},p.prototype.newLine=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(g):this.getTypedRuleContext(g,e)},p.prototype.enterRule=function(e){e instanceof o&&e.enterBlock(this)},p.prototype.exitRule=function(e){e instanceof o&&e.exitBlock(this)},d.BlockContext=p,d.prototype.block=function(){var e=new p(this,this._ctx,this.state);this.enterRule(e,0,d.RULE_block);var t=0;try{for(this.enterOuterAlt(e,1),this.state=28,this._errHandler.sync(this),t=this._input.LA(1);0==(-32&t)&&0!=(1<<t&(1<<d.LT|1<<d.VAR_BEG|1<<d.ESCAPED|1<<d.EMOJI|1<<d.CHAR|1<<d.WS|1<<d.NEW_LINE|1<<d.ANY|1<<d.STR_ESCAPED|1<<d.STR_VAR_BEG|1<<d.VAR_ESCAPED));){switch(this.state=26,this._errHandler.sync(this),this._input.LA(1)){case d.LT:case d.VAR_BEG:case d.ESCAPED:case d.EMOJI:case d.CHAR:case d.WS:case d.ANY:case d.STR_ESCAPED:case d.STR_VAR_BEG:case d.VAR_ESCAPED:this.state=24,this.group();break;case d.NEW_LINE:this.state=25,this.newLine();break;default:throw new r.error.NoViableAltException(this)}this.state=30,this._errHandler.sync(this),t=this._input.LA(1)}this.state=31,this.match(d.EOF)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},m.prototype=Object.create(r.ParserRuleContext.prototype),m.prototype.constructor=m,m.prototype.tag=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(f):this.getTypedRuleContext(f,e)},m.prototype.content=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(_):this.getTypedRuleContext(_,e)},m.prototype.enterRule=function(e){e instanceof o&&e.enterGroup(this)},m.prototype.exitRule=function(e){e instanceof o&&e.exitGroup(this)},d.GroupContext=m,d.prototype.group=function(){var e=new m(this,this._ctx,this.state);this.enterRule(e,2,d.RULE_group);try{this.enterOuterAlt(e,1),this.state=35,this._errHandler.sync(this);var t=1;do{if(1!==t)throw new r.error.NoViableAltException(this);switch(this.state=35,this._errHandler.sync(this),this._input.LA(1)){case d.LT:this.state=33,this.tag();break;case d.VAR_BEG:case d.ESCAPED:case d.EMOJI:case d.CHAR:case d.WS:case d.ANY:case d.STR_ESCAPED:case d.STR_VAR_BEG:case d.VAR_ESCAPED:this.state=34,this.content();break;default:throw new r.error.NoViableAltException(this)}this.state=37,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,3,this._ctx)}while(2!=t&&t!=r.atn.ATN.INVALID_ALT_NUMBER)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},g.prototype=Object.create(r.ParserRuleContext.prototype),g.prototype.constructor=g,g.prototype.NEW_LINE=function(){return this.getToken(d.NEW_LINE,0)},g.prototype.enterRule=function(e){e instanceof o&&e.enterNewLine(this)},g.prototype.exitRule=function(e){e instanceof o&&e.exitNewLine(this)},d.NewLineContext=g,d.prototype.newLine=function(){var e=new g(this,this._ctx,this.state);this.enterRule(e,4,d.RULE_newLine);try{this.enterOuterAlt(e,1),this.state=39,this.match(d.NEW_LINE)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},f.prototype=Object.create(r.ParserRuleContext.prototype),f.prototype.constructor=f,f.prototype.LT=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.LT):this.getToken(d.LT,e)},f.prototype.TAG_NAME=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.TAG_NAME):this.getToken(d.TAG_NAME,e)},f.prototype.GT=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.GT):this.getToken(d.GT,e)},f.prototype.SLASH=function(){return this.getToken(d.SLASH,0)},f.prototype.attribute=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(v):this.getTypedRuleContext(v,e)},f.prototype.tag=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(f):this.getTypedRuleContext(f,e)},f.prototype.content=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(_):this.getTypedRuleContext(_,e)},f.prototype.enterRule=function(e){e instanceof o&&e.enterTag(this)},f.prototype.exitRule=function(e){e instanceof o&&e.exitTag(this)},d.TagContext=f,d.prototype.tag=function(){var e=new f(this,this._ctx,this.state);this.enterRule(e,6,d.RULE_tag);var t=0;try{for(this.enterOuterAlt(e,1),this.state=41,this.match(d.LT),this.state=42,this.match(d.TAG_NAME),this.state=46,this._errHandler.sync(this),t=this._input.LA(1);t===d.TAG_NAME;)this.state=43,this.attribute(),this.state=48,this._errHandler.sync(this),t=this._input.LA(1);this.state=49,this.match(d.GT),this.state=54,this._errHandler.sync(this);for(var n=this._interp.adaptivePredict(this._input,6,this._ctx);2!=n&&n!=r.atn.ATN.INVALID_ALT_NUMBER;){if(1===n)switch(this.state=52,this._errHandler.sync(this),this._input.LA(1)){case d.LT:this.state=50,this.tag();break;case d.VAR_BEG:case d.ESCAPED:case d.EMOJI:case d.CHAR:case d.WS:case d.ANY:case d.STR_ESCAPED:case d.STR_VAR_BEG:case d.VAR_ESCAPED:this.state=51,this.content();break;default:throw new r.error.NoViableAltException(this)}this.state=56,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,6,this._ctx)}this.state=57,this.match(d.LT),this.state=58,this.match(d.SLASH),this.state=59,this.match(d.TAG_NAME),this.state=60,this.match(d.GT)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},v.prototype=Object.create(r.ParserRuleContext.prototype),v.prototype.constructor=v,v.prototype.TAG_NAME=function(){return this.getToken(d.TAG_NAME,0)},v.prototype.EQUALS=function(){return this.getToken(d.EQUALS,0)},v.prototype.STR_BEG=function(){return this.getToken(d.STR_BEG,0)},v.prototype.attrValue=function(){return this.getTypedRuleContext(b,0)},v.prototype.STR_END=function(){return this.getToken(d.STR_END,0)},v.prototype.enterRule=function(e){e instanceof o&&e.enterAttribute(this)},v.prototype.exitRule=function(e){e instanceof o&&e.exitAttribute(this)},d.AttributeContext=v,d.prototype.attribute=function(){var e=new v(this,this._ctx,this.state);this.enterRule(e,8,d.RULE_attribute);try{this.enterOuterAlt(e,1),this.state=62,this.match(d.TAG_NAME),this.state=63,this.match(d.EQUALS),this.state=64,this.match(d.STR_BEG),this.state=65,this.attrValue(),this.state=66,this.match(d.STR_END)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},b.prototype=Object.create(r.ParserRuleContext.prototype),b.prototype.constructor=b,b.prototype.escape=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(S):this.getTypedRuleContext(S,e)},b.prototype.variable=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(C):this.getTypedRuleContext(C,e)},b.prototype.STR_CHAR=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.STR_CHAR):this.getToken(d.STR_CHAR,e)},b.prototype.STR_ANY=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.STR_ANY):this.getToken(d.STR_ANY,e)},b.prototype.STR_WS=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.STR_WS):this.getToken(d.STR_WS,e)},b.prototype.enterRule=function(e){e instanceof o&&e.enterAttrValue(this)},b.prototype.exitRule=function(e){e instanceof o&&e.exitAttrValue(this)},d.AttrValueContext=b,d.prototype.attrValue=function(){var e=new b(this,this._ctx,this.state);this.enterRule(e,10,d.RULE_attrValue);var t=0;try{this.enterOuterAlt(e,1),this.state=73,this._errHandler.sync(this),t=this._input.LA(1);do{switch(this.state=73,this._errHandler.sync(this),this._input.LA(1)){case d.ESCAPED:case d.STR_ESCAPED:case d.VAR_ESCAPED:this.state=68,this.escape();break;case d.VAR_BEG:case d.STR_VAR_BEG:this.state=69,this.variable();break;case d.STR_CHAR:this.state=70,this.match(d.STR_CHAR);break;case d.STR_ANY:this.state=71,this.match(d.STR_ANY);break;case d.STR_WS:this.state=72,this.match(d.STR_WS);break;default:throw new r.error.NoViableAltException(this)}this.state=75,this._errHandler.sync(this),t=this._input.LA(1)}while(0==(-32&t)&&0!=(1<<t&(1<<d.VAR_BEG|1<<d.ESCAPED|1<<d.STR_ESCAPED|1<<d.STR_VAR_BEG|1<<d.STR_CHAR|1<<d.STR_WS|1<<d.STR_ANY|1<<d.VAR_ESCAPED)))}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},_.prototype=Object.create(r.ParserRuleContext.prototype),_.prototype.constructor=_,_.prototype.escape=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(S):this.getTypedRuleContext(S,e)},_.prototype.emoji=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(y):this.getTypedRuleContext(y,e)},_.prototype.variable=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(C):this.getTypedRuleContext(C,e)},_.prototype.plain=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(E):this.getTypedRuleContext(E,e)},_.prototype.enterRule=function(e){e instanceof o&&e.enterContent(this)},_.prototype.exitRule=function(e){e instanceof o&&e.exitContent(this)},d.ContentContext=_,d.prototype.content=function(){var e=new _(this,this._ctx,this.state);this.enterRule(e,12,d.RULE_content);try{this.enterOuterAlt(e,1),this.state=81,this._errHandler.sync(this);var t=1;do{if(1!==t)throw new r.error.NoViableAltException(this);switch(this.state=81,this._errHandler.sync(this),this._input.LA(1)){case d.ESCAPED:case d.STR_ESCAPED:case d.VAR_ESCAPED:this.state=77,this.escape();break;case d.EMOJI:this.state=78,this.emoji();break;case d.VAR_BEG:case d.STR_VAR_BEG:this.state=79,this.variable();break;case d.CHAR:case d.WS:case d.ANY:this.state=80,this.plain();break;default:throw new r.error.NoViableAltException(this)}this.state=83,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,10,this._ctx)}while(2!=t&&t!=r.atn.ATN.INVALID_ALT_NUMBER)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},y.prototype=Object.create(r.ParserRuleContext.prototype),y.prototype.constructor=y,y.prototype.EMOJI=function(){return this.getToken(d.EMOJI,0)},y.prototype.EMOJI_SKIN_TONE_MODIFIER=function(){return this.getToken(d.EMOJI_SKIN_TONE_MODIFIER,0)},y.prototype.enterRule=function(e){e instanceof o&&e.enterEmoji(this)},y.prototype.exitRule=function(e){e instanceof o&&e.exitEmoji(this)},d.EmojiContext=y,d.prototype.emoji=function(){var e=new y(this,this._ctx,this.state);this.enterRule(e,14,d.RULE_emoji);try{this.enterOuterAlt(e,1),this.state=85,this.match(d.EMOJI),this.state=87,this._errHandler.sync(this),this._input.LA(1)===d.EMOJI_SKIN_TONE_MODIFIER&&(this.state=86,this.match(d.EMOJI_SKIN_TONE_MODIFIER))}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},C.prototype=Object.create(r.ParserRuleContext.prototype),C.prototype.constructor=C,C.prototype.VAR_NAME=function(){return this.getToken(d.VAR_NAME,0)},C.prototype.VAR_END=function(){return this.getToken(d.VAR_END,0)},C.prototype.VAR_BEG=function(){return this.getToken(d.VAR_BEG,0)},C.prototype.STR_VAR_BEG=function(){return this.getToken(d.STR_VAR_BEG,0)},C.prototype.VAR_BAR=function(){return this.getToken(d.VAR_BAR,0)},C.prototype.variableFallback=function(){return this.getTypedRuleContext(w,0)},C.prototype.enterRule=function(e){e instanceof o&&e.enterVariable(this)},C.prototype.exitRule=function(e){e instanceof o&&e.exitVariable(this)},d.VariableContext=C,d.prototype.variable=function(){var e=new C(this,this._ctx,this.state);this.enterRule(e,16,d.RULE_variable);var t=0;try{this.enterOuterAlt(e,1),this.state=89,(t=this._input.LA(1))!==d.VAR_BEG&&t!==d.STR_VAR_BEG?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=90,this.match(d.VAR_NAME),this.state=93,this._errHandler.sync(this),(t=this._input.LA(1))===d.VAR_BAR&&(this.state=91,this.match(d.VAR_BAR),this.state=92,this.variableFallback()),this.state=95,this.match(d.VAR_END)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},w.prototype=Object.create(r.ParserRuleContext.prototype),w.prototype.constructor=w,w.prototype.escape=function(e){return void 0===e&&(e=null),null===e?this.getTypedRuleContexts(S):this.getTypedRuleContext(S,e)},w.prototype.VAR_NAME=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.VAR_NAME):this.getToken(d.VAR_NAME,e)},w.prototype.VAR_UNI=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.VAR_UNI):this.getToken(d.VAR_UNI,e)},w.prototype.VAR_WS=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.VAR_WS):this.getToken(d.VAR_WS,e)},w.prototype.VAR_ANY=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.VAR_ANY):this.getToken(d.VAR_ANY,e)},w.prototype.enterRule=function(e){e instanceof o&&e.enterVariableFallback(this)},w.prototype.exitRule=function(e){e instanceof o&&e.exitVariableFallback(this)},d.VariableFallbackContext=w,d.prototype.variableFallback=function(){var e=new w(this,this._ctx,this.state);this.enterRule(e,18,d.RULE_variableFallback);var t=0;try{for(this.enterOuterAlt(e,1),this.state=104,this._errHandler.sync(this),t=this._input.LA(1);0==(-32&t)&&0!=(1<<t&(1<<d.ESCAPED|1<<d.STR_ESCAPED|1<<d.VAR_ESCAPED|1<<d.VAR_NAME|1<<d.VAR_UNI|1<<d.VAR_WS|1<<d.VAR_ANY));){switch(this.state=102,this._errHandler.sync(this),this._input.LA(1)){case d.ESCAPED:case d.STR_ESCAPED:case d.VAR_ESCAPED:this.state=97,this.escape();break;case d.VAR_NAME:this.state=98,this.match(d.VAR_NAME);break;case d.VAR_UNI:this.state=99,this.match(d.VAR_UNI);break;case d.VAR_WS:this.state=100,this.match(d.VAR_WS);break;case d.VAR_ANY:this.state=101,this.match(d.VAR_ANY);break;default:throw new r.error.NoViableAltException(this)}this.state=106,this._errHandler.sync(this),t=this._input.LA(1)}}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},E.prototype=Object.create(r.ParserRuleContext.prototype),E.prototype.constructor=E,E.prototype.CHAR=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.CHAR):this.getToken(d.CHAR,e)},E.prototype.ANY=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.ANY):this.getToken(d.ANY,e)},E.prototype.WS=function(e){return void 0===e&&(e=null),null===e?this.getTokens(d.WS):this.getToken(d.WS,e)},E.prototype.enterRule=function(e){e instanceof o&&e.enterPlain(this)},E.prototype.exitRule=function(e){e instanceof o&&e.exitPlain(this)},d.PlainContext=E,d.prototype.plain=function(){var e=new E(this,this._ctx,this.state);this.enterRule(e,20,d.RULE_plain);var t=0;try{this.enterOuterAlt(e,1),this.state=108,this._errHandler.sync(this);var n=1;do{if(1!==n)throw new r.error.NoViableAltException(this);this.state=107,0!=(-32&(t=this._input.LA(1)))||0==(1<<t&(1<<d.CHAR|1<<d.WS|1<<d.ANY))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=110,this._errHandler.sync(this),n=this._interp.adaptivePredict(this._input,15,this._ctx)}while(2!=n&&n!=r.atn.ATN.INVALID_ALT_NUMBER)}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},S.prototype=Object.create(r.ParserRuleContext.prototype),S.prototype.constructor=S,S.prototype.ESCAPED=function(){return this.getToken(d.ESCAPED,0)},S.prototype.STR_ESCAPED=function(){return this.getToken(d.STR_ESCAPED,0)},S.prototype.VAR_ESCAPED=function(){return this.getToken(d.VAR_ESCAPED,0)},S.prototype.enterRule=function(e){e instanceof o&&e.enterEscape(this)},S.prototype.exitRule=function(e){e instanceof o&&e.exitEscape(this)},d.EscapeContext=S,d.prototype.escape=function(){var e=new S(this,this._ctx,this.state);this.enterRule(e,22,d.RULE_escape);var t=0;try{this.enterOuterAlt(e,1),this.state=112,0!=(-32&(t=this._input.LA(1)))||0==(1<<t&(1<<d.ESCAPED|1<<d.STR_ESCAPED|1<<d.VAR_ESCAPED))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof r.error.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e},t.J=d},23206:(e,t,n)=>{var r=n(12442);function o(){return r.tree.ParseTreeListener.call(this),this}o.prototype=Object.create(r.tree.ParseTreeListener.prototype),o.prototype.constructor=o,o.prototype.enterBlock=function(e){},o.prototype.exitBlock=function(e){},o.prototype.enterGroup=function(e){},o.prototype.exitGroup=function(e){},o.prototype.enterNewLine=function(e){},o.prototype.exitNewLine=function(e){},o.prototype.enterTag=function(e){},o.prototype.exitTag=function(e){},o.prototype.enterAttribute=function(e){},o.prototype.exitAttribute=function(e){},o.prototype.enterAttrValue=function(e){},o.prototype.exitAttrValue=function(e){},o.prototype.enterContent=function(e){},o.prototype.exitContent=function(e){},o.prototype.enterEmoji=function(e){},o.prototype.exitEmoji=function(e){},o.prototype.enterVariable=function(e){},o.prototype.exitVariable=function(e){},o.prototype.enterVariableFallback=function(e){},o.prototype.exitVariableFallback=function(e){},o.prototype.enterPlain=function(e){},o.prototype.exitPlain=function(e){},o.prototype.enterEscape=function(e){},o.prototype.exitEscape=function(e){},t.U=o},59516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(80070),o=n(86582),s=n(58078),i=n(68266),a=n(50022),l=n(51328);const c={method:"GET",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},formOptions:{omitNil:!0}},u=e=>JSON.stringify(e),h=(e,t)=>{if(e&&(0,a.Kn)(e)){var n,r;const o=(null==t||null===(n=t.formOptions)||void 0===n?void 0:n.omitNil)??c.formOptions.omitNil,s=(null==t||null===(r=t.formOptions)||void 0===r?void 0:r.objectEncoder)??JSON.stringify,l=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return(0,a.kK)(r)&&o||((0,a.Kn)(r)||Array.isArray(r)?e[n]=s(r):e[n]=r),e}),{});return(0,i.P)(l)}return""};class d{constructor(e,t){(0,r.Z)(this,"baseUrl",void 0),(0,r.Z)(this,"defaultOptions",void 0),this.defaultOptions=Object.assign(c,t),this.baseUrl=e}getDefaultOptions(){return this.defaultOptions}createUrl(e,t){if(!e)return this.baseUrl;const n=(0,s.e$)(t,"query")?`?${(0,i.P)(null==t?void 0:t.query)}`:"";return`${(null==t?void 0:t.baseUrl)??this.baseUrl}${e}${n}`}get(e,t){return this.generateFetcher(e,{...t,query:null==t?void 0:t.query,method:"GET"})}post(e,t,n){return this.generateFetcher(e,{...n,method:"POST",encoder:(null==n?void 0:n.encoder)??u,body:t})}postBySimpleRequest(e,t,n){return this.post(e,t,{...n,encoder:h,headers:{...null==n?void 0:n.headers,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}})}put(e,t,n){return this.generateFetcher(e,{...n,method:"PUT",encoder:(null==n?void 0:n.encoder)??u,body:t})}patch(e,t,n){return this.generateFetcher(e,{...n,method:"PATCH",encoder:(null==n?void 0:n.encoder)??u,body:t})}delete(e,t){return this.generateFetcher(e,{...t,method:"DELETE"})}generateFetcher(e,t){const n=this.getDefaultOptions(),s=this.createUrl(e,t),i={...null==n?void 0:n.headers,...null==t?void 0:t.headers},l=(null==t?void 0:t.credentials)||(null==n?void 0:n.credentials),c={...n,...t,credentials:l};switch(c.method){case"PATCH":case"POST":case"PUT":if(!(0,a.kK)(c.body)){const e=(null==c?void 0:c.encoder)??u,t=(0,a.mf)(e)?e(c.body,c):c.body;c.body=t}break;default:delete c.body}return new class{constructor(){(0,r.Z)(this,"url",s),(0,r.Z)(this,"headers",i),(0,r.Z)(this,"options",c),(0,r.Z)(this,"mockData",null),(0,r.Z)(this,"resultHandler",(()=>{})),this.run=this.run.bind(this)}withToken(){const e=o.ZP.getToken();return e&&(this.headers={...this.headers,"x-session":e}),this}withMockData(e){return this.mockData=e,this}onResult(e){return this.resultHandler=e,this}doFetch(){if(this.mockData){const e=JSON.stringify(this.mockData);return Promise.resolve({headers:new Headers,ok:!0,status:200,text:()=>Promise.resolve(e),json:()=>Promise.resolve(this.mockData)})}return fetch(this.url,{...this.options,headers:this.headers})}run(){return this.doFetch().then(d.checkStatus).then((e=>(this.resultHandler(e),e))).then((e=>e.body)).catch(d.checkDisconnected)}}}static checkStatus(e){return e.status>=200&&e.status<300?e.text().then((t=>{return{ok:e.ok,status:e.status,headers:e.headers,body:(n=t,n?JSON.parse(n):null)};var n})):e.json().then((e=>{throw{status:e.status,type:e.type,body:e,errors:e.errors}}))}static checkDisconnected(e){return e.status||e.statusText?Promise.reject(e):Promise.reject({...e,status:l.GL.NetworkError})}}const p=d;var m=n(76438),g=n(87851);const f=new class extends p{constructor(){super(g.eS,{credentials:"omit"}),(0,r.Z)(this,"language",m.Z.getLanguage())}getDefaultOptions(){const e=super.getDefaultOptions();return{...e,headers:{...e.headers,"Accept-Language":this.language}}}setLanguage(e){this.language=e}}},12022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(80070),o=n(16758),s=n(87851),i=n(23414),a=n(58078),l=n(68266),c=n(50022);class u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"bucket",""),(0,r.Z)(this,"key",""),(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"type",void 0),(0,r.Z)(this,"name",void 0),(0,r.Z)(this,"size",0),(0,r.Z)(this,"contentType",void 0),(0,r.Z)(this,"width",void 0),(0,r.Z)(this,"height",void 0),(0,r.Z)(this,"orientation",void 0),(0,r.Z)(this,"previewKey",void 0),(0,r.Z)(this,"channelId",void 0),(0,r.Z)(this,"chatType",void 0),(0,r.Z)(this,"chatId",void 0),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}get isPrivateFile(){return!(0,c.kK)(this.channelId)&&!(0,c.kK)(this.chatType)&&!(0,c.kK)(this.chatId)}getKey(){return this.id?this.id:this.key&&this.bucket?`${this.bucket}/${this.key}`:""}get isEmpty(){return(0,c.xb)(this.key)}isPossiblyAnimated(){return!!this.contentType&&["image/gif","image/webp"].includes(this.contentType)}isImageFile(){return this.type===o.Z.Image}isPreviewable(){return this.type===o.Z.Video&&(0,i.ND)(this.contentType)||this.isImageFile()}hasExt(){return"default"!==this.getExt()}getExt(){var e;return(null===(e=this.name)||void 0===e?void 0:e.split(".").slice(1).pop())??"default"}getSize(){return(0,i.yW)(this.size||0)}getThumbUrl(e,t){if((0,c.xb)(this.bucket)||(0,c.xb)(this.key))return"";const n=(0,i.Xi)({width:e,height:t}),r=this.previewKey||this.key;return this.isPrivateFile?`${this.getPrivateUrl()}/thumb?${(0,l.P)({key:r,style:n})}`:`${this.getPublicUrlOrigin()}/thumb/${n}/${r}`}getUrl(){return this.isPrivateFile?`${this.getPrivateUrl()}/file?${(0,l.P)({key:this.key})}`:`${this.getPublicUrlOrigin()}/${this.key}`}getPrivateUrl(){return`${this.getPrivateUrlOrigin()}/cht/v1/front/user-chats/${this.chatId}/messages`}getPrivateUrlOrigin(){switch(this.bucket){case"bin.channel.io":return"https://media.channel.io";case"bin.exp.channel.io":return"https://media.exp.channel.io";default:return`http://${this.bucket}`}}getPublicUrlOrigin(){return"bin.channel.io"===this.bucket||"bin.exp.channel.io"===this.bucket?`${s.NF}`:`http://${this.bucket}`}}},15405:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(28023),o=n(58078),s=n(50022);class i{static isTime(e){return!(0,s.kK)(e)&&(0,o.e$)(e,"hour")&&(0,o.e$)(e,"minute")}static from(e){return new i(e.hour,e.minute,e.second,e.millisecond)}static fromMinuetsOfDay(e){const t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?e:(0,r.uZ)(e,0,1440),n=Math.floor(t/60);return new i(n,t-60*n)}static min(e,t){return t.isGreaterThan(e)?e:e.isGreaterThan(t)?t:e}static max(e,t){return e.isGreaterThan(t)?e:t.isGreaterThan(e)?t:e}constructor(e,t,n,r){this.hour=e||0,this.minute=t||0,this.second=n,this.millisecond=r}toString(){return[this.formatZero(this.hour),":",this.formatZero(this.minute),this.hasSecond()&&`:${this.formatZero(this.second)}`||void 0,this.hasMillisecond()&&`:${this.millisecond}`||void 0].join("")}equals(e){return!(!i.isTime(e)||this.hour!==e.hour||this.minute!==e.minute||this.hasSecond()&&e.hasSecond()&&this.second!==e.second||this.hasMillisecond()&&e.hasMillisecond()&&this.millisecond!==e.millisecond)}hasSecond(){return!(0,s.kK)(this.second)}hasMillisecond(){return!(0,s.kK)(this.millisecond)}toMinuetsOfDay(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=60*this.hour+this.minute;return e?(0,r.uZ)(t,0,1440):t}isGreaterThan(e){return!(this.equals(e)||this.hour<e.hour||this.minute<e.minute||this.hasSecond()&&e.hasSecond()&&this.second<e.second||this.hasMillisecond()&&e.hasMillisecond()&&this.millisecond<e.millisecond)}formatZero(e){return e<10?`0${e}`:`${e}`}}const a=i},22133:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(96940),o=n(23817);const s=(0,r.zo)(o.cD).withConfig({displayName:"ChatRoomstyled__Wrapper",componentId:"ch-front__sc-jbsr0r-0"})(["background-color:var(--bg-white-low);"])},96871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(44194),o=n(57730),s=n(32587),i=n(96940),a=n(28961),l=n(94109),c=n(3085),u=n(63466);const h=i.zo.div.withConfig({displayName:"ChatRoomHeaderSkeleton__ContentWrapper",componentId:"ch-front__sc-r8mtvf-0"})(["overflow:hidden;display:flex;gap:8px;align-items:center;height:100%;"]),d=i.zo.div.withConfig({displayName:"ChatRoomHeaderSkeleton__Content",componentId:"ch-front__sc-r8mtvf-1"})(["overflow:hidden;display:flex;flex-direction:column;"]),p=i.zo.div.withConfig({displayName:"ChatRoomHeaderSkeleton__AvatarWrapper",componentId:"ch-front__sc-r8mtvf-2"})(["display:flex;margin-left:2px;"]),{isMobile:m}=a.Z,g=function(){return r.createElement(c.Z,{rightButtons:(0,l.N0)()&&m&&r.createElement(u.Z,null)},r.createElement(h,null,r.createElement(p,null,r.createElement(o.N0,{size:24})),r.createElement(d,null,r.createElement(o.nN,{width:110,height:10,radius:4}))))};var f=n(22133),v=n(33122);const b=i.zo.div.withConfig({displayName:"ChatRoomSkeletonstyled__Messenger",componentId:"ch-front__sc-1tsdwf1-0"})(["display:flex;flex-direction:column;flex-shrink:0;gap:4px;width:100%;height:calc(100% - ","px);"],v.NH),_=i.zo.div.withConfig({displayName:"ChatRoomSkeletonstyled__MessengerFooterWrapper",componentId:"ch-front__sc-1tsdwf1-1"})(["position:fixed;right:0;bottom:0;left:0;width:100%;padding:0 10px 10px;"]),y=i.zo.div.withConfig({displayName:"ChatRoomSkeletonstyled__DeskMessage",componentId:"ch-front__sc-1tsdwf1-2"})(["display:flex;flex-direction:column;align-items:flex-start;padding:16px 18px;"]),C=i.zo.div.withConfig({displayName:"ChatRoomSkeletonstyled__DeskMessageText",componentId:"ch-front__sc-1tsdwf1-3"})(["padding:9px 2px;"]),w=i.zo.div.withConfig({displayName:"ChatRoomSkeletonstyled__UserMessage",componentId:"ch-front__sc-1tsdwf1-4"})(["display:flex;justify-content:flex-end;width:100%;padding:10px 16px;"]);function E(e){let{width:t}=e;return r.createElement(C,null,r.createElement(o.nN,{width:t,height:10,radius:4}))}function S(e){let{width:t}=e;return r.createElement(o.nN,{width:t,height:44,radius:16})}function Z(){const e=r.createElement(_,null,r.createElement(o.nN,{width:"100%",height:s.T3,radius:s.Mz}));return r.createElement(f.i,null,r.createElement(g,null),r.createElement(b,null,r.createElement(y,null,r.createElement(E,{width:290}),r.createElement(E,{width:160}),r.createElement(E,{width:236})),r.createElement(w,null,r.createElement(S,{width:100})),r.createElement(y,null,r.createElement(E,{width:160}),r.createElement(E,{width:236})),r.createElement(w,null,r.createElement(S,{width:220})),e))}const I=r.memo(Z)},3085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(91527),o=n(24848),s=n(44194),i=n(59135),a=n(11599),l=n(34445),c=n(53284),u=n(50655),h=n(40520),d=n(48825),p=n(16231),m=n(96940),g=n(28961),f=n(74117);const{isMobile:v}=g.Z,b=m.zo.header.withConfig({displayName:"BaseHeaderstyled__Wrapper",componentId:"ch-front__sc-aselju-0"})(["position:sticky;z-index:",";top:0;right:0;left:0;transform:translateZ(0);overflow:hidden;display:flex;align-items:center;padding:",";background:var(--bg-header-float,rgba(255,255,255,90%));backdrop-filter:blur(30px);",""],f.Z.HEADER,v?"6px 12px":"8px 12px",(e=>{let{isFollowUpLink:t}=e;return t&&m.iv`
      padding-left: 18px;
    `})),_=m.zo.button.withConfig({displayName:"BaseHeaderstyled__BackButtonWrapper",componentId:"ch-front__sc-aselju-1"})(["cursor:pointer;display:flex;align-items:center;min-width:50px;padding:0;"]),y=m.zo.div.withConfig({displayName:"BaseHeaderstyled__Badge",componentId:"ch-front__sc-aselju-2"})(["color:",";",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.iconColor}),o.ZT.Size13),C=m.zo.div.withConfig({displayName:"BaseHeaderstyled__Content",componentId:"ch-front__sc-aselju-3"})(["overflow:hidden;display:flex;align-items:center;width:100%;height:40px;color:",";"],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darkest"]})),w=m.zo.div.withConfig({displayName:"BaseHeaderstyled__RightButtonsWrapper",componentId:"ch-front__sc-aselju-4"})(["display:flex;flex-shrink:0;column-gap:4px;margin-left:10px;"]),E=function(e){let{children:t,rightButtons:n}=e;const{isFollowUpLink:m}=a.Z,g=(0,i.s0)(),f=(0,l.Z)(c.Z.userSelectors.getUserAlert),[v,E]=(0,s.useState)("0"),S=(0,s.useCallback)((0,h.Ds)((e=>{E(e)}),1e3,{trailing:!0}),[]),Z=void 0===v||"0"===v?"":v;(0,s.useEffect)((()=>(S((0,u.Bc)(f)),S.cancel)),[S,f]);const I=s.createElement(_,{onClick:()=>g(-1),"data-ch-testid":"back-button"},s.createElement("span",{className:"a11y-hidden"}," Go to previous page "),s.createElement(d.Z,{name:"chevron-left",size:p.$.Small,defaultOpacity:1,withTheme:!0,marginLeft:4}),s.createElement(y,null,s.createElement(r.Z,{typo:o.ZT.Size13},Z)));return s.createElement(b,{isFollowUpLink:m},!m&&I,s.createElement(C,null,t),s.createElement(w,null,n))}},63466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(96940),o=n(44194),s=n(34445),i=n(48825),a=n(16231);const l=r.zo.button.withConfig({displayName:"CloseButton__Button",componentId:"ch-front__sc-1ymkko2-0"})(["cursor:pointer;display:flex;align-items:center;justify-content:center;width:36px;height:36px;",""],(e=>{let{interpolation:t}=e;return t})),c=function(e){let{interpolation:t}=e;return o.createElement(l,{onClick:()=>{s.S.setShowMessenger.run(!1)},interpolation:t,"data-ch-testid":"close-button"},o.createElement("span",{className:"a11y-hidden"}," Close chat "),o.createElement(i.Z,{name:"cancel",size:a.$.Small,defaultOpacity:1,withTheme:!0}))}},77961:(e,t,n)=>{"use strict";n.d(t,{b:()=>A,Z:()=>P});var r=n(44194),o=n(57410),s=n(57730),i=n(88923),a=n(91527),l=n(24848),c=n(48825),u=n(16231),h=n(96940),d=n(33122),p=n(50056);const m=h.zo.header.withConfig({displayName:"DeprecatedBaseHeaderstyled__Wrapper",componentId:"ch-front__sc-d3rcwa-0"})(["position:relative;overflow:hidden;display:flex;align-items:center;min-height:","px;padding-right:14px;padding-bottom:1px;padding-left:","px;"],d.NH,(e=>{let{hasBackButton:t}=e;return t?12:22})),g=h.zo.button.withConfig({displayName:"DeprecatedBaseHeaderstyled__BackButtonWrapper",componentId:"ch-front__sc-d3rcwa-1"})(["cursor:pointer;display:flex;align-items:center;min-width:42px;margin-right:6px;padding:10px 0;"]),f=h.zo.div.withConfig({displayName:"DeprecatedBaseHeaderstyled__Badge",componentId:"ch-front__sc-d3rcwa-2"})(["color:",";"],(e=>{let{foundation:t}=e;return null==t?void 0:t.iconColor})),v=h.zo.div.withConfig({displayName:"DeprecatedBaseHeaderstyled__Content",componentId:"ch-front__sc-d3rcwa-3"})(["overflow:hidden;display:flex;align-items:center;width:100%;color:",";",""],(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-darkest"]}),(e=>{let{animation:t}=e;return t&&(0,p.SE)()})),b=h.zo.div.withConfig({displayName:"DeprecatedBaseHeaderstyled__RightButtonsWrapper",componentId:"ch-front__sc-d3rcwa-4"})(["display:flex;flex-shrink:0;margin-left:12px;"]),_=function(e){let{showBackButton:t,badge:n,onClickBackButton:o,className:s,animation:i,children:h,rightButtons:d}=e;const p=!(!t||!o),_=(0,r.useMemo)((()=>p?r.createElement(g,{onClick:o,"data-ch-testid":"back-button"},r.createElement("span",{className:"a11y-hidden"}," Go to previous page "),r.createElement(c.Z,{name:"chevron-left",size:u.$.Small,defaultOpacity:1,withTheme:!0}),r.createElement(f,null,r.createElement(a.Z,{typo:l.ZT.Size13},n))):null),[p,o,n]);return r.createElement(m,{className:s,hasBackButton:p},_,r.createElement(v,{animation:i},h),r.createElement(b,null,d))};var y=n(23883);const C=h.zo.div.withConfig({displayName:"HeaderChannelInfostyled__Name",componentId:"ch-front__sc-1g605vv-0"})(["margin-left:8px;",""],(0,y.LH)());var w=n(23817);const E=h.zo.div.withConfig({displayName:"HomeSkeletonstyled__ChatListItemWrapper",componentId:"ch-front__sc-1ylcn2r-0"})(["display:flex;padding:8px 14px 12px 12px;"]),S=h.zo.div.withConfig({displayName:"HomeSkeletonstyled__Description",componentId:"ch-front__sc-1ylcn2r-1"})(["padding:0 24px 16px;& >:last-child{margin-top:2px;}"]),Z=h.zo.div.withConfig({displayName:"HomeSkeletonstyled__Content",componentId:"ch-front__sc-1ylcn2r-2"})(["margin-left:8px;"]),I=h.zo.div.withConfig({displayName:"HomeSkeletonstyled__ContentHead",componentId:"ch-front__sc-1ylcn2r-3"})(["margin-bottom:4px;"]),k=h.zo.div.withConfig({displayName:"HomeSkeletonstyled__ContentBody",componentId:"ch-front__sc-1ylcn2r-4"})(["&:first-child{margin-bottom:2px;}"]),x=h.zo.div.withConfig({displayName:"HomeSkeletonstyled__NewChatButtonWrapper",componentId:"ch-front__sc-1ylcn2r-5"})(["padding:6px 14px;"]),T=h.zo.div.withConfig({displayName:"HomeSkeletonstyled__PoweredByWrapper",componentId:"ch-front__sc-1ylcn2r-6"})(["display:flex;justify-content:center;width:100%;padding-bottom:10px;"]);function A(){const e=r.createElement(E,null,r.createElement(s.N0,{size:36}),r.createElement(Z,null,r.createElement(I,null,r.createElement(s.N2,{width:50})),r.createElement(k,null,r.createElement(s.N2,{width:230}),r.createElement(s.N2,{width:109}))));return r.createElement(r.Fragment,null,r.createElement(o.Z,null,e,r.createElement(x,null,r.createElement(s.nN,{width:"100%",height:48,radius:16})),r.createElement(T,null,r.createElement(s.N2,{width:100}))),r.createElement(i.U,null))}function M(){return r.createElement(w.cD,null,r.createElement(_,null,r.createElement(s.N0,{size:30}),r.createElement(C,null,r.createElement(s.N2,{width:90}))),r.createElement(S,null,r.createElement(s.N2,{width:230}),r.createElement(s.N2,{width:109})))}const P=r.memo(M)},11499:(e,t,n)=>{"use strict";n.d(t,{VY:()=>l,im:()=>a,iz:()=>u,l5:()=>c});var r=n(96940),o=n(23817),s=n(94722),i=n(50056);const a=(0,r.zo)(o.cD).withConfig({displayName:"Settingstyled__Wrapper",componentId:"ch-front__sc-9qk648-0"})(["background-color:var(--bg-white-low);"]),l=(0,r.zo)(o.tn).withConfig({displayName:"Settingstyled__Content",componentId:"ch-front__sc-9qk648-1"})(["padding-bottom:",";"],s.Di),c=r.zo.div.withConfig({displayName:"Settingstyled__AnimationWrapper",componentId:"ch-front__sc-9qk648-2"})(["display:flex;flex-direction:column;",""],(0,i.SE)(!0)),u=r.zo.hr.withConfig({displayName:"Settingstyled__Divider",componentId:"ch-front__sc-9qk648-3"})(["display:block;width:100%;margin:4px 0;padding:6px;border:none;&::after{content:'';display:block;width:100%;height:1px;margin:0;background:var(--bdr-black-light,rgba(0,0,0,8%));border:none;}"])},3155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(46158),o=n(96940),s=n(27841),i=n(72927),a=n(91527),l=n(24848),c=n(44194),u=n(59135),h=n(11599),d=n(10919),p=n(74117),m=n(50056);const g=o.zo.header.withConfig({displayName:"SettingHeader__Wrapper",componentId:"ch-front__sc-1niuyze-0"})(["position:sticky;top:0;left:0;z-index:",";display:flex;gap:10px;align-items:center;width:100%;padding:16px 10px 4px;"," background:var(--bg-header-float);backdrop-filter:blur(30px);"],p.Z.HEADER,(e=>{let{animation:t}=e;return t&&(0,m.SE)()})),f=o.zo.button.withConfig({displayName:"SettingHeader__BackButon",componentId:"ch-front__sc-1niuyze-1"})(["display:flex;padding:8px;cursor:pointer;"]),v=o.zo.h1.withConfig({displayName:"SettingHeader__Title",componentId:"ch-front__sc-1niuyze-2"})(["padding:6px 10px;"]),b=function(e){let{animation:t}=e;const n=(0,u.s0)(),{translate:o}=(0,d.Z)();return c.createElement(g,{animation:t},h.Z.isFollowUpLink&&c.createElement(f,{onClick:()=>n(-1)},c.createElement(s.J,{source:r.C,size:i.J.S,color:"txt-black-darker"})),c.createElement(v,null,c.createElement(a.Z,{color:"txt-black-darkest",typo:l.ZT.Size22,bold:!0},o("ch.tab_title.setting"))))}},62237:(e,t,n)=>{"use strict";n.d(t,{C:()=>m,Z:()=>g});var r=n(96940),o=n(44194),s=n(57730),i=n(87374);function a(){return o.createElement(i.im,null,o.createElement(s.N0,{size:56}),o.createElement(i.d,null,o.createElement(s.N2,{width:160})))}var l=n(11499),c=n(3155);const u=r.zo.div.withConfig({displayName:"SettingSkeleton__Row",componentId:"ch-front__sc-o4zd0k-0"})(["padding:12px 18px;"]),h=(0,r.zo)(s.N2).withConfig({displayName:"SettingSkeleton__SkeletonLabel",componentId:"ch-front__sc-o4zd0k-1"})(["padding:0;"]),d=[60,70,90,70],p=[90,70,90];function m(){const e=(e,t)=>o.createElement(u,{key:t},o.createElement(h,{width:e}));return o.createElement(o.Fragment,null,o.createElement(a,null),o.createElement(l.iz,null),d.map(e),o.createElement(l.iz,null),p.map(e))}const g=function(){return o.createElement(l.im,null,o.createElement(l.VY,null,o.createElement(c.Z,{animation:!0}),o.createElement(m,null)))}},47134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(44194),o=n(59135),s=n(96871),i=n(77961),a=n(62237),l=n(37882);const c=function(){return r.createElement(r.Fragment,null,r.createElement(o.Z5,null,r.createElement(o.AW,{path:"/user-chats/:userChatId",element:r.createElement(s.Z,null)}),r.createElement(o.AW,{path:"/support-bots/:supportBotId",element:r.createElement(s.Z,null)}),r.createElement(o.AW,{path:"/home",element:r.createElement(i.Z,null)}),r.createElement(o.AW,{path:"/user-chats",element:r.createElement(l.Z,null)}),r.createElement(o.AW,{path:"/setting",element:r.createElement(a.Z,null)})))}},68269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(96940),o=n(91527),s=n(24848),i=n(44194),a=n(10919),l=n(74117),c=n(34445),u=n(53284),h=n(90681);const d=r.zo.div.withConfig({displayName:"UnreadBanner__Wrapper",componentId:"ch-front__sc-1y4qjok-0"})(["display:flex;gap:12px;align-items:center;justify-content:space-between;margin:0 4px;padding:8px 12px;background-color:var(--bg-black-lighter);border-radius:8px;"]),p=r.zo.div.withConfig({displayName:"UnreadBanner__UnreadWrapper",componentId:"ch-front__sc-1y4qjok-1"})(["display:flex;"]),m=r.zo.button.withConfig({displayName:"UnreadBanner__Button",componentId:"ch-front__sc-1y4qjok-2"})(["cursor:pointer;padding:3px 4px;"]),g=function(){const{translate:e}=(0,a.Z)(),[t,n]=(0,i.useState)(!1),r=(0,c.Z)(u.Z.userChatSelectors.totalUnreadMessageCount);return 0===r?null:i.createElement(d,null,i.createElement(o.Z,{typo:s.ZT.Size14,color:"txt-black-dark"},e("ch.unread.count",r)),i.createElement(p,null,t&&i.createElement(h.Z,{color:"bgtxt-absolute-black-lightest",strokeWidth:3,size:14,position:"relative"}),i.createElement(m,{type:"button",onClick:()=>{t||(n(!0),c.S.requestReadAllUserChat.run({observer:{complete:()=>{n(!1)},error:()=>{n(!1)}}}))}},i.createElement("span",{className:"a11y-hidden"},"Mark all userchat as read"),i.createElement(o.Z,{typo:s.ZT.Size13,color:"txt-black-darker",bold:!0,marginHorizontal:3},e("ch.chat_list_card.remove_all")))))},f=r.zo.header.withConfig({displayName:"UserChatListHeader__Wrapper",componentId:"ch-front__sc-p78yex-0"})(["position:sticky;z-index:",";top:0;right:0;left:0;display:flex;flex-direction:column;gap:10px;width:100%;padding:16px 10px 4px;background:var(--bg-header-float);backdrop-filter:blur(30px);"],l.Z.HEADER),v=r.zo.h1.withConfig({displayName:"UserChatListHeader__Title",componentId:"ch-front__sc-p78yex-1"})(["padding:6px 10px;"]),b=function(){const{translate:e}=(0,a.Z)();return i.createElement(f,null,i.createElement(v,null,i.createElement(o.Z,{color:"txt-black-darkest",typo:s.ZT.Size22,bold:!0},e("ch.tab_title.user_chats"))),i.createElement(g,null))}},37882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(44194),o=n(57730),s=n(68269),i=n(96940),a=n(23817),l=n(50056);const c=(0,i.zo)(a.cD).withConfig({displayName:"UserChatListSkeletonstyled__Wrapper",componentId:"ch-front__sc-3kogsn-0"})(["overflow-y:scroll;display:flex;flex-direction:column;background-color:var(--bg-white-low);",""],(0,l.Ks)()),u=i.zo.div.withConfig({displayName:"UserChatListSkeletonstyled__ChatItem",componentId:"ch-front__sc-3kogsn-1"})(["display:flex;padding:8px 14px 12px 12px;"]),h=i.zo.div.withConfig({displayName:"UserChatListSkeletonstyled__ChatContent",componentId:"ch-front__sc-3kogsn-2"})(["margin-left:8px;"]),d=i.zo.div.withConfig({displayName:"UserChatListSkeletonstyled__Name",componentId:"ch-front__sc-3kogsn-3"})(["margin-bottom:4px;"]),p=function(){const e=e=>{let{children:t}=e;return r.createElement(u,null,r.createElement(o.N0,{size:42}),r.createElement(h,null,r.createElement(d,null,r.createElement(o.N2,{width:50})),t))};return r.createElement(c,null,r.createElement(s.Z,null),r.createElement(e,null,r.createElement(o.N2,{width:250})),r.createElement(e,null,r.createElement(o.N2,{width:250}),r.createElement(o.N2,{width:140})),r.createElement(e,null,r.createElement(o.N2,{width:250}),r.createElement(o.N2,{width:140})),r.createElement(e,null,r.createElement(o.N2,{width:250})),r.createElement(e,null,r.createElement(o.N2,{width:250}),r.createElement(o.N2,{width:140})))}},37132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,z:()=>o});var r=n(44194);const o=(0,r.createContext)({infiniteScrollRef:(0,r.createRef)()}),s=function(e){let{children:t}=e;const n=(0,r.useRef)(null),s=(0,r.useMemo)((()=>({infiniteScrollRef:n})),[]);return r.createElement(o.Provider,{value:s},t)}},12914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(94109);class o{static getCookieName(e,t,n){return{accessToken:`ch-x-${e}-${t}-${n}-access-token`,refreshToken:`ch-x-${e}-${t}-${n}-refresh-token`}}setTokens(e){const{accessToken:t,refreshToken:n,accessTokenExpiresAt:r,refreshTokenExpiresAt:s,channelId:i,userId:a,appId:l}=e,c=Date.now(),u=o.getCookieName(a,i,l);this.setCookie(u.accessToken,t,Math.floor((r-c)/1e3)),this.setCookie(u.refreshToken,n,Math.floor((s-c)/1e3))}getAccessToken(e,t,n){return(0,r.ej)(o.getCookieName(e,t,n).accessToken)}getRefreshToken(e,t,n){return(0,r.ej)(o.getCookieName(e,t,n).refreshToken)}setCookie(e,t,n){const r=[`${e}=${t}`,`Max-Age=${n}`,"Path=/","SameSite=Lax"];document.cookie=r.join(";")}}const s=new o},86582:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l});var r=n(80070),o=n(42972),s=n(94109);const i="ch-veil-id";class a{constructor(){(0,r.Z)(this,"token",null),(0,r.Z)(this,"tokenChannelId",null)}static getSessionKey(e){return`ch-session-${e}`}setTokenToCookie(e,t,n){const r=[`${e}=${t}`,"Max-Age=1800","Path=/","SameSite=Lax"];n&&r.push(`Domain=${n}`),document.cookie=r.join(";")}setToken(e,t,n){if(this.token=e,this.tokenChannelId=t,!e||!t)return;const r=a.getSessionKey(t);this.setTokenToCookie(r,e,n)}getCookieTokenByChannelId(e){const t=a.getSessionKey(e);return(0,s.ej)(t)}getToken(e){if(!e||e===this.tokenChannelId)return this.token;const t=this.getCookieTokenByChannelId(e);return(0,s.v)(t)?null:t}setVeilIdToCookie(e,t){const n=[`${i}=${e}`,"Max-Age=31536000","Path=/","SameSite=Lax"];t&&n.push(`Domain=${t}`),document.cookie=n.join(";")}dualizeVeilIdToLocalStorage(e){o.Z.setItem(i,e)}getDualizedVeilIdOfLocalStorage(){return o.Z.getItem(i)}setVeilId(e,t){e&&(this.setVeilIdToCookie(e,t),this.dualizeVeilIdToLocalStorage(e))}getVeilId(){const e=(0,s.ej)(i);if(!(0,s.v)(e))return e;return this.getDualizedVeilIdOfLocalStorage()||void 0}init(){this.token=null,this.tokenChannelId=null}}const l=new a},32423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(80070),o=n(50022);const s=class{constructor(e,t){(0,r.Z)(this,"storageKey",void 0),(0,r.Z)(this,"storage",void 0),(0,r.Z)(this,"userId",void 0),(0,r.Z)(this,"debounceMap",new Map),this.storage=e,this.storageKey=t}initialize(e){var t;this.userId=e,(null===(t=this.storageItem)||void 0===t?void 0:t.userId)!==e&&(this.storageItem={userId:e,messages:{}})}get(e){var t;return(null===(t=this.storageItem)||void 0===t?void 0:t.messages[e])??null}set(e,t){var n;(0,o.kK)(this.userId)||(this.clearTimer(e),this.storageItem={userId:this.userId,messages:{...null===(n=this.storageItem)||void 0===n?void 0:n.messages,[e]:t}})}setWithDebounce(e,t){this.clearTimer(e);const n=window.setTimeout((()=>{this.set(e,t)}),200);this.debounceMap.set(e,n)}delete(e){this.set(e,void 0)}get storageItem(){return this.storage.getItem(this.storageKey)}set storageItem(e){this.storage.setItem(this.storageKey,e)}clearTimer(e){const t=this.debounceMap.get(e);(0,o.kK)(t)||(window.clearTimeout(t),this.debounceMap.delete(e))}}},60489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r,o=n(80070),s=n(3957),i=n(34903),a=n(33122),l=n(58078),c=n(9967);const u=new(r=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,"isStyleAdded",!1),(0,o.Z)(this,"isOpenedMobileMessenger",!1),(0,o.Z)(this,"_WebAPIService",null),Object.keys(e).forEach((t=>{(0,l.e$)(this,t)&&(this[t]=e[t])}))}disableTopBodyScroll(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=this._WebAPIService)||void 0===e?void 0:e.topmostDocument.body;this.isStyleAdded||t&&(t.classList.add(a.vZ),this.isStyleAdded=!0)}enableTopBodyScroll(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=this._WebAPIService)||void 0===e?void 0:e.topmostDocument.body;this.isStyleAdded&&t&&(t.classList.remove(a.vZ),this.reset())}reset(){this.isStyleAdded=!1,this.isOpenedMobileMessenger=!1}disableBodyScrollForMobile(){this.isOpenedMobileMessenger=!0,this.disableTopBodyScroll()}disableBodyScrollForModal(){this.isOpenedMobileMessenger||this.disableTopBodyScroll()}enableBodyScrollForMobile(){this.isOpenedMobileMessenger=!1,this.enableTopBodyScroll()}enableBodyScrollForModal(){this.isOpenedMobileMessenger||this.enableTopBodyScroll()}disableMessengerBodyScroll(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=this._WebAPIService)||void 0===e?void 0:e.currentDocument.body;null==t||t.classList.add(a.Hz)}enableMessengerBodyScroll(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=this._WebAPIService)||void 0===e?void 0:e.currentDocument.body;null==t||t.classList.remove(a.Hz)}_set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((t=>{(0,l.e$)(this,t)&&(this[t]=e[t])}))}},(0,s.Z)(r.prototype,"disableTopBodyScroll",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"disableTopBodyScroll"),r.prototype),(0,s.Z)(r.prototype,"enableTopBodyScroll",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"enableTopBodyScroll"),r.prototype),(0,s.Z)(r.prototype,"reset",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),(0,s.Z)(r.prototype,"disableBodyScrollForMobile",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"disableBodyScrollForMobile"),r.prototype),(0,s.Z)(r.prototype,"disableBodyScrollForModal",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"disableBodyScrollForModal"),r.prototype),(0,s.Z)(r.prototype,"enableBodyScrollForMobile",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"enableBodyScrollForMobile"),r.prototype),(0,s.Z)(r.prototype,"enableBodyScrollForModal",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"enableBodyScrollForModal"),r.prototype),(0,s.Z)(r.prototype,"disableMessengerBodyScroll",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"disableMessengerBodyScroll"),r.prototype),(0,s.Z)(r.prototype,"enableMessengerBodyScroll",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"enableMessengerBodyScroll"),r.prototype),(0,s.Z)(r.prototype,"_set",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"_set"),r.prototype),r)({_WebAPIService:c.Z})},42972:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(51382),o=n(9967);class s extends r.Z{}const i=new s(o.Z.currentWindow.localStorage)},53212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(51382),o=n(9967);class s extends r.Z{}const i=new s(o.Z.currentWindow.sessionStorage)},76438:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(80070),o=n(28961);const s=["id","memberId","avatarUrl","alert","profile","unsubscribeEmail","unsubscribeTexting","unread","tags","language"];var i=n(53288),a=n(88513),l=n(27224),c=n(94109),u=n(58078),h=n(50022),d=n(9967);const{isMobile:p}=o.Z,m=new class{constructor(e){(0,r.Z)(this,"settings",{}),(0,r.Z)(this,"customPage",void 0),(0,r.Z)(this,"hasCustomPage",!1),this.setSettings(e||d.Z.topmostWindow.channelPluginSettings)}setSettings(e){this.settings=(0,u.Xh)(e)}clearSettings(){this.settings={}}getPluginKey(){return this.settings.pluginId??this.settings.plugin_id??this.settings.pluginKey??""}getCallbackUser(e){var t;return{...(0,u.ei)(e,s),name:null===(t=e.profile)||void 0===t?void 0:t.name}}getProfile(){return this.settings&&(this.settings.profile||this.getProfileLegacy())||{}}getReferrerProfile(){const e=d.Z.parentWindow.document.referrer;return!e||(0,c.A4)(e)?{}:{[i.h]:e}}getUtmProfile(){if(!this.getTrackUtmSource())return{};const e=d.Z.parentWindow.location.search;return(0,c.Um)(e)}getProfileLegacy(){const{user:e={}}=this.settings,t={...null==e?void 0:e.meta};return["name","mobileNumber","avatarUrl"].forEach((n=>{e&&e[n]&&(t[n]=e[n])})),t}getMemberId(){var e;return this.settings.memberId||this.settings.userId||(null===(e=this.settings.user)||void 0===e?void 0:e.id)||void 0}getMemberHash(){if(this.settings)return(0,h.HD)(this.settings.memberHash)&&!(0,h.xb)(this.settings.memberHash)?this.settings.memberHash:void 0}getLegacyUnsubscribed(){if(this.settings)return(0,h.jn)(this.settings.unsubscribed)?this.settings.unsubscribed:void 0}getUnsubscribeEmail(){if(this.settings)return(0,h.jn)(this.settings.unsubscribeEmail)?this.settings.unsubscribeEmail:this.getLegacyUnsubscribed()}getUnsubscribeTexting(){if(this.settings)return(0,h.jn)(this.settings.unsubscribeTexting)?this.settings.unsubscribeTexting:this.getLegacyUnsubscribed()}getHideChannelButtonOnBoot(){if(!this.settings)return;const e=this.settings.hideChannelButtonOnBoot??this.settings.hideDefaultLauncher??this.settings.hide_default_launcher??this.settings.hideDefaultPluginButton;return(0,h.jn)(e)?e:void 0}getAppearanceOption(){return(0,a.$)(this.settings.appearance)?this.settings.appearance:null}getBootOption(){const e={...this.getUtmProfile(),...this.getReferrerProfile()},t={...e,...this.getProfile()},n=e;return{profile:(0,h.xb)(t)?void 0:t,profileOnce:(0,h.xb)(n)?void 0:n,memberId:this.getMemberId(),memberHash:this.getMemberHash(),unsubscribeEmail:this.getUnsubscribeEmail(),unsubscribeTexting:this.getUnsubscribeTexting(),memberHashProvider:this.getMemberHashProvider(),scriptPlatform:this.getScriptPlatform(),scriptProvider:this.getScriptProvider(),scriptVersion:this.getScriptVersion()}}getScriptPlatform(){if((0,h.HD)(this.settings.scriptPlatform))return this.settings.scriptPlatform}getScriptProvider(){if((0,h.HD)(this.settings.scriptProvider))return this.settings.scriptProvider}getScriptVersion(){if((0,h.HD)(this.settings.scriptVersion))return this.settings.scriptVersion}getCustomLauncherSelector(){return this.settings.customLauncherSelector||this.settings.custom_launcher_selector||!1}getTrackDefaultEvent(){return(0,h.jn)(this.settings.trackDefaultEvent)?this.settings.trackDefaultEvent:!(0,h.jn)(this.settings.enabledTrackDefaultEvent)||this.settings.enabledTrackDefaultEvent}getTrackUtmSource(){return(0,h.jn)(this.settings.trackUtmSource)?this.settings.trackUtmSource:!(0,h.jn)(this.settings.enabledUtmSourceTrack)||this.settings.enabledUtmSourceTrack}hasAvailableCustomPage(){return this.hasCustomPage&&void 0!==this.customPage}setCustomPage(e){(0,h.HD)(e)?(this.customPage=e,this.hasCustomPage=!0):(0,h.kK)(e)?(this.customPage=null,this.hasCustomPage=!0):(0,l.wN)("setDefault() method only can be invoked with string, null or undefined.")}resetCustomPage(){this.customPage=void 0,this.hasCustomPage=!1}getCustomPage(){return this.hasAvailableCustomPage()?this.customPage:void 0}setUserChatProfile(e){(0,h.PO)(e)?this.settings.userChatProfile=JSON.parse(JSON.stringify(e)):(0,l.wN)("setUserChatProfile() method only can be invoked with object.")}getUserChatProfile(){return this.settings.userChatProfile}resetUserChatProfile(){this.settings.userChatProfile=void 0}getZIndex(){return Number.isFinite(this.settings.zIndex)?this.settings.zIndex:null}getLanguage(){var e,t;return(null===(e=this.settings)||void 0===e?void 0:e.language)||(null===(t=this.settings)||void 0===t?void 0:t.locale)||(0,c.v0)()}getMemberHashProvider(){return this.settings.memberHashProvider}isFixedDocumentMode(){return!((0,c.$W)()&&p)}getHidePopup(){return!!(0,h.jn)(this.settings.hidePopup)&&this.settings.hidePopup}}},51382:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(80070);class o{constructor(e){(0,r.Z)(this,"storage",void 0),this.storage=e}getStorage(){return this.storage}getStorageKey(e){return`Channel.${e}`}setItem(e,t){this.getStorage()&&this.getStorage().setItem(this.getStorageKey(e),JSON.stringify(t))}getItem(e){if(this.getStorage())try{const t=this.getStorage().getItem(this.getStorageKey(e));return t?JSON.parse(t):null}catch(e){return null}return null}removeItem(e){this.getStorage()&&this.getStorage().removeItem(this.getStorageKey(e))}}},11599:(e,t,n)=>{"use strict";n.d(t,{F:()=>p,Z:()=>m});var r=n(80070),o=n(76438),s=n(53288),i=n(35696),a=n(94109),l=n(58078),c=n(68266),u=n(50655),h=n(50022),d=n(9967);const p="new",m=new class{constructor(){(0,r.Z)(this,"params",{})}parse(){(0,a.$W)()&&(this.params=(0,c.Q)(window.location.search))}getMessage(){var e;return(null===(e=this.params)||void 0===e?void 0:e.message)??""}unsetMessage(){const e=this.getUrlWithoutParam("message");window.history.replaceState(null,"",e),this.parse()}getUrl(){const e=d.Z.topmostWindow.location.href;return new i.Z(e).decodeValidateURI()}getUrlWithoutParam(e){const{origin:t,pathname:n,search:r}=window.location,o=(0,c.Q)(r);return delete o[e],`${t}${n}${(0,h.xb)(o)?"":`?${(0,c.P)(o)}`}`}get page(){var e;return o.Z.getCustomPage()||d.Z.canonicalUrl||(null===(e=this.params)||void 0===e?void 0:e.page)||(0,a.$W)()&&window.location.origin||this.getUrl()}getToken(){var e;return(null===(e=this.params)||void 0===e?void 0:e.sessionJWT)??null}getUtmParams(){return s.q.reduce(((e,t)=>((0,l.e$)(this.params,t)&&this.params[t]&&(e[(0,u.eV)(t)]=this.params[t]),e)),{})}_set(e){this.params=e}get isFollowUpLink(){return(0,a.$W)()&&"followup"===this.getUtmParams().utmSource}}},24821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(32423),o=n(48384),s=n(53212);class i extends r.Z{constructor(e){super(e,o.Z.DRAFT_COMMAND)}}const a=new i(s.Z)},2685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(80070),o=n(78776),s=n(53212),i=n(48384),a=n(58078),l=n(50022);const c=new class{constructor(){(0,r.Z)(this,"debounceMap",new Map),(0,r.Z)(this,"id",(0,o.Z)())}setDraftFormStorage(e,t){const n=s.Z.getItem(i.Z.DRAFT_FORM),r=(()=>(null==n?void 0:n.id)===this.id?{...n.forms,[e]:t}:{[e]:t})();s.Z.setItem(i.Z.DRAFT_FORM,{id:this.id,forms:r})}get(e){const t=s.Z.getItem(i.Z.DRAFT_FORM);return null==t?void 0:t.forms[e]}set(e,t){const n=this.debounceMap.get(e);(0,l.kK)(n)||window.clearTimeout(n);const r=window.setTimeout((()=>{this.setDraftFormStorage(e,t),this.debounceMap.delete(e)}),200);this.debounceMap.set(e,r)}delete(e){const t=s.Z.getItem(i.Z.DRAFT_FORM);if((null==t?void 0:t.id)===this.id){const n=(0,a.CE)(null==t?void 0:t.forms,[e]);s.Z.setItem(i.Z.DRAFT_FORM,{id:this.id,forms:n})}}initialize(e){this.id=e;const t=s.Z.getItem(i.Z.DRAFT_FORM);(null==t?void 0:t.id)!==e&&s.Z.setItem(i.Z.DRAFT_FORM,{id:e,forms:{}})}}},52485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(32423),o=n(48384),s=n(53212);class i extends r.Z{constructor(e){super(e,o.Z.DRAFT_MESSAGE)}}const a=new i(s.Z)},18204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(80070),o=n(58078);class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"n",""),(0,r.Z)(this,"c",""),(0,r.Z)(this,"k",[]),Object.keys(e).forEach((t=>{(0,o.e$)(this,t)&&(this[t]=e[t])}))}}var i=n(93345),a=n(87851),l=n(50022);const c=new class{constructor(){(0,r.Z)(this,"emojis",null),(0,r.Z)(this,"emojiMap",{}),(0,r.Z)(this,"unicodeMap",{})}isEmpty(){return(0,l.xb)(this.emojiMap)}setEmojis(e){this.emojis=e;const t=Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,n.map((e=>new s({...e,category:t})))]}))),n=Object.values(t).flat();this.emojiMap=Object.fromEntries(n.map((e=>[e.n,e]))),this.unicodeMap=Object.fromEntries(n.map((e=>[e.c,e])))}getEmoji(e){return this.emojiMap[e]}getImageUrl(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?i.Z.CDN_GIANT:i.Z.CDN_DEFAULT;return`${a.NF}/asset/emoji/images/${t}/${encodeURIComponent(e)}.png`}}},13291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(80070),o=n(58078);const s=new class{constructor(){(0,r.Z)(this,"textAreaNode",null),(0,r.Z)(this,"shadowRootWrapper",void 0),(0,r.Z)(this,"layoutContainer",void 0)}setDOMNodes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((t=>{(0,o.e$)(this,t)&&(this[t]=e[t])}))}}},10201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(80070),o=n(86380),s=n(94109),i=n(68266);const a=new class{constructor(){(0,r.Z)(this,"history",this.createPreserveQueryHistory((0,s.$W)()?o.lX:o.PP)),(0,r.Z)(this,"windowLocation",window.location)}getHistory(){return this.history}preserveQueryParameters(e){const t=(0,i.Q)(window.location.search);return e.search&&Object.assign(t,(0,i.Q)(e.search)),e.search=(0,i.P)(t),e}createPathnameObject(e){return"string"==typeof e?{pathname:e}:e}createPreserveQueryHistory(e){const t=e(),n=t.push,r=t.replace;return t.push=(e,r)=>n.apply(t,[this.preserveQueryParameters(this.createPathnameObject(e)),r]),t.replace=(e,n)=>r.apply(t,[this.preserveQueryParameters(this.createPathnameObject(e)),n]),t}}},21488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(80070),o=n(86582),s=n(78776),i=n(53212);const a="device-id",l=new class{get id(){let e=i.Z.getItem(a);return e||(e=(0,s.Z)(),i.Z.setItem(a,e)),e}};var c=n(28961),u=n(9967),h=n(44873),d=n(87851);const p={[h.Z.AUDIO]:400,[h.Z.VIDEO]:900},m={[h.Z.AUDIO]:400,[h.Z.VIDEO]:700},{isAndroid:g,isLineInAppBrowser:f,isInstagramInAppBrowser:v,isFacebookInAppBrowser:b}=c.Z,_=g&&(f||v||b),y=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.Z.currentWindow;(0,r.Z)(this,"currentWindow",void 0),(0,r.Z)(this,"meetBoxWindow",null),this.currentWindow=e}openMeetBox(e){let{mode:t=h.Z.AUDIO,userChatId:n,meetId:r}=e;if(_)return void this.currentWindow.open(`${d.g5}/front/not-supported`,"_blank");const s=l.id,i=o.ZP.getToken();if(!i)throw new Error("Token is required");const a=new URLSearchParams({mode:t,deviceId:s,token:i}),c=r?`/front/user-chats/${n}/meets/${r}`:`/front/user-chats/${n}`;this.meetBoxWindow=this.currentWindow.open(`${d.g5}${c}?${a}`,"_blank",`popup=true, width=${p[t]}, height=${m[t]}`)}focus(){var e;null===(e=this.meetBoxWindow)||void 0===e||e.focus()}}},33275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,k:()=>d});var r,o=n(80070),s=n(3957),i=n(34903),a=n(28961),l=n(87851),c=n(59544),u=n(27224);const{isAppleTouchableDevice:h}=a.Z;let d;!function(e){e.Message="message",e.Ring="ring"}(d||(d={}));const p={[d.Message]:`${l.L4}/files/person.mp3`,[d.Ring]:`${l.L4}/files/meet-ringtone.mp3`},m=new(r=class{constructor(){(0,o.Z)(this,"sounds",void 0),this.sounds=new Map([[d.Message,new window.Audio],[d.Ring,new window.Audio]]);for(const[e,t]of this.sounds)t.preload="none",t.src=p[e]}unmute(){document.visibilityState===c.Z.VISIBLE?(window.setTimeout((()=>{this.sounds.forEach((e=>{e.muted=!1}))}),2e3),window.document.removeEventListener("visibilitychange",this.unmute)):window.document.addEventListener("visibilitychange",this.unmute)}mutePlay(){for(const[e,t]of this.sounds)t.muted=!0,this.play(e);setTimeout((()=>{this.unmute()}),500)}play(e){if(h)return;const t=this.sounds.get(e),n=null==t?void 0:t.play();null==n||n.catch(u.vU)}},(0,s.Z)(r.prototype,"unmute",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"unmute"),r.prototype),(0,s.Z)(r.prototype,"mutePlay",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"mutePlay"),r.prototype),(0,s.Z)(r.prototype,"play",[i.Z],Object.getOwnPropertyDescriptor(r.prototype,"play"),r.prototype),r)},47966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(80070),o=n(94109),s=n(50022),i=n(76438);const a=new class{constructor(){(0,r.Z)(this,"sentry",null)}async init(){if(!this.sentry){const e=await Promise.all([n.e(499),n.e(262)]).then(n.bind(n,90512));this.sentry=e}const e=(0,o.N0)()?"App":(0,o.$W)()?"Standalone":"Not found";this.sentry.init({dsn:"https://b05367f6be924bb49e15838987b99ce6@o249840.ingest.sentry.io/306179",environment:`production|${e}`,release:"17.0.4",allowUrls:[/cdn\.channel\.io/],normalizeDepth:5,ignoreErrors:["Non-Error promise rejection captured"],maxBreadcrumbs:30,tracesSampleRate:5e-5,beforeSend(e,t){const n=t.originalException;return e.message||((0,s.HD)(n)?e.message=n:n instanceof Error&&(e.message=(null==n?void 0:n.message)||(null==n?void 0:n.name))),e}}),this.sentry.setTag("plugin.language",i.Z.getLanguage())}captureMessage(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return null===(t=this.sentry)||void 0===t?void 0:t.captureMessage(e,n)}captureException(e,t){var n;return null===(n=this.sentry)||void 0===n?void 0:n.captureException(e,{extra:t})}captureEvent(e){var t;return null===(t=this.sentry)||void 0===t?void 0:t.captureEvent(e)}}},44653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(42972),o=n(50022);const s=new class{getSettingValue(e){const t=r.Z.getItem(e);return!!(0,o.kK)(t)||JSON.parse(t)}setSettingValue(e,t){r.Z.setItem(e,JSON.stringify(t))}}},80577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(80070);const o=new class{constructor(){(0,r.Z)(this,"timeDiff",0),(0,r.Z)(this,"lastSyncedTime",0)}computeTimeDiff(e){this.lastSyncedTime=window.performance.now();const t=Date.parse(e);Number.isNaN(t)||(this.timeDiff=Date.now()-t)}getDate(){return new Date(Date.now()-this.timeDiff)}getTimezoneOffset(){return 60*this.getDate().getTimezoneOffset()*1e3}}},60885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(80070);const o=JSON.parse('{"ch-chx-cha.banner.integration.new":"Link the chat and get real-time response notifications ","ch-chx-cha.banner.integration.open":"This chat is already linked with ChannelX.","ch.alf.agentic_search.cancel":"Stop response","ch.alf.agentic_search.done":"Done","ch.alf.agentic_search.progress.content.fallback":"Preparing a reply Please wait a moment.","ch.alf.agentic_search.progress.title.fallback":"Loading...","ch.alf.agentic_search.think_duration.m":"Thinking (%s min)","ch.alf.agentic_search.think_duration.m_s":"Thinking (%s:%s)","ch.alf.agentic_search.think_duration.s":"Thinking (%s sec)","ch.alf.banner.warning":"AI is based on a limited dataset, we advise you to verify important information.","ch.alf.input_placeholder":"Ask ALF anything.","ch.alf.now_operating":"AI agent responds instantly","ch.alf.typing_message.one":"Wait for a moment","ch.alf.typing_message.three":"ALF is replying","ch.alf.typing_message.two":"ALF is thinking","ch.button_confirm":"Confirm","ch.channel.contact":"Contact %s","ch.chat.delete":"Delete","ch.chat.footer_fallback.message":"Oops, couldnt load the info. Try again.","ch.chat.marketing_to_chat":"Start a Chat","ch.chat.menu.delete_message":"Delete this message","ch.chat.menu.delete_message.cancel":"Cancel","ch.chat.menu.leave":"Leave","ch.chat.menu.leave_chat":"Leave the Chat","ch.chat.menu.leave_chat.content":"This chat will be closed, if the chat is still ongoing, you will not receive a reply.","ch.chat.menu.leave_chat.title":"Do you want to leave the chat?","ch.chat.message.action_title":"Message actions","ch.chat.message.actions.copy_message":"Copy text","ch.chat.message.actions.delete_message":"Delete message","ch.chat.message.delete_confirm.message":"Are you sure you want to delete the selected message?\\nIf you delete it, it will be deleted from all participants\' chat. This action can not be undone.","ch.chat.message.form.question":"Form: %s","ch.chat.message.form.submitted":"Response submitted","ch.chat.retry_sending_message_question":"Failed to send message.","ch.chat.send":"Send","ch.chat.send.multiple":"Send %s items","ch.chat.start_new_chat":"Start a new chat","ch.chat_list_card.button.all":"View all","ch.chat_list_card.button.more":"View More","ch.chat_list_card.remove_all":"Read all","ch.chat_list_card.unread_notifications":"Unread messages","ch.chatroom.message.matched_faq":"Matched question","ch.chatroom.message.reference":"Source","ch.chatroom.message.referenced_answer":"Referenced content","ch.chatroom.message.referenced_answer.tooltip":"AI agent responded based on data provided by %s.","ch.chatroom.message.show_reference":"Source","ch.chatroom.message.unknown_reference":"Unknown source","ch.chx-chat.banner.integrate.button":"Connect","ch.chx-chat.banner.integrate.description":"For real-time response notifications,\\n<b>Integrate with Channel X!</b>","ch.chx-chat.banner.open.button":"Open app","ch.chx-chat.banner.open.description":"This chat is already connected to Channel X.","ch.chx-chat.popup.buttons.confirm":"Link now","ch.chx-chat.popup.buttons.dismiss":"Do not show for 7 days","ch.chx-chat.popup.description":"Link this chat with ChannelX and receive real-time response notifications. Youll be able to respond instantly for a seamless chat experience!","ch.chx-chat.popup.title":"Hang tight! The chat is experiencing some delays.","ch.command.action.toast.temporary_error":"Oops, something went wrong. Please try again.","ch.command.parameter_overlay.title.optional_parameters":"Enter additional information and proceed","ch.command.parameter_overlay.title.required_parameters":"Please add required information and proceed.","ch.command_input.parameters.description.default":"Please enter.","ch.command_input.parameters.type_error":"Invalid value. Please enter again.","ch.command_input.parameters.type_error.bool":"Please enter either True or False.","ch.command_input.parameters.type_error.choices":"Invalid value. Please select again.","ch.command_input.parameters.type_error.empty_value":"Can\'t leave it blank. Please enter.","ch.command_input.parameters.type_error.float":"Only numbers can be entered.","ch.command_input.parameters.type_error.int":"Only integers can be entered.","ch.command_input.parameters.type_error.required_parameter":"This field is required.","ch.command_input.parameters.type_error.string":"Invalid value. Please enter again.","ch.command_input.placeholder.add_optional_parameters":"More options","ch.command_input.placeholder.add_required_parameters":"Enter required info","ch.command_input.placeholder.execute_with_enter":"Press Enter for immediate action","ch.command_input.toast.typing_attempt":"Please press back to enter a message.","ch.common.cancel":"Cancel","ch.common.close":"Close","ch.common.go_back":"Go back","ch.common.learn_more":"Learn More","ch.common.me":"Me","ch.common.retry":"Retry","ch.common.toggle.less":"See less","ch.common.toggle.more":"See more","ch.contact":"Contact information","ch.day_of_week.fri":"Friday","ch.day_of_week.mon":"Monday","ch.day_of_week.sat":"Saturday","ch.day_of_week.sun":"Sunday","ch.day_of_week.thu":"Thursday","ch.day_of_week.tue":"Tuesday","ch.day_of_week.wed":"Wednesday","ch.dialog.file_upload.error_actions.title":"File upload failed.\\nHow would you like to proceed?","ch.emoij_selector.empty_content.description":"Oops. No results found.","ch.emoji_selector.category.activity":"Activities","ch.emoji_selector.category.emotion":"Smileys & Emotion","ch.emoji_selector.category.flags":"Flags","ch.emoji_selector.category.foods":"Food & Drink","ch.emoji_selector.category.frequently_used":"Frequently used","ch.emoji_selector.category.nature":"Animals & Nature","ch.emoji_selector.category.objects":"Objects","ch.emoji_selector.category.people":"People & Body","ch.emoji_selector.category.places":"Travel & Places","ch.emoji_selector.category.symbols":"Symbols","ch.emoji_selector.search_input.placeholder":"Search","ch.empty_userchat.text":"Start a conversation","ch.error.channel_unavailable.title":"You don\'t have access to this channel","ch.error.default.title":"Something went wrong","ch.error.description":"Please click the button below and try again","ch.error.expired.description":"Start a new userchat by clicking the button below","ch.error.expired.title":"The link has expired","ch.error.invalid_access.description":"Start a new userchat to click the button below","ch.error.invalid_access.title":"Oops, this access method is not supported","ch.error.network.button":"Refresh","ch.error.notfound.button":"Contact us","ch.error.offline.title":"You are currently offline","ch.error.server.description":"Please try again, or view the current status on the service status page.","ch.error.server.retry":"Try again","ch.error.server.status":"View the status of Channel Talk service","ch.error.server.title":"Sorry, something went wrong","ch.error.title":"Oops, something went wrong","ch.error.unavailable.description":"Currently unavailable.","ch.file.download":"Download","ch.file_upload.fail":"Failed","ch.file_upload.failed":"%s files failed to upload.","ch.file_upload.pending":"Waiting to Upload","ch.file_upload.wait_count":"%s pending","ch.form.boolean.no":"No","ch.form.boolean.yes":"Yes","ch.form.follow_up.description":"Enter more than 1 contact information","ch.form.follow_up.rewrite":"Edit information","ch.form.input.empty_value":"No response","ch.form.input.number.placeholder":"Please enter a number","ch.form.input.phone_number.placeholder":"Enter details","ch.form.input.placeholder":"Enter details","ch.form.select.cancel":"Clear","ch.form.select.placeholder":"Please select","ch.form.submit":"Save","ch.form.types.multi_select":"Select all that apply","ch.form.types.single_select":"Select one","ch.holiday":"Holidays in 14 days","ch.instagram.caption":"Description","ch.instagram.caption.see_more":"View More","ch.instagram.open_instagram":"Open Instagram","ch.integration.phone.text":"Phone","ch.integration.title":"Use another method","ch.integrations.phone.tooltip":"Phone: %s","ch.label_button.description":"Start a chat","ch.language-conversion.action":"Yes, please change it.","ch.language-conversion.complete":"The language has been changed to {to}. Please ask your question again, and we\'ll respond in the updated language.","ch.language-conversion.suggestion":"Would you like to change the language {from} to {to}?","ch.launcher.custom_alt":"%s Chat Button","ch.layout.background.contact":"Contact %s","ch.lounge.card.chat_list.unread_count":"%s Unread Messages","ch.lounge.card.integrations.title":"You can also chat here","ch.lounge.media.error":"Oops, we failed to load %s","ch.lounge.media.error.instagram":"Instagram","ch.lounge.media.refresh":"Refresh","ch.manager.profile":"Profile","ch.meet":"Meet","ch.meet.confirm_create.description":"You can only join one Meet at a time. Press Confirm to leave the current Meet and join another one.","ch.meet.confirm_create.title":"Would you like to start a new Meet?","ch.meet.message.audio_meet.ended":"Closed Meet audio","ch.meet.message.audio_meet.missed":"Missed Meet audio","ch.meet.message.video_meet.ended":"Closed Meet video","ch.meet.message.video_meet.missed":"Missed Meet video","ch.meet.message_preview.ended":"Meet has closed.","ch.meet.message_preview.invited":"Invite %s to Meet.","ch.meet.message_preview.missed":"Unable to join Meet from %s.","ch.meet.message_preview.ongoing":"Currently on Meet.","ch.meet.ongoing":"On Meet","ch.meet.toast.network_disconnected":"Meet has ended due to unstable connection. Please try again.","ch.meet.toast.no_operator":"No agents are available for Meet at this time.","ch.meet.toast.not_in_operation":"We are outside our business hours.","ch.meet.toast.userchat_leaved":"Meet closed due to departure from the conversation.","ch.meet.type.audio":"Meet Audio","ch.meet.type.video":"Meet Video","ch.message_input.disabled.new_chat":"We apologize, but you can\'t chat for now.","ch.message_input.placeholder":"Type your message.","ch.message_stream.message.deleted_message":"The message has been deleted","ch.message_stream.message.translate.desktop":"Hover for message translation.","ch.message_stream.message.translate.mobile":"Tap and hold the message to translate.","ch.messenger.closed":"This chat has been closed","ch.messenger.fold":"Clear","ch.messenger.marketing.description":"Want more information?","ch.messenger.placeholder":"Enter a message.","ch.name":"Name","ch.new_chat.button":"Start a chat","ch.new_chat_confirm.description":"Leaving the same question multiple times may delay responses.","ch.new_chat_confirm.go_main_chat":"To the ongoing chat","ch.new_chat_confirm.title":"Already have an ongoing chat.","ch.new_message":"New message","ch.notification.document_title":"New message from %s.","ch.operation_time":"Operational hours","ch.out_of_work.fri":"FRI","ch.out_of_work.mon":"MON","ch.out_of_work.sat":"SAT","ch.out_of_work.sun":"SUN","ch.out_of_work.thu":"THU","ch.out_of_work.tue":"TUE","ch.out_of_work.wed":"WED","ch.phone_number.list.label":"Country code","ch.popup.alt_text.file":"A file has been sent.","ch.popup.alt_text.files":"%s files have been sent.","ch.popup.alt_text.image":"An image has been sent.","ch.popup.alt_text.images":"%s images have been sent.","ch.popup.alt_text.video":"A video has been sent","ch.popup.alt_text.videos":"%s videos have been sent.","ch.popup.question":"View question","ch.popup.question_count":"View %s questions","ch.powered_by":"Powered by <b>Channel Talk</b>","ch.profile_form.date.placeholder":"Select date","ch.profile_form.datetime_pick":"Select date and time","ch.profile_form.time.placholder":"Select time","ch.prompt_button.placeholder":"Ask AI Anything","ch.relative_time.day":"%s days ago","ch.relative_time.hour":"%s hours ago","ch.relative_time.minute":"%s minutes ago","ch.relative_time.now":"Just now","ch.response_delay.delayed":"Responses delayed","ch.response_delay.fast":"Will respond immediately","ch.response_delay.few_minutes":"Will respond in minutes","ch.response_status.auto":"Back on %s","ch.response_status.away_active":"Outside business hours","ch.response_status.out_of_office":"Chatting is currently unavailable","ch.setting.profile.title":"My contact information","ch.setting.success_toast":"Successfully updated","ch.settings.chat_options":"CS Language","ch.settings.edit_profile.description":"If you go offline mid-conversation, you can still receive notifications through the contact listed above. Please make sure you\'ve entered the correct information. ","ch.settings.edit_profile.tooltip":"To edit this information you need to change the account details. If you are not a member, please contact the support agent to request changes.","ch.settings.language.translate_all":"Translation Support Available","ch.settings.language.translate_message":"Message Translation Support","ch.settings.notification_sound":"Alert sound","ch.settings.save":"Save","ch.settings.subscribe.email":"Disable email notifications","ch.settings.subscribe.email.description":"You will not receive all useful news from email","ch.settings.subscribe.mobile":"Disable text notifications","ch.settings.subscribe.mobile.description":"I dont want to receive any promotional text messages","ch.settings.subscribe.modal":"Do you want to turn off an advertisement notification?","ch.settings.subscribe.modal.confirm":"Yes","ch.settings.subscribe.modal.next":"No","ch.settings.subscribe_setting":"Advertisement Settings","ch.settings.translate_message":"Show message translation","ch.show_translate":"See Translation","ch.show_working_times":"See business hours","ch.tab_title.lounge":"Home","ch.tab_title.setting":"Settings","ch.tab_title.user_chats":"Messages","ch.toast.file_upload.exceed_count.error":"You can attach up to %s files at a time.","ch.toast.file_upload.exceed_max.error":"You exceeded maximum size (%s) for a file.","ch.toast.file_upload.failure.error":"Some files failed to upload. Please try again or delete them and re-upload.","ch.tomorrow":"tomorrow","ch.undo_translate":"See Original","ch.unknown":"Unknown","ch.unread.count":"%s Unread messages","ch.unread_divider":"New Messages","ch.user_profile.locale.label":"Language","ch.userchat.reaction.modal_title":"Reactions to this message","ch.workflow.collecting_user_replay.placeholder":"Type your message","ch.working_time.always_open":"Available 24hrs","ch.working_time.out_of_office":"Away","message_stream.failed_message.retry.tooltip":"Resend","message_stream.failed_message.retry.while_alf_processing":"Pause ALF and try again"}'),s=JSON.parse('{"ch-chx-cha.banner.integration.new":"","ch-chx-cha.banner.integration.open":"Channel X","ch.alf.agentic_search.cancel":"","ch.alf.agentic_search.done":"","ch.alf.agentic_search.progress.content.fallback":"","ch.alf.agentic_search.progress.title.fallback":"","ch.alf.agentic_search.think_duration.m":"%s","ch.alf.agentic_search.think_duration.m_s":"%s%s","ch.alf.agentic_search.think_duration.s":"%s","ch.alf.banner.warning":"AI","ch.alf.input_placeholder":"AI","ch.alf.now_operating":"AI","ch.alf.typing_message.one":"","ch.alf.typing_message.three":"ALF","ch.alf.typing_message.two":"ALF","ch.button_confirm":"","ch.channel.contact":"%s","ch.chat.delete":"","ch.chat.footer_fallback.message":"","ch.chat.marketing_to_chat":"","ch.chat.menu.delete_message":"","ch.chat.menu.delete_message.cancel":"","ch.chat.menu.leave":"","ch.chat.menu.leave_chat":"","ch.chat.menu.leave_chat.content":"","ch.chat.menu.leave_chat.title":"","ch.chat.message.action_title":"","ch.chat.message.actions.copy_message":"","ch.chat.message.actions.delete_message":"","ch.chat.message.delete_confirm.message":"\\n","ch.chat.message.form.question":": %s","ch.chat.message.form.submitted":"","ch.chat.retry_sending_message_question":"\\n","ch.chat.send":"","ch.chat.send.multiple":"%s","ch.chat.start_new_chat":"","ch.chat_list_card.button.all":"","ch.chat_list_card.button.more":"","ch.chat_list_card.remove_all":"","ch.chat_list_card.unread_notifications":"","ch.chatroom.message.matched_faq":"","ch.chatroom.message.reference":"","ch.chatroom.message.referenced_answer":"","ch.chatroom.message.referenced_answer.tooltip":"%sAI","ch.chatroom.message.show_reference":"","ch.chatroom.message.unknown_reference":"","ch.chx-chat.banner.integrate.button":"","ch.chx-chat.banner.integrate.description":"\\n<b>Channel X</b>","ch.chx-chat.banner.open.button":"","ch.chx-chat.banner.open.description":"Channel X","ch.chx-chat.popup.buttons.confirm":"","ch.chx-chat.popup.buttons.dismiss":"7","ch.chx-chat.popup.description":"Channel X","ch.chx-chat.popup.title":"","ch.command.action.toast.temporary_error":"","ch.command.parameter_overlay.title.optional_parameters":"","ch.command.parameter_overlay.title.required_parameters":"","ch.command_input.parameters.description.default":"","ch.command_input.parameters.type_error":"","ch.command_input.parameters.type_error.bool":"TrueFalse","ch.command_input.parameters.type_error.choices":"","ch.command_input.parameters.type_error.empty_value":"","ch.command_input.parameters.type_error.float":"","ch.command_input.parameters.type_error.int":"","ch.command_input.parameters.type_error.required_parameter":"","ch.command_input.parameters.type_error.string":"","ch.command_input.placeholder.add_optional_parameters":"","ch.command_input.placeholder.add_required_parameters":"","ch.command_input.placeholder.execute_with_enter":"","ch.command_input.toast.typing_attempt":"","ch.common.cancel":"","ch.common.close":"","ch.common.go_back":"","ch.common.learn_more":"","ch.common.me":"","ch.common.retry":"","ch.common.toggle.less":"","ch.common.toggle.more":"","ch.contact":"","ch.day_of_week.fri":"","ch.day_of_week.mon":"","ch.day_of_week.sat":"","ch.day_of_week.sun":"","ch.day_of_week.thu":"","ch.day_of_week.tue":"","ch.day_of_week.wed":"","ch.dialog.file_upload.error_actions.title":"\\n","ch.emoij_selector.empty_content.description":"","ch.emoji_selector.category.activity":"","ch.emoji_selector.category.emotion":"","ch.emoji_selector.category.flags":"","ch.emoji_selector.category.foods":"","ch.emoji_selector.category.frequently_used":"","ch.emoji_selector.category.nature":"","ch.emoji_selector.category.objects":"","ch.emoji_selector.category.people":"","ch.emoji_selector.category.places":"","ch.emoji_selector.category.symbols":"","ch.emoji_selector.search_input.placeholder":"","ch.empty_userchat.text":"","ch.error.channel_unavailable.title":"","ch.error.default.title":"","ch.error.description":"","ch.error.expired.description":"","ch.error.expired.title":"","ch.error.invalid_access.description":"","ch.error.invalid_access.title":"","ch.error.network.button":"","ch.error.notfound.button":"","ch.error.offline.title":".","ch.error.server.description":"","ch.error.server.retry":"","ch.error.server.status":"","ch.error.server.title":"","ch.error.title":"","ch.error.unavailable.description":"","ch.file.download":"","ch.file_upload.fail":"","ch.file_upload.failed":"%s","ch.file_upload.pending":"","ch.file_upload.wait_count":"%s","ch.form.boolean.no":"","ch.form.boolean.yes":"","ch.form.follow_up.description":"1","ch.form.follow_up.rewrite":"","ch.form.input.empty_value":"","ch.form.input.number.placeholder":"","ch.form.input.phone_number.placeholder":"","ch.form.input.placeholder":"","ch.form.select.cancel":"","ch.form.select.placeholder":"","ch.form.submit":"","ch.form.types.multi_select":"","ch.form.types.single_select":"1","ch.holiday":"14","ch.instagram.caption":"","ch.instagram.caption.see_more":"","ch.instagram.open_instagram":"Instagram","ch.integration.phone.text":"","ch.integration.title":"","ch.integrations.phone.tooltip":": %s","ch.label_button.description":"","ch.language-conversion.action":"","ch.language-conversion.complete":"{to}","ch.language-conversion.suggestion":"{from}{to}","ch.launcher.custom_alt":"%s","ch.layout.background.contact":"%s","ch.lounge.card.chat_list.unread_count":"%s","ch.lounge.card.integrations.title":"","ch.lounge.media.error":"%s","ch.lounge.media.error.instagram":"Instagram","ch.lounge.media.refresh":"","ch.manager.profile":"","ch.meet":"Meet","ch.meet.confirm_create.description":"Meet1MeetMeet","ch.meet.confirm_create.title":"Meet","ch.meet.message.audio_meet.ended":"Meet ","ch.meet.message.audio_meet.missed":"Meet","ch.meet.message.video_meet.ended":"Meet ","ch.meet.message.video_meet.missed":"Meet","ch.meet.message_preview.ended":"Meet","ch.meet.message_preview.invited":"%sMeet","ch.meet.message_preview.missed":"%sMeet","ch.meet.message_preview.ongoing":"Meet","ch.meet.ongoing":"Meet","ch.meet.toast.network_disconnected":"Meet","ch.meet.toast.no_operator":"Meet","ch.meet.toast.not_in_operation":"","ch.meet.toast.userchat_leaved":"Meet","ch.meet.type.audio":"Meet","ch.meet.type.video":"Meet","ch.message_input.disabled.new_chat":"","ch.message_input.placeholder":"","ch.message_stream.message.deleted_message":"","ch.message_stream.message.translate.desktop":"","ch.message_stream.message.translate.mobile":"","ch.messenger.closed":"","ch.messenger.fold":"","ch.messenger.marketing.description":"","ch.messenger.placeholder":".","ch.name":"","ch.new_chat.button":"","ch.new_chat_confirm.description":"","ch.new_chat_confirm.go_main_chat":"","ch.new_chat_confirm.title":"","ch.new_message":"","ch.notification.document_title":"%s","ch.operation_time":"","ch.out_of_work.fri":"","ch.out_of_work.mon":"","ch.out_of_work.sat":"","ch.out_of_work.sun":"","ch.out_of_work.thu":"","ch.out_of_work.tue":"","ch.out_of_work.wed":"","ch.phone_number.list.label":"","ch.popup.alt_text.file":"","ch.popup.alt_text.files":"%s","ch.popup.alt_text.image":"","ch.popup.alt_text.images":"%s","ch.popup.alt_text.video":"","ch.popup.alt_text.videos":"%s","ch.popup.question":"","ch.popup.question_count":"%s","ch.powered_by":"<b></b>","ch.profile_form.date.placeholder":"","ch.profile_form.datetime_pick":"","ch.profile_form.time.placholder":"","ch.prompt_button.placeholder":"ALF","ch.relative_time.day":"%s","ch.relative_time.hour":"%s","ch.relative_time.minute":"%s","ch.relative_time.now":"","ch.response_delay.delayed":"","ch.response_delay.fast":"","ch.response_delay.few_minutes":"","ch.response_status.auto":"%s","ch.response_status.away_active":"","ch.response_status.out_of_office":"","ch.setting.profile.title":"","ch.setting.success_toast":"","ch.settings.chat_options":"","ch.settings.edit_profile.description":" ","ch.settings.edit_profile.tooltip":"","ch.settings.language.translate_all":"","ch.settings.language.translate_message":"","ch.settings.notification_sound":"","ch.settings.save":"","ch.settings.subscribe.email":"","ch.settings.subscribe.email.description":"\\n","ch.settings.subscribe.mobile":"SMS","ch.settings.subscribe.mobile.description":"SMS\\n","ch.settings.subscribe.modal":"\\n?","ch.settings.subscribe.modal.confirm":"","ch.settings.subscribe.modal.next":"","ch.settings.subscribe_setting":"","ch.settings.translate_message":"","ch.show_translate":"","ch.show_working_times":"","ch.tab_title.lounge":"","ch.tab_title.setting":"","ch.tab_title.user_chats":"","ch.toast.file_upload.exceed_count.error":"%s","ch.toast.file_upload.exceed_max.error":"%s","ch.toast.file_upload.failure.error":"","ch.tomorrow":"","ch.undo_translate":"","ch.unknown":"","ch.unread.count":"%s","ch.unread_divider":"","ch.user_profile.locale.label":"","ch.userchat.reaction.modal_title":"","ch.workflow.collecting_user_replay.placeholder":"","ch.working_time.always_open":"24","ch.working_time.out_of_office":"","message_stream.failed_message.retry.tooltip":"","message_stream.failed_message.retry.while_alf_processing":"ALF"}'),i=JSON.parse('{"ch-chx-cha.banner.integration.new":"      ","ch-chx-cha.banner.integration.open":"   .","ch.alf.agentic_search.cancel":" ","ch.alf.agentic_search.done":" ","ch.alf.agentic_search.progress.content.fallback":"    ,  .","ch.alf.agentic_search.progress.title.fallback":"   ","ch.alf.agentic_search.think_duration.m":"%s  ","ch.alf.agentic_search.think_duration.m_s":"%s %s  ","ch.alf.agentic_search.think_duration.s":"%s  ","ch.alf.banner.warning":"AI   ,     .","ch.alf.input_placeholder":"AI  .","ch.alf.now_operating":"AI   ","ch.alf.typing_message.one":" ","ch.alf.typing_message.three":"ALF  ","ch.alf.typing_message.two":"ALF  ","ch.button_confirm":"","ch.channel.contact":"%s ","ch.chat.delete":"","ch.chat.footer_fallback.message":",   .  .","ch.chat.marketing_to_chat":" ","ch.chat.menu.delete_message":" ","ch.chat.menu.delete_message.cancel":"","ch.chat.menu.leave":"","ch.chat.menu.leave_chat":" ","ch.chat.menu.leave_chat.content":" ,       .","ch.chat.menu.leave_chat.title":" ?","ch.chat.message.action_title":" ","ch.chat.message.actions.copy_message":" ","ch.chat.message.actions.delete_message":" ","ch.chat.message.delete_confirm.message":"  ?\\n      .     .","ch.chat.message.form.question":": %s","ch.chat.message.form.submitted":"  ","ch.chat.retry_sending_message_question":"  .\\n ?","ch.chat.send":"","ch.chat.send.multiple":"%s ","ch.chat.start_new_chat":" ","ch.chat_list_card.button.all":" ","ch.chat_list_card.button.more":"","ch.chat_list_card.remove_all":" ","ch.chat_list_card.unread_notifications":"  ","ch.chatroom.message.matched_faq":" ","ch.chatroom.message.reference":"","ch.chatroom.message.referenced_answer":" ","ch.chatroom.message.referenced_answer.tooltip":"%s    AI  .","ch.chatroom.message.show_reference":"","ch.chatroom.message.unknown_reference":"   ","ch.chx-chat.banner.integrate.button":"","ch.chx-chat.banner.integrate.description":"    \\n<b>   !</b>","ch.chx-chat.banner.open.button":" ","ch.chx-chat.banner.open.description":"    . <b> !</b>","ch.chx-chat.popup.buttons.confirm":"  ","ch.chx-chat.popup.buttons.dismiss":"7   ","ch.chx-chat.popup.description":"       .        !","ch.chx-chat.popup.title":"!    ","ch.command.action.toast.temporary_error":",   .  .","ch.command.parameter_overlay.title.optional_parameters":"    ","ch.command.parameter_overlay.title.required_parameters":"     .","ch.command_input.parameters.description.default":".","ch.command_input.parameters.type_error":"  .  .","ch.command_input.parameters.type_error.bool":"True False   .","ch.command_input.parameters.type_error.choices":"  .  .","ch.command_input.parameters.type_error.empty_value":"  . .","ch.command_input.parameters.type_error.float":"   .","ch.command_input.parameters.type_error.int":"   .","ch.command_input.parameters.type_error.required_parameter":"  . .","ch.command_input.parameters.type_error.string":"  .  .","ch.command_input.placeholder.add_optional_parameters":"  ","ch.command_input.placeholder.add_required_parameters":"  ","ch.command_input.placeholder.execute_with_enter":"  ","ch.command_input.toast.typing_attempt":"     .","ch.common.cancel":"","ch.common.close":"","ch.common.go_back":"","ch.common.learn_more":" ","ch.common.me":"","ch.common.retry":"","ch.common.toggle.less":"","ch.common.toggle.more":" ","ch.contact":" ","ch.day_of_week.fri":"","ch.day_of_week.mon":"","ch.day_of_week.sat":"","ch.day_of_week.sun":"","ch.day_of_week.thu":"","ch.day_of_week.tue":"","ch.day_of_week.wed":"","ch.dialog.file_upload.error_actions.title":"  .\\n ?","ch.emoij_selector.empty_content.description":"     ","ch.emoji_selector.category.activity":"","ch.emoji_selector.category.emotion":"  ","ch.emoji_selector.category.flags":"","ch.emoji_selector.category.foods":"  ","ch.emoji_selector.category.frequently_used":" ","ch.emoji_selector.category.nature":"  ","ch.emoji_selector.category.objects":"","ch.emoji_selector.category.people":"  ","ch.emoji_selector.category.places":"  ","ch.emoji_selector.category.symbols":"","ch.emoji_selector.search_input.placeholder":" ","ch.empty_userchat.text":" ","ch.error.channel_unavailable.title":"   ","ch.error.default.title":" ","ch.error.description":"    ","ch.error.expired.description":"    ","ch.error.expired.title":" ","ch.error.invalid_access.description":"    ","ch.error.invalid_access.title":",    ","ch.error.network.button":"","ch.error.notfound.button":" ","ch.error.offline.title":"  ","ch.error.server.description":" ,       .","ch.error.server.retry":" ","ch.error.server.status":"  ","ch.error.server.title":",     ","ch.error.title":",  ","ch.error.unavailable.description":"  ","ch.file.download":"","ch.file_upload.fail":" ","ch.file_upload.failed":"%s   ","ch.file_upload.pending":" ","ch.file_upload.wait_count":"%s ","ch.form.boolean.no":"","ch.form.boolean.yes":"","ch.form.follow_up.description":" 1  ","ch.form.follow_up.rewrite":" ","ch.form.input.empty_value":" ","ch.form.input.number.placeholder":" ","ch.form.input.phone_number.placeholder":"","ch.form.input.placeholder":"","ch.form.select.cancel":"","ch.form.select.placeholder":"","ch.form.submit":"","ch.form.types.multi_select":" ","ch.form.types.single_select":" ","ch.holiday":"14   ","ch.instagram.caption":"","ch.instagram.caption.see_more":"","ch.instagram.open_instagram":" ","ch.integration.phone.text":"","ch.integration.title":"  ","ch.integrations.phone.tooltip":": %s","ch.label_button.description":" ","ch.language-conversion.action":", ","ch.language-conversion.complete":"  {to} .       .","ch.language-conversion.suggestion":"  {from} {to} ?","ch.launcher.custom_alt":"%s  ","ch.layout.background.contact":"%s ","ch.lounge.card.chat_list.unread_count":"%s  ","ch.lounge.card.integrations.title":"  ","ch.lounge.media.error":", %s  .","ch.lounge.media.error.instagram":"","ch.lounge.media.refresh":"","ch.manager.profile":"","ch.meet":"","ch.meet.confirm_create.description":"     .         .","ch.meet.confirm_create.title":"  ?","ch.meet.message.audio_meet.ended":"  ","ch.meet.message.audio_meet.missed":"  ","ch.meet.message.video_meet.ended":"  ","ch.meet.message.video_meet.missed":"  ","ch.meet.message_preview.ended":" .","ch.meet.message_preview.invited":"%s  .","ch.meet.message_preview.missed":"%s   .","ch.meet.message_preview.ongoing":" .","ch.meet.ongoing":" ","ch.meet.toast.network_disconnected":"    .  .","ch.meet.toast.no_operator":"      .","ch.meet.toast.not_in_operation":"    .","ch.meet.toast.userchat_leaved":"   .","ch.meet.type.audio":" ","ch.meet.type.video":" ","ch.message_input.disabled.new_chat":".    .","ch.message_input.placeholder":" .","ch.message_stream.message.deleted_message":" ","ch.message_stream.message.translate.desktop":"     .","ch.message_stream.message.translate.mobile":"     .","ch.messenger.closed":"  ","ch.messenger.fold":"","ch.messenger.marketing.description":"  ?","ch.messenger.placeholder":" .","ch.name":"","ch.new_chat.button":"","ch.new_chat_confirm.description":"    ,      .","ch.new_chat_confirm.go_main_chat":"  ","ch.new_chat_confirm.title":"   ","ch.new_message":" ","ch.notification.document_title":"%s   .","ch.operation_time":"","ch.out_of_work.fri":"","ch.out_of_work.mon":"","ch.out_of_work.sat":"","ch.out_of_work.sun":"","ch.out_of_work.thu":"","ch.out_of_work.tue":"","ch.out_of_work.wed":"","ch.phone_number.list.label":" ","ch.popup.alt_text.file":" .","ch.popup.alt_text.files":" %s .","ch.popup.alt_text.image":" .","ch.popup.alt_text.images":" %s .","ch.popup.alt_text.video":" .","ch.popup.alt_text.videos":" %s .","ch.popup.question":" ","ch.popup.question_count":"%s  ","ch.powered_by":"<b></b> ","ch.profile_form.date.placeholder":" ","ch.profile_form.datetime_pick":"   ","ch.profile_form.time.placholder":" ","ch.prompt_button.placeholder":"AI  .","ch.relative_time.day":"%s ","ch.relative_time.hour":"%s ","ch.relative_time.minute":"%s ","ch.relative_time.now":"","ch.response_delay.delayed":"    ","ch.response_delay.fast":"    ","ch.response_delay.few_minutes":"      ","ch.response_status.auto":"%s ","ch.response_status.away_active":" ","ch.response_status.out_of_office":"   ","ch.setting.profile.title":"  ","ch.setting.success_toast":"  ","ch.settings.chat_options":" ","ch.settings.edit_profile.description":"          .   .","ch.settings.edit_profile.tooltip":"      .      .","ch.settings.language.translate_all":"  ","ch.settings.language.translate_message":"  ","ch.settings.notification_sound":"","ch.settings.save":"","ch.settings.subscribe.email":" ","ch.settings.subscribe.email.description":"       .","ch.settings.subscribe.mobile":" ","ch.settings.subscribe.mobile.description":"       .","ch.settings.subscribe.modal":"   ?","ch.settings.subscribe.modal.confirm":"","ch.settings.subscribe.modal.next":"","ch.settings.subscribe_setting":"  ","ch.settings.translate_message":"  ","ch.show_translate":"","ch.show_working_times":" ","ch.tab_title.lounge":"","ch.tab_title.setting":"","ch.tab_title.user_chats":"","ch.toast.file_upload.exceed_count.error":"    %s   .","ch.toast.file_upload.exceed_max.error":"    (%s) .","ch.toast.file_upload.failure.error":"   .        .","ch.tomorrow":"","ch.undo_translate":"","ch.unknown":"  ","ch.unread.count":"%s    ","ch.unread_divider":" .","ch.user_profile.locale.label":"","ch.userchat.reaction.modal_title":" ","ch.workflow.collecting_user_replay.placeholder":"   .","ch.working_time.always_open":"24 ","ch.working_time.out_of_office":"","message_stream.failed_message.retry.tooltip":"","message_stream.failed_message.retry.while_alf_processing":"      "}'),a=new class{constructor(){(0,r.Z)(this,"locale",{ko:i,en:o,ja:s})}getTranslation(e,t){return this.locale[e][t]??""}getTranslateObject(e){return this.locale[e]}}},28961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(80070),o=n(73060),s=n.n(o);const i=new class{constructor(){var e;(0,r.Z)(this,"userAgent",void 0),this.userAgent=s()((null===(e=window.navigator)||void 0===e?void 0:e.userAgent)??"")}get deviceType(){return(this.userAgent.device.type??"").toLowerCase()}get osName(){return(this.userAgent.os.name??"").toLowerCase()}get browserName(){return(this.userAgent.browser.name??"").toLowerCase()}get browserVersion(){return this.userAgent.browser.version??""}get isKakaoInAppBrowser(){return(this.userAgent.ua??"").toLowerCase().includes("kakaotalk")}get isNaverInAppBrowser(){return(this.userAgent.ua??"").toLowerCase().includes("naver")}get isLineInAppBrowser(){return(this.userAgent.ua??"").toLowerCase().includes("line")}get isInstagramInAppBrowser(){return(this.userAgent.ua??"").toLowerCase().includes("instagram")}get isFacebookInAppBrowser(){return(this.userAgent.ua??"").toLowerCase().includes("fbav")}get isEdge(){return"edge"===this.browserName}get isSamsungBrowser(){return"samsung browser"===this.browserName}get isWhale(){return"whale"===this.browserName&&!this.isNaverInAppBrowser}get isFirefox(){return"firefox"===this.browserName}get isChrome(){return"chrome"===this.browserName}get isChromeWebview(){return"chrome webview"===this.browserName}get isElectron(){return"electron"===this.browserName}get isChromium(){return"chromium"===this.browserName}get isSafari(){return this.browserName.includes("safari")}get isWindows(){return"windows"===this.osName}get isMobile(){return"mobile"===this.deviceType||this.isShopifyExtension}get isAndroid(){return"android"===this.osName||(this.isEdge||this.isSamsungBrowser)&&"linux"===this.osName}get isAndroidPhone(){return this.isAndroid&&this.isMobile}get isAndroidTablet(){return this.isAndroid&&("tablet"===this.deviceType||""===this.deviceType)}get isAndroidTouchableDevice(){return this.isAndroidPhone||this.isAndroidTablet}get isIPhone(){return"ios"===this.osName&&this.isMobile}get isIPad(){return("iPad"===navigator.platform||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream}get isAppleTouchableDevice(){return this.isIPhone||this.isIPad}get isTouchableDevice(){return this.isAndroidTouchableDevice||this.isAppleTouchableDevice}get isMac(){return"mac os"===this.osName&&!this.isIPad}get isSafariOnIOS(){return this.isSafari&&this.isIPhone}get isSafariOnIOS26(){return this.isSafariOnIOS&&parseInt(this.browserVersion,10)>=26}get isAndroidChrome114(){const e="114"===this.browserVersion.split(".")[0];return this.isChrome&&"android"===this.osName&&e}get isShopifyExtension(){return"Shopify Extension"===navigator.userAgent}setUserAgent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.userAgent={...s()(""),...e}}}},9967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(27224),o=n(94109),s=n(58078);const i=new class{get parentWindow(){return window.parent===window&&(0,r.fF)("window.parent window  App   parentWindow   ."),window.parent}get currentWindow(){return window}get topmostWindow(){return(0,o.N0)()?this.parentWindow:window}get parentDocument(){return this.parentWindow.document}get currentDocument(){return this.currentWindow.document}get topmostDocument(){return this.topmostWindow.document}get rootElement(){return this.currentDocument.getElementById("main")||this.currentDocument.getElementById("root")||this.currentDocument.body}get chPluginElement(){return this.topmostDocument.getElementById("ch-plugin")}get chPluginEntryElement(){return this.topmostDocument.getElementById("ch-plugin-entry")}get chPluginScriptIframeElement(){return this.topmostDocument.getElementById("ch-plugin-script-iframe")}get chPluginScriptElement(){return this.parentDocument.getElementById("ch-plugin-script")}get canonicalUrl(){var e;return(null===(e=this.topmostDocument.querySelector('link[rel="canonical"]'))||void 0===e?void 0:e.getAttribute("href"))||void 0}get visibilityState(){return this.currentDocument.visibilityState}hasFocus(){var e,t;return!!this.topmostDocument.hasFocus()||((null===(e=this.chPluginScriptIframeElement)||void 0===e||null===(t=e.contentDocument)||void 0===t?void 0:t.hasFocus())??!1)}_set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).forEach((t=>{(0,s.e$)(this,t)&&(this[t]=e[t])})),this}}},12440:(e,t,n)=>{"use strict";n.d(t,{k:()=>I,U:()=>k});var r=n(59483),o=n(20559),s=n(40278),i=n(3440),a=n(97390),l=n(46685),c=n(20983),u=n(87623),h=n(4917),d=n(65315),p=n(12914),m=n(24821),g=n(52485),f=n(60885),v=n(53284),b=n(95611),_=n(10824),y=n(32490),C=n(80070),w=n(58078);var E=n(59516),S=n(87851),Z=n(44212);let I;!function(e){e.MANUAL="manual",e.MESSAGE="message",e.WAM="wam"}(I||(I={}));const k=(0,b.tP)(((e,t)=>({requestGetAppCommands:(0,b.JF)(t)("requestGetAppCommands",(()=>(0,o.z)((0,c.z)((e=>(0,s.D)(function(e){let{channelId:t}=e;return E.Z.get(`/front/v1/channels/${t}/apps`,{baseUrl:S.m$}).withToken()}(e).run()))),(0,u.b)((t=>{e((e=>{e.apps=t.apps.map((e=>new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C.Z)(this,"avatarUrl",""),(0,C.Z)(this,"configSchemas",[]),(0,C.Z)(this,"description",""),(0,C.Z)(this,"id",""),(0,C.Z)(this,"state",""),(0,C.Z)(this,"title",""),Object.keys(e).forEach((t=>{(0,w.e$)(this,t)&&(this[t]=e[t])}))}}(e))),e.commands=t.commands.map((e=>new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C.Z)(this,"appId",""),(0,C.Z)(this,"createdAt",""),(0,C.Z)(this,"description",""),(0,C.Z)(this,"name",""),(0,C.Z)(this,"nameDescI18nMap",{}),(0,C.Z)(this,"paramDefinitions",[]),(0,C.Z)(this,"scope",""),(0,C.Z)(this,"updatedAt",""),Object.keys(e).forEach((t=>{(0,w.e$)(this,t)&&(this[t]=e[t])}))}getId(){return`${this.appId}-${this.scope}-${this.name}`}getName(e){var t,n,r;return(null===(t=this.nameDescI18nMap)||void 0===t||null===(n=t[e])||void 0===n||null===(r=n.name)||void 0===r?void 0:r.replaceAll(" ",""))??this.name}getDescription(e){var t,n;return(null===(t=this.nameDescI18nMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.description)??this.description}getCommandLine(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return`/${this.getName(e)}${t?" ":""}`}}(e)))}))}))))),requestExecuteCommand:(0,b.JF)(t)("requestExecuteCommand",(()=>(0,o.z)((0,c.z)((e=>(0,s.D)(function(e){let{name:t,appId:n,channelId:r,userChatId:o,messageId:s,input:i,triggerType:a,language:l}=e;return E.Z.put(`/front/v1/channels/${r}/apps/${n}/commands/${t}`,{input:i,chat:{id:o,type:"userChat"},trigger:{type:a,attributes:{messageId:s}},language:l},{baseUrl:S.m$}).withToken()}(e).run()).pipe((0,h.U)((t=>({triggerType:e.triggerType,messageId:e.messageId,userChatId:e.userChatId,action:t}))),t().effects.executeAction.pipe,(0,d.K)((e=>(t().effects.handleCommandRequestFailure(),(0,i._)((()=>e))))))))))),requestGetXAccessToken:(0,b.JF)(t)("requestGetXAccessToken",(()=>(0,o.z)((0,c.z)((e=>(0,s.D)(function(e){let{channelId:t,appId:n}=e;return E.Z.put(`/front/v1/channels/${t}/apps/${n}/token`,void 0,{baseUrl:S.m$}).withToken()}(e).run()).pipe((0,d.K)((e=>(t().effects.handleCommandRequestFailure(),(0,i._)((()=>e))))))))))),requestRefreshXAccessToken:(0,b.JF)(t)("requestRefreshXAccessToken",(()=>(0,o.z)((0,c.z)((e=>(0,s.D)(function(e){let{refreshToken:t}=e;return E.Z.put("/general/v1/token/refresh",{refreshToken:t},{baseUrl:S.m$})}(e).run()).pipe((0,d.K)((e=>(t().effects.handleCommandRequestFailure(),(0,i._)((()=>e))))))))))),setXAccessToken:e=>{const n=v.Z.userSelectors.getUserId(t()),r=v.Z.channelSelectors.getChannelId(t());p.Z.setTokens({...e,userId:n,channelId:r})},initializeCommandInput:n=>{e((e=>{e.selectedCommandId=n.command.getId(),e.commandInputParams=n.command.paramDefinitions.filter((e=>e.required)),e.commandInputValues={},e.commandInputErrors={}})),t().effects.setChatroomInputValue("")},finalizeCommandInput:n=>{e((e=>{e.selectedCommandId=null,e.commandInputParams=[],e.commandInputValues={},e.commandInputErrors={}}));const r=v.Z.userChatSelectors.getCurrentUserChatId(t());r&&(m.Z.delete(r),g.Z.set(r,n),t().effects.setChatroomInputValue(n))},requestGetCommandAutocomplete:(0,b.JF)(t)("requestGetCommandAutocomplete",(()=>(0,o.z)((0,c.z)((e=>(0,s.D)(function(e){let{commandName:t,input:n,channelId:r,appId:o,chatId:s,language:i}=e;return E.Z.put(`/front/v1/channels/${r}/apps/${o}/commands/${t}/auto-complete`,{input:n,chat:{id:s,type:"user-chat"},language:i},{baseUrl:S.m$}).withToken()}(e).run()).pipe((0,u.b)((t=>{var n,r,o,s;null===(n=e.observer)||void 0===n||null===(r=n.next)||void 0===r||r.call(n,t),null===(o=e.observer)||void 0===o||null===(s=o.complete)||void 0===s||s.call(o)})),(0,d.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,i._)((()=>t))})))))))),hydrateCommandInput:t=>{e((e=>{e.selectedCommandId=t.command.getId(),e.commandInputParams=t.params,e.commandInputValues=t.values}))},hydrateDraftCommand:e=>{const n=g.Z.get(e),r=m.Z.get(e);if(!r)return void t().effects.finalizeCommandInput(n??"");const o=v.Z.appCommandSelectors.getCommands(t()).find((e=>e.getId()===r.commandId));if(!o)return void t().effects.finalizeCommandInput(n??"");const s=[],i=new Map(o.paramDefinitions.map((e=>[e.name,e])));for(const e of r.params){const r=i.get(e);if(!r)return void t().effects.finalizeCommandInput(n??"");s.push(r)}t().effects.hydrateCommandInput({command:o,params:s,values:r.values})},executeWamEvent:(0,b.JF)(t)("executeWamEvent",(()=>(0,o.z)((0,c.z)((e=>{const{wamEvent:n,appId:r}=e,{type:o,wamId:s,attributes:i}=n;switch(o){case y.q.Close:return i.wamEvent?(0,a.of)({appId:r,wamEvent:i.wamEvent}).pipe(t().effects.executeWamEvent.pipe,(0,u.b)((()=>{t().effects.closeWamModal({id:s})}))):(t().effects.closeWamModal({id:s}),l.E);case y.q.Command:return(0,a.of)({triggerType:I.WAM,action:{type:_.U.Command,attributes:i}}).pipe(t().effects.executeAction.pipe);case y.q.OnAuthTokenUpdated:return t().effects.setXAccessToken({accessToken:i.access_token,accessTokenExpiresAt:i.expires_at,refreshToken:i.refresh_token,refreshTokenExpiresAt:i.refresh_token_expires_at,appId:r}),l.E;default:return l.E}}))))),handleCommandRequestFailure:()=>{t().effects.showToast({message:f.Z.getTranslation(v.Z.userSelectors.getSystemLanguage(t()),"ch.command.action.toast.temporary_error"),icon:r.E})},setCommandInputParamValue:t=>{e((e=>{e.commandInputValues[t.param.name]=t.value}))},deleteCommandInputParam:t=>{e((e=>{e.commandInputParams=e.commandInputParams.filter((e=>e.name!==t.param.name)),delete e.commandInputValues[t.param.name],delete e.commandInputErrors[t.param.name]}))},addCommandInputParams:t=>{e((e=>{e.commandInputParams.push(...t.params)}))},setCommandInputErrors:t=>{e((e=>{e.commandInputErrors=t.errors}))},setCommandInputParamError:t=>{e((e=>{const n=t.param.name;e.commandInputParams.some((e=>e.name===n))&&(t.error?e.commandInputErrors[t.param.name]=t.error:delete e.commandInputErrors[t.param.name])}))},resetAppCommandState:()=>{e(Z.d)}})))},44212:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});const r={apps:[],commandInputErrors:{},commandInputParams:[],commandInputValues:{},commands:[],selectedCommandId:null}},48575:(e,t,n)=>{"use strict";n.d(t,{V:()=>l,Z:()=>a});var r=n(80070),o=n(66532),s=n(78882),i=n(58078);class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,o.sc,!0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"ai",!1),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"name",""),(0,r.Z)(this,"nameDescI18nMap",{}),(0,r.Z)(this,"createdAt",0),(0,r.Z)(this,"avatarUrl",""),(0,r.Z)(this,"$personType",s.Z.Bot),Object.keys(e).forEach((t=>{(0,i.e$)(this,t)&&(this[t]=e[t])}))}static isBot(e){return e.$personType===s.Z.Bot}getKey(){return this.id}getName(e){var t;return(null===(t=this.nameDescI18nMap[e])||void 0===t?void 0:t.name)??this.name}isEmpty(){return!this.id}}const l=new a},69522:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCallbackMap:()=>o,getCallbacks:()=>s});var r=n(30633);const o=e=>e.channelIOCallbacks,s=(0,r.P1)(o,((e,t)=>Array.isArray(t)?t:[t]),((e,t)=>t.reduce(((t,n)=>{const r=e.get(n);return r&&t.push(...r),t}),[])))},65047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,t:()=>h});var r=n(80070),o=n(66532),s=n(73368),i=n(58078),a=n(50022),l=n(36355);class c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,o.sc,!0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"awayOption",null),(0,r.Z)(this,"blockReplyingAfterClosed",!1),(0,r.Z)(this,"blockReplyingAfterClosedTime",null),(0,r.Z)(this,"operationTimeRanges",null),(0,r.Z)(this,"expectedResponseDelay",l.D.NORMAL),(0,r.Z)(this,"inOperation",!0),(0,r.Z)(this,"operationTimeScheduling",!1),(0,r.Z)(this,"defaultOperation",!1),(0,r.Z)(this,"showOperatorProfile",!0),(0,r.Z)(this,"nextOperatingAt",0),(0,r.Z)(this,"holidays",[]),(0,r.Z)(this,"todayHoliday",!1),Object.keys(e).forEach((t=>{(0,i.e$)(this,t)&&(this[t]=e[t])}));const t=(null==e?void 0:e.blockReplyingAfterClosedTime)??null;this.blockReplyingAfterClosedTime=(0,a.kK)(t)?null:(0,s.Qc)(t)}isEmpty(){return(0,a.xb)(this.id)}}const u=c,h=new c},36355:(e,t,n)=>{"use strict";let r;n.d(t,{D:()=>r}),function(e){e.DELAYED="delayed",e.INSTANT="instant",e.NORMAL="normal"}(r||(r={}))},20512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(80070),o=n(66532),s=n(94109),i=n(58078),a=n(50022);const l=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,o.sc,!0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"name",""),(0,r.Z)(this,"description",""),(0,r.Z)(this,"defaultPluginId",""),(0,r.Z)(this,"country",""),(0,r.Z)(this,"domain",""),(0,r.Z)(this,"disableNewChatButton",!1),(0,r.Z)(this,"color",""),(0,r.Z)(this,"borderColor",""),(0,r.Z)(this,"gradientColor",""),(0,r.Z)(this,"pluginIconColor","#ffffff"),(0,r.Z)(this,"textColor",""),(0,r.Z)(this,"bright",!0),(0,r.Z)(this,"brightness",0),(0,r.Z)(this,"coverImageBright",!1),(0,r.Z)(this,"coverImageColor",""),(0,r.Z)(this,"coverImageUrl",""),(0,r.Z)(this,"timeZone",""),(0,r.Z)(this,"trial",!1),(0,r.Z)(this,"avatarUrl",""),(0,r.Z)(this,"homepageUrl",""),(0,r.Z)(this,"phoneNumber",""),(0,r.Z)(this,"blocked",!1),(0,r.Z)(this,"systemDomain",""),(0,r.Z)(this,"showOperatorProfile",!0),(0,r.Z)(this,"utcOffset",""),(0,r.Z)(this,"hideAppMessenger",!1),(0,r.Z)(this,"nameDescI18nMap",null),(0,r.Z)(this,"welcomeMessage",{}),(0,r.Z)(this,"welcomeMessageI18nMap",{}),Object.keys(e).forEach((t=>{(0,i.e$)(this,t)&&(this[t]=e[t])}))}static getStandaloneUrlByDomain(e){if(!(0,a.xb)(e))return`https://${e}.channel.io`}getKey(){return this.id}isEmpty(){return!this.id}getStandaloneUrl(){return(0,s.yG)()?`http://${window.location.hostname}:4003`:`https://${this.systemDomain}.channel.io`}}},46850:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.Error="error",e.Pending="pending",e.Success="success",e.Uploading="uploading"}(r||(r={}));const o=r},6335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,p:()=>s});var r=n(80070),o=n(58078);let s;!function(e){e.EMAIL="email",e.MOBILE_NUMBER="mobileNumber",e.NAME="name"}(s||(s={}));class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"id",""),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"key",""),(0,r.Z)(this,"name",""),(0,r.Z)(this,"nameI18nMap",{}),(0,r.Z)(this,"type",""),(0,r.Z)(this,"createdAt",0),(0,r.Z)(this,"updatedAt",0),Object.keys(e).forEach((t=>{(0,o.e$)(this,t)&&(this[t]=e[t])}))}getName(e){return this.nameI18nMap[e]??this.name}getKey(){return this.id}}},90509:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>o}),function(e){e.CAROUSEL_ALBUM="CAROUSEL_ALBUM",e.IMAGE="IMAGE",e.VIDEO="VIDEO"}(r||(r={}));const o=r},80298:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c,Z:()=>l});var r=n(80070),o=n(66532),s=n(78882),i=n(58078),a=n(50022);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,o.sc,!0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"accountId",""),(0,r.Z)(this,"managerId",""),(0,r.Z)(this,"name",""),(0,r.Z)(this,"description",""),(0,r.Z)(this,"showDescriptionToFront",!1),(0,r.Z)(this,"emailForFront",""),(0,r.Z)(this,"mobileNumberForFront",""),(0,r.Z)(this,"avatarUrl",""),(0,r.Z)(this,"createdAt",0),(0,r.Z)(this,"displayAsChannel",!1),(0,r.Z)(this,"removed",!1),(0,r.Z)(this,"nameDescI18nMap",{}),(0,r.Z)(this,"$personType",s.Z.Manager),Object.keys(e).forEach((t=>{(0,i.e$)(this,t)&&(this[t]=e[t])}))}static isManager(e){return(null==e?void 0:e.$personType)===s.Z.Manager}get typedId(){return`manager-${this.id}`}getKey(){return this.id}getName(e){var t;return(null===(t=this.nameDescI18nMap[e])||void 0===t?void 0:t.name)??this.name}getDescription(e){var t;return this.showDescriptionToFront?(null===(t=this.nameDescI18nMap[e])||void 0===t?void 0:t.description)??this.description:null}hasInfo(e){return!(0,a.xb)(this.getDescription(e))||!(0,a.xb)(this.emailForFront)||!(0,a.xb)(this.mobileNumberForFront)}isEmpty(){return!this.id}}const c=new l},99265:(e,t,n)=>{"use strict";let r;function o(e){if(function(e){return Object.values(r).includes(e)}(e))return e;throw new Error("Invalid medium type")}n.d(t,{A:()=>o,E:()=>r}),function(e){e.APP="app",e.EMAIL="email",e.PHONE="phone"}(r||(r={}))},98956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(80070),o=n(58078);const s=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"direction",void 0),(0,r.Z)(this,"missedReason",void 0),(0,r.Z)(this,"engagedAt",void 0),Object.keys(e).forEach((t=>{(0,o.e$)(this,t)&&(this[t]=e[t])}))}}},70294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(80070),o=n(18204),s=n(80577),i=n(12022),a=n(58078);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"type",void 0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"advertising",!1),(0,r.Z)(this,"exposureType",null),(0,r.Z)(this,"imageLinkUrl",void 0),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}}var c=n(50022);class u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"id",""),(0,r.Z)(this,"url",""),(0,r.Z)(this,"title",""),(0,r.Z)(this,"description",""),(0,r.Z)(this,"imageUrl",""),(0,r.Z)(this,"videoUrl",""),(0,r.Z)(this,"publisher",""),(0,r.Z)(this,"width",0),(0,r.Z)(this,"height",0),(0,r.Z)(this,"bucket",""),(0,r.Z)(this,"previewKey",null),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.id}isEmpty(){return!this.id}getPreviewThumbUrl(){return(0,c.xb)(this.bucket)||(0,c.xb)(this.previewKey)?null:`${this.getUrlOrigin()}/thumb/${2*this.width}x${2*this.height},cover,webp/${this.previewKey}`}getUrlOrigin(){switch(this.bucket){case"bin.channel.io":return"https://cf.channel.io";case"bin.exp.channel.io":return"https://cf.exp.channel.io";default:return`https://${this.bucket}`}}isYouTube(){return"YouTube"===this.publisher}getYouTubeId(){return(this.url.match(/^https?:\/\/(?:www\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|e\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((?:\w|-){11})/)||[])[1]||""}}class h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"references",[]),(0,r.Z)(this,"type",""),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}getType(){return this.type}getReferences(){return this.references}getLabel(){return"faq"===this.getType()?"ch.chatroom.message.matched_faq":"ch.chatroom.message.reference"}}var d,p=n(44873),m=n(98956);!function(e){e.Ended="ended",e.Live="live",e.Transcribed="transcribed"}(d||(d={}));var g,f=n(94725),v=n(71381),b=n(16758),_=n(84267);!function(e){e.DisplayAsChannel="displayAsChannel",e.Immutable="immutable"}(g||(g={}));const y=g;var C=n(78882),w=n(94785),E=n(86548),S=n(50655),Z=n(42474),I=n(66934);const k="custom",x="followUp",T=/^(?::[\w\d_+-]+:)+$/,A=/^(?::[\w\d_+-]+:(\ud83c[\udffb-\udfff])?)+$/;class M{static createLocalUserMessageObject(e,t){return{requestId:`front-web-${s.Z.getDate().getTime()}${(0,S.zs)()}`,$sending:!0,$failed:!1,$local:!0,createdAt:s.Z.getDate().getTime(),personType:C.Z.User,personId:e,...t}}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"alf",void 0),(0,r.Z)(this,"alfProgress",void 0),(0,r.Z)(this,"alfThread",void 0),(0,r.Z)(this,"alfKey",void 0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"chatId",""),(0,r.Z)(this,"personType",null),(0,r.Z)(this,"personId",""),(0,r.Z)(this,"plainText",""),(0,r.Z)(this,"buttons",[]),(0,r.Z)(this,"createdAt",0),(0,r.Z)(this,"requestId",""),(0,r.Z)(this,"files",[]),(0,r.Z)(this,"log",null),(0,r.Z)(this,"webPage",null),(0,r.Z)(this,"language",""),(0,r.Z)(this,"blocks",[]),(0,r.Z)(this,"marketing",null),(0,r.Z)(this,"state",void 0),(0,r.Z)(this,"options",void 0),(0,r.Z)(this,"reactions",[]),(0,r.Z)(this,"form",void 0),(0,r.Z)(this,"meet",null),(0,r.Z)(this,"workflowButton",!1),(0,r.Z)(this,"version",0),(0,r.Z)(this,"rootMessageId",void 0),(0,r.Z)(this,"$sending",!1),(0,r.Z)(this,"$failed",!1),(0,r.Z)(this,"$local",!1),(0,r.Z)(this,"$receivedFromSocket",!1),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=((e,t)=>{if("alf"===e)return(0,c.Kn)(t)?new h(t):null;if("files"===e)return Array.isArray(t)?t.map((e=>new i.Z(e))):[];if("webPage"===e)return(0,c.Kn)(t)?new u(t):null;if("marketing"===e)return(0,c.Kn)(t)?new l(t):null;if("reactions"===e)return Array.isArray(t)?t.map((e=>new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"emojiName",""),(0,r.Z)(this,"personKeys",[]),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.emojiName}getCount(){return this.personKeys.length}}(e))):[];if("form"===e){if(null==t||!t.type)return null;switch(t.type){case k:return new class{isCustomForm(){return!0}isFollowUpForm(){return!1}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"type",k),(0,r.Z)(this,"inputs",[]),(0,r.Z)(this,"submittedAt",void 0),Object.keys(e).forEach((t=>{var n,o;(0,a.e$)(this,t)&&(this[t]=(n=t,o=e[t],"inputs"===n?Array.isArray(o)?o.map((e=>new class{isCustomFormInput(){return!0}isFollowUpFormInput(){return!1}isRequired(){return this.required}constructor(e){(0,r.Z)(this,"type",I.Z.Text),(0,r.Z)(this,"dataType",Z.Z.String),(0,r.Z)(this,"required",!1),(0,r.Z)(this,"options",void 0),(0,r.Z)(this,"label",""),(0,r.Z)(this,"bindingKey",""),(0,r.Z)(this,"value",void 0),(0,r.Z)(this,"readOnly",!1),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}toJSON(){return{type:this.type,dataType:this.dataType,required:this.required,options:this.options,label:this.label,bindingKey:this.bindingKey,value:this.value,readOnly:this.readOnly}}}(e))):[]:o))}))}toJSON(){return{type:this.type,inputs:this.inputs.map((e=>e.toJSON()))}}}(t);case x:return new class{isCustomForm(){return!1}isFollowUpForm(){return!0}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"type",x),(0,r.Z)(this,"inputs",[]),(0,r.Z)(this,"triggerMessageId",""),(0,r.Z)(this,"submittedAt",void 0),Object.keys(e).forEach((t=>{var n,o;(0,a.e$)(this,t)&&(this[t]=(n=t,o=e[t],"inputs"===n?Array.isArray(o)?o.map((e=>new class{isCustomFormInput(){return!1}isFollowUpFormInput(){return!0}isRequired(){return!1}constructor(e){(0,r.Z)(this,"type",I.Z.Text),(0,r.Z)(this,"dataType",Z.Z.String),(0,r.Z)(this,"label",""),(0,r.Z)(this,"bindingKey",""),(0,r.Z)(this,"value",void 0),(0,r.Z)(this,"readOnly",!1),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}toJSON(){return{type:this.type,dataType:this.dataType,label:this.label,bindingKey:this.bindingKey,value:this.value,readOnly:this.readOnly}}}(e))):[]:o))}))}toJSON(){return{type:this.type,triggerMessageId:this.triggerMessageId,submittedAt:this.submittedAt,inputs:this.inputs.map((e=>e.toJSON()))}}}(t);default:return null}}return"meet"===e?(0,c.Kn)(t)?new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"id",""),(0,r.Z)(this,"country",""),(0,r.Z)(this,"front",null),(0,r.Z)(this,"mode",null),(0,r.Z)(this,"roomStartedAt",0),(0,r.Z)(this,"meetEndedAt",void 0),(0,r.Z)(this,"state",null),Object.keys(e).forEach((t=>{var n,r;(0,a.e$)(this,t)&&(this[t]=(n=t,r=e[t],"front"===n?new m.Z(r):r))}))}get messageType(){var e;return"outbound"!==(null===(e=this.front)||void 0===e?void 0:e.direction)||this.front.engagedAt?this.state===d.Live?"live":"ended":this.state===d.Live?"ring":"missed"}get duration(){var e;return null!==(e=this.front)&&void 0!==e&&e.engagedAt&&this.meetEndedAt?this.meetEndedAt-this.front.engagedAt:null}get isAudioMeet(){return this.mode===p.Z.AUDIO}}(t):null:t})(t,e[t]))}))}getKey(){return this.requestId||this.id||""}getFiles(){return this.files}getOrderedFiles(){return[...this.getFiles()].sort(((e,t)=>(0,c.kK)(e.type)?-1:(0,c.kK)(t.type)?1:b.p[e.type]-b.p[t.type]))}get videoFiles(){return this.files.filter((e=>e.type===b.Z.Video))}get imageFiles(){return this.files.filter((e=>e.type===b.Z.Image))}getWebPage(){return this.webPage}isSending(){return this.$sending}isLocal(){return this.$local}isReceivedFromSocket(){return this.$receivedFromSocket}isEmpty(){return!this.requestId&&!this.id}get isFailed(){return this.$failed}isDeletedMessage(){return"removed"===this.state}isCreatedBySamePerson(e){return this.personType===e.personType&&this.personId===e.personId&&this.getDisplayAsChannel()===e.getDisplayAsChannel()}isCreatedBy(e){return!!f.Z.isUser(e)&&this.personType===e.$personType&&this.personId===e.id}isContextMessage(e){return E.Q8(this.createdAt,e.createdAt)&&this.isCreatedBySamePerson(e)}isLog(){var e;return!this.plainText&&!(null===(e=this.log)||void 0===e||!e.action)}isCampaign(){var e;return(null===(e=this.marketing)||void 0===e?void 0:e.type)===_.Z.Campaign}isOTM(){var e;return(null===(e=this.marketing)||void 0===e?void 0:e.type)===_.Z.OneTimeMessage}canTranslate(e){return this.hasLanguage()&&this.language!==e}canDelete(){var e;return!(this.personType!==C.Z.User||this.$sending||null!==(e=this.options)&&void 0!==e&&e.includes(y.Immutable)||this.isDeletedMessage()||this.$local)}hasPerson(){return this.personType===C.Z.Bot||this.personType===C.Z.Manager}hasLanguage(){return!(0,c.xb)(this.language)}hasBlocks(){return!(0,c.xb)(this.blocks)}hasWebPage(){return!(0,c.kK)(this.webPage)}hasForm(){return!(0,c.kK)(this.form)}hasFile(){return!(0,c.xb)(this.files)}hasOnlyGiantEmojis(){return this.hasBlocks()&&1===this.blocks.length&&this.blocks[0].type===v.Z.TEXT&&(T.test(this.blocks[0].value)||A.test(this.blocks[0].value))&&(0,w.o)(this.blocks[0].value.split(":")).some((e=>o.Z.getEmoji(e)))}get hasButton(){return!(0,c.xb)(this.buttons)&&Array.isArray(this.buttons)}setCreatedAt(e){return this.createdAt=e,this}getCreatedAt(){return this.createdAt}getReactorIds(){var e;const t=new Set;return null===(e=this.reactions)||void 0===e||e.map((e=>e.personKeys)).flat().forEach((e=>{const[n,r]=e.split("-");n===C.Z.Manager&&t.add(r)})),Array.from(t)}getDisplayAsChannel(){var e;return(null===(e=this.options)||void 0===e?void 0:e.includes(y.DisplayAsChannel))??!1}shouldRenderLanguageConversion(e,t){return t?t===this.id:this.personType===C.Z.User&&this.id&&this.language&&!this.workflowButton&&e!==this.language&&this.$receivedFromSocket}shouldRenderUnreadDivider(e,t,n){return n?+n.createdAt<=e&&e<+this.createdAt:!!t&&e<+this.createdAt}isFirstMessage(e,t,n){return!n||!!n.form||!n.isContextMessage(this)||this.shouldRenderUnreadDivider(e,t,n)}get isFormSubmitted(){return!(!this.form||!this.form.submittedAt)}get stringFromBlocks(){let e="";return this.blocks.reduce(((t,n)=>{switch(n.type){case v.Z.TEXT:return t+n.value;case v.Z.CODE:return t?`${t}\n${n.value}\n`:`${n.value}\n`;case v.Z.BULLETS:return e=n.blocks.reduce(((e,t)=>`${e+t.value}\n`),""),t?`${t}\n${e}`:e}}),"")}meetMessageText(){var e;switch(null===(e=this.meet)||void 0===e?void 0:e.messageType){case"live":return"ch.meet.message_preview.ongoing";case"ring":return"ch.meet.message_preview.invited";case"missed":return"ch.meet.message_preview.missed";default:return"ch.meet.message_preview.ended"}}}},23295:(e,t,n)=>{"use strict";let r;n.d(t,{B:()=>r}),function(e){e.CustomImage="customImage",e.IconButton="iconButton",e.Legacy="legacy"}(r||(r={}))},10101:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>i,HQ:()=>s,t2:()=>o});var r=n(59516);function o(){return r.Z.delete("/front/v8/users/me/pop-up").withToken()}function s(){return r.Z.delete("/front/v8/users/me/pop-up",{keepalive:!0}).withToken()}function i(e){let{userChatId:t}=e;return r.Z.get(`/front/v8/user-chats/${t}/pop-up`).withToken()}},68547:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,Z:()=>i});var r=n(80070),o=n(66532),s=n(58078);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,o.sc,!0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"chatId",""),(0,r.Z)(this,"chatType",""),(0,r.Z)(this,"personId",""),(0,r.Z)(this,"personType",""),(0,r.Z)(this,"unread",0),(0,r.Z)(this,"alert",0),(0,r.Z)(this,"readAt",0),(0,r.Z)(this,"postedAt",0),(0,r.Z)(this,"updatedAt",0),(0,r.Z)(this,"version",0),Object.keys(e).forEach((t=>{(0,s.e$)(this,t)&&(this[t]=e[t])}))}getUnread(){return this.unread>99?"99+":this.unread}getKey(){return this.chatId}isEmpty(){return!this.id}setReadAt(e){return this.readAt=e,this}getReadAt(){return this.readAt}setPostedAt(e){return this.postedAt=e,this}getPostedAt(){return this.postedAt}}const a=new i},35037:(e,t,n)=>{"use strict";let r;n.d(t,{t:()=>r}),function(e){e.MarketingClick="click",e.MarketingGoal="MarketingGoal",e.MarketingView="view",e.PageView="PageView",e.UserChatCreate="UserChatCreate",e.UserChatOpen="UserChatOpen"}(r||(r={}))},6321:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,Z:()=>l});var r=n(80070),o=n(66532),s=n(58078),i=n(50022),a=n(929);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,o.sc,!0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"state",a.P.Initial),(0,r.Z)(this,"frontUpdatedAt",0),(0,r.Z)(this,"createdAt",0),(0,r.Z)(this,"closedAt",0),(0,r.Z)(this,"assigneeId",""),(0,r.Z)(this,"frontMessageId",""),(0,r.Z)(this,"handling",null),(0,r.Z)(this,"liveMeetId",""),(0,r.Z)(this,"xerId",void 0),(0,r.Z)(this,"teamId",void 0),(0,r.Z)(this,"version",0),(0,r.Z)(this,"footerCategory",""),Object.keys(e).forEach((t=>{(0,s.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.id}getState(){return this.state}isEmpty(){return!this.id}hasHandling(){return!(0,i.kK)(this.handling)}isAssigned(){return!!this.assigneeId}isClosed(){return this.state===a.P.Closed}isInitialState(){return this.state===a.P.Initial}get isWaitingFollowUp(){var e;return(null===(e=this.handling)||void 0===e?void 0:e.type)===a.$.FollowUpMandatory}get isAlf(){var e;return(null===(e=this.handling)||void 0===e?void 0:e.type)===a.$.Alf}get isWorkflowActive(){var e;return(null===(e=this.handling)||void 0===e?void 0:e.type)===a.$.Workflow}get isWaitingToStartChat(){var e;return(null===(e=this.handling)||void 0===e?void 0:e.type)===a.$.WaitingToStartChat}get isCollectingUserReply(){var e;return(null===(e=this.handling)||void 0===e?void 0:e.type)===a.$.CollectUserReply}get shouldHideMessengerInput(){return this.isWaitingFollowUp||this.isWorkflowActive}}const c=new l},929:(e,t,n)=>{"use strict";let r,o;n.d(t,{$:()=>o,P:()=>r}),function(e){e.Closed="closed",e.Initial="initial",e.Opened="opened",e.Snoozed="snoozed"}(r||(r={})),function(e){e.Alf="alf",e.CollectUserReply="collectUserReply",e.FollowUpMandatory="followUpMandatory",e.WaitingToStartChat="waitingToStartChat",e.Workflow="workflow"}(o||(o={}))},94725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(80070),o=n(66532),s=n(78882),i=n(49038),a=n(58078);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,o.sc,!0),(0,r.Z)(this,"id",""),(0,r.Z)(this,"channelId",""),(0,r.Z)(this,"constrainted",!1),(0,r.Z)(this,"memberId",""),(0,r.Z)(this,"veilId",""),(0,r.Z)(this,"mainChatId",""),(0,r.Z)(this,"avatarUrl",""),(0,r.Z)(this,"alert",0),(0,r.Z)(this,"unread",0),(0,r.Z)(this,"language","en"),(0,r.Z)(this,"systemLanguage",i.ZP.EN),(0,r.Z)(this,"createdAt",0),(0,r.Z)(this,"updatedAt",0),(0,r.Z)(this,"popUpChatId",null),(0,r.Z)(this,"profile",{}),(0,r.Z)(this,"country",""),(0,r.Z)(this,"unsubscribeEmail",!1),(0,r.Z)(this,"unsubscribeTexting",!1),(0,r.Z)(this,"mobileNumberQualified",!1),(0,r.Z)(this,"emailQualified",!1),(0,r.Z)(this,"tags",[]),(0,r.Z)(this,"version",0),(0,r.Z)(this,"type",null),(0,r.Z)(this,"$personType",s.Z.User),Object.keys(e).forEach((t=>{(0,a.e$)(this,t)&&(this[t]=e[t])}))}static isUser(e){return e.$personType===s.Z.User}get alertWithPlus(){return this.alert>99?"99+":this.alert}getKey(){return this.id}getLanguage(){return this.language}getName(){return this.profile.name||""}getProfile(){return this.profile}isEmpty(){return!this.id}isQualified(e){switch(e.key){case"email":return this.emailQualified;case"mobileNumber":return this.mobileNumberQualified;default:return!1}}}},34445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>eo,S:()=>to});var r=n(66532),o=n(4191),s=n(46671),i=n(9967);const a=(e=>{let t=()=>null;return e.show=()=>{var e;const n=null===(e=t())||void 0===e?void 0:e.effects;null==n||n.setShowMessenger.run(!0)},e.hide=()=>{var e;const n=null===(e=t())||void 0===e?void 0:e.effects;null==n||n.setShowMessenger.run(!1)},{setStore:e=>{t=e}}})(((l=i.Z.topmostWindow).CHPlugin=l.CHPlugin||{},l.CHPlugin));var l;const c=a;var u=n(20559),h=n(46685),d=n(97390),p=n(20983),m=n(87623),g=n(63627),f=n(4917),v=n(53284),b=n(95611),_=n(79955),y=n(63735),C=n(40278),w=n(98842);function E(e){return new _.y((t=>{let n=e.length,r=!1;const o=new Array(e.length),s=new y.w0;for(let i=0;i<e.length;i+=1){const a=(0,C.D)(e[i]).pipe((0,w.x)((()=>{0===n&&(r?t.error(o):(t.next(o),t.complete()),s.unsubscribe())}))).subscribe({next:e=>{o[i]=e},error:e=>{o[i]=e,r=!0,n-=1},complete:()=>{n-=1}});s.add(a)}return()=>{s.unsubscribe()}}))}const S=(0,b.tP)(((e,t)=>({executeAction:(0,b.JF)(t)("executeAction",(e=>{let{AccessTokenService:n}=e;return(0,u.z)((0,p.z)((e=>{const{action:r,triggerType:o,messageId:s}=e,i=e.userChatId??v.Z.userChatSelectors.getCurrentUserChatId(t());if("message"===r.type){const{attributes:e}=r;return t().effects.setChatroomInputValue(e.text),h.E}if("command"===r.type){const e=v.Z.channelSelectors.getChannelId(t()),n=v.Z.i18nSelectors.getCurrentLanguage(t());return(0,d.of)({triggerType:o,appId:r.attributes.appId,name:r.attributes.name,input:r.attributes.params,channelId:e,userChatId:i,messageId:s,language:null==n?void 0:n.code}).pipe(t().effects.requestExecuteCommand.pipe)}if("wam"===r.type){const e=v.Z.userSelectors.getUserId(t()),o=v.Z.channelSelectors.getChannelId(t()),s=r.attributes.appId,a=n.getAccessToken(e,o,s),l=n.getRefreshToken(e,o,s);if(a&&l)return t().effects.openWamModal({appId:r.attributes.appId,name:r.attributes.name,wamArgs:r.attributes.wamArgs,accessToken:a,refreshToken:l}),h.E;const c=v.Z.uiSelectors.isMessengerVisible(t());return E([(l?(0,d.of)({refreshToken:l}).pipe(t().effects.requestRefreshXAccessToken.pipe):(0,d.of)({channelId:o,appId:s}).pipe(t().effects.requestGetXAccessToken.pipe)).pipe((0,m.b)((e=>{t().effects.setXAccessToken({accessToken:e.access_token,accessTokenExpiresAt:e.expires_at,refreshToken:e.refresh_token,refreshTokenExpiresAt:e.refresh_token_expires_at,appId:s})})),(0,m.b)((e=>{t().effects.openWamModal({appId:r.attributes.appId,name:r.attributes.name,wamArgs:r.attributes.wamArgs,accessToken:e.access_token,refreshToken:e.refresh_token})}))),(0,d.of)(c).pipe((0,g.h)((e=>!e)),(0,f.U)((()=>!0)),t().effects.setShowMessenger.pipe),(0,d.of)(i).pipe((0,g.h)((e=>!!e)),(0,m.b)((e=>{t().effects.goUserChat(e)})))])}return h.E})))}))})));var Z=n(59516);const I={alfQuickPublishBotName:"",alfQuickPublishWelcomeMessage:{},alfQuickPublishWelcomeMessageI18nMap:{},hideAlfNotice:new Set,isAlfQuickPublish:!1,isAlfProcessing:!1},k=(0,b.tP)(((e,t)=>({setHideAlfNotice:t=>{e((e=>{e.hideAlfNotice.add(t)}))},setAlfQuickPublish:t=>{e(t?e=>{e.isAlfQuickPublish=!0,e.alfQuickPublishBotName=t.bot.name,e.alfQuickPublishWelcomeMessage=t.welcomeMessage,e.alfQuickPublishWelcomeMessageI18nMap=(null==t?void 0:t.welcomeMessageI18nMap)??{}}:I)},setAlfProcessing:t=>{e((e=>{e.isAlfProcessing=t}))},resetAlfProcessing:()=>{t().effects.setAlfProcessing(!1)},receivedAlfProcess:(0,b.JF)(t)("receivedAlfProcess",(()=>(0,u.z)((0,g.h)((e=>{let{chatId:n}=e;return n===v.Z.userChatSelectors.getCurrentUserChatId(t())})),(0,m.b)((e=>{let{action:n}=e;switch(n){case"start":t().effects.setAlfProcessing(!0);break;case"stop":t().effects.setAlfProcessing(!1)}}))))),requestStopAlfProcess:(0,b.JF)(t)("requestStopAlfProcess",(()=>(0,u.z)((0,m.b)((function(){t().effects.setAlfProcessing(!1)})),(0,p.z)((e=>(0,C.D)(function(e){let{userChatId:t}=e;return Z.Z.put(`/front/v8/user-chats/${t}/front-alf/cancel`).withToken()}(e).run()))))))})));var x=n(12440),T=n(3440),A=n(65315),M=n(80070),P=n(49038),R=n(87851),N=n(58078);class O{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,r.sc,!0),(0,M.Z)(this,"id",""),(0,M.Z)(this,"channelId",""),(0,M.Z)(this,"name",""),(0,M.Z)(this,"iconKey",""),(0,M.Z)(this,"language",P.ZP.EN),(0,M.Z)(this,"pluginTextI18n",{text:"",ko:"",ja:"",en:""}),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.id}get avatarUrl(){return this.iconKey?`${R.NF}/${this.iconKey}`:""}}var L=n(50655);const U={appMessengers:{},deeplinkUris:{}},D=(0,b.tP)(((e,t)=>({requestGetAppMessenerDeepLink:(0,b.JF)(t)("requestGetAppMessenerDeepLink",(()=>(0,u.z)((0,p.z)((t=>(0,C.D)(function(e){let{appMessengerName:t}=e;return Z.Z.get(`/front/v8/app/${(0,L.GL)(t)}/connect`).withToken()}(t).run()).pipe((0,m.b)((n=>{var r,o,s,i;e((e=>{e.deeplinkUris[t.appMessengerName]=n.uri??""})),null===(r=t.observer)||void 0===r||null===(o=r.next)||void 0===o||o.call(r,n),null===(s=t.observer)||void 0===s||null===(i=s.complete)||void 0===i||i.call(s)})),(0,A.K)((e=>{var n,r;return null===(n=t.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,e),(0,T._)((()=>e))})))))))),setAppMessengers:t=>{let{appMessengers:n}=t;e((e=>{n.forEach((t=>{e.appMessengers[t.name]||(e.appMessengers[t.name]=new O(t))}))}))},resetAppMessengerState:()=>{e(U)}})));var z=n(48575);const B={bots:{}},F=(0,b.tP)((e=>({setBotsOnHomeSuccess:t=>{let{bot:n,workflow:r,alfQuickPublish:o}=t;e((e=>{[n,null==r?void 0:r.bot,null==o?void 0:o.bot].forEach((t=>{t&&(e.bots[t.id]=new z.Z(t))}))}))},setBots:t=>{let{bots:n}=t;e((e=>{n.forEach((t=>{e.bots[t.id]=new z.Z(t)}))}))},setBot:t=>{let{bot:n}=t;n&&e((e=>{e.bots[n.id]=new z.Z(n)}))},resetBotState:()=>{e(B)}})));var $=n(65232);const H={SHOW:"show",HIDE:"hide",LOUNGE:"lounge",BOOT:"boot",SHUTDOWN:"shutdown",SHOW_MESSENGER:"showMessenger",HIDE_MESSENGER:"hideMessenger",OPEN_CHAT:"openChat",OPEN_SUPPORT_BOT:"openSupportBot",OPEN_WORKFLOW:"openWorkflow",SET_PAGE:"setPage",RESET_PAGE:"resetPage",TRACK:"track",CLEAR_CALLBACKS:"clearCallbacks",UPDATE_USER:"updateUser",ADD_TAGS:"addTags",REMOVE_TAGS:"removeTags",SHOW_CHANNEL_BUTTON:"showChannelButton",HIDE_CHANNEL_BUTTON:"hideChannelButton",SET_APPEARANCE:"setAppearance",HIDE_POPUP:"hidePopup",SET_TUTORIAL_MODE:"setTutorialMode",SEND_MESSAGE:"sendMessage"},W=Object.values(H);var j=n(54225),G=n(27224);const q={ON_BOOT:"onBoot",ON_SHOW:"onShow",ON_HIDE:"onHide",ON_CREATE_CHAT:"onCreateChat",ON_CHANGE_BADGE:"onChangeBadge",ON_CHANGE_PROFILE:"onChangeProfile",ON_CLICK_REDIRECT:"onClickRedirect",ON_PROFILE_CHANGED:"onProfileChanged",ON_SHOW_MESSENGER:"onShowMessenger",ON_HIDE_MESSENGER:"onHideMessenger",ON_BADGE_CHANGED:"onBadgeChanged",ON_FOLLOW_UP_CHANGED:"onFollowUpChanged",ON_CHAT_CREATED:"onChatCreated",ON_URL_CLICKED:"onUrlClicked",ON_POPUP_DATA_RECEIVED:"onPopupDataReceived"},V=Object.values(q),J=n(69522).getCallbacks,K=(0,b.tP)(((e,t)=>({setCallback:(t,n)=>{e((e=>{e.channelIOCallbacks.set(t,[n])}))},addCallback:(t,n)=>{const r=(0,G.fM)(n,t);e((e=>{const n=e.channelIOCallbacks.get(t)??[];n.push(r),e.channelIOCallbacks.set(t,n)}))},resetCallbacks:()=>{e((e=>{e.channelIOCallbacks.clear()}))},notifyBadgeUpdate:(0,b.JF)(t)("notifyBadgeUpdate",(()=>(0,u.z)((0,$.x)(((e,t)=>e.alert===t.alert&&e.unread===t.unread)),(0,m.b)((e=>{let{alert:n,unread:r}=e;t().effects.onBadgeChanged({alert:n,unread:r})}))))),onBadgeChanged:e=>{let{unread:n,alert:r}=e;J(t(),q.ON_CHANGE_BADGE).forEach((e=>{e(n)})),J(t(),q.ON_BADGE_CHANGED).forEach((e=>{e(n,r)}))},onBootSuccess:e=>{let{user:n}=e;J(t(),H.BOOT).forEach((e=>{e(null,n)})),J(t(),q.ON_BOOT).forEach((e=>{e(n)}))},onBootError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error(`ChannelIO('${H.BOOT}') failed`);J(t(),H.BOOT).forEach((t=>{t(e,null)}))},onRequestAddTagsSuccess:e=>{let{user:n}=e;J(t(),H.ADD_TAGS).forEach((e=>{e(null,n)}))},onRequestAddTagsError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error(`ChannelIO('${H.ADD_TAGS}') failed`);J(t(),H.ADD_TAGS).forEach((t=>{t(e,null)}))},onRequestRemoveTagsSuccess:e=>{let{user:n}=e;J(t(),H.REMOVE_TAGS).forEach((e=>{e(null,n)}))},onRequestRemoveTagsError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error(`ChannelIO('${H.REMOVE_TAGS}') failed`);J(t(),H.REMOVE_TAGS).forEach((t=>{t(e,null)}))},onRequestUpdateUserSuccess:e=>{let{user:n}=e;J(t(),H.UPDATE_USER).forEach((e=>{e(null,n)}))},onRequestUpdateUserError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error(`ChannelIO('${H.UPDATE_USER}') failed`);J(t(),H.UPDATE_USER).forEach((t=>{t(e,null)}))},onChatCreated:e=>{let{userChat:n}=e;J(t(),[q.ON_CREATE_CHAT,q.ON_CHAT_CREATED]).forEach((e=>{e(n.id)}))},onProfileChanged:e=>{let{profile:n={}}=e;J(t(),[q.ON_CHANGE_PROFILE,q.ON_PROFILE_CHANGED]).forEach((e=>{e(n)}));const r=(0,N.D9)(n,(e=>e===j.Z.Name||e===j.Z.MobileNumber||e===j.Z.Email));J(t(),q.ON_FOLLOW_UP_CHANGED).forEach((e=>{e(r)}))},onUrlClicked:e=>{let{url:n}=e;J(t(),[q.ON_CLICK_REDIRECT,q.ON_URL_CLICKED]).forEach((e=>{e(n)}))},onShowMessenger:()=>{J(t(),[q.ON_SHOW_MESSENGER,q.ON_SHOW]).forEach((e=>{e()}))},onHideMessenger:()=>{J(t(),[q.ON_HIDE_MESSENGER,q.ON_HIDE]).forEach((e=>{e()}))},onPopupDataReceived:e=>{let{avatarUrl:n,chatId:r,message:o,name:s,timestamp:i}=e;J(t(),q.ON_POPUP_DATA_RECEIVED).forEach((e=>{e({avatarUrl:n,chatId:r,message:o,name:s,timestamp:i})}))}})));var Y=n(64774),X=n(32538),Q=n(81168),ee=n(45761),te=n(84715),ne=n(6835),re=n(70294),oe=n(71142),se=n(88513),ie=n(50022);const ae=e=>(0,ie.q9)(V,e[0])||(0,ie.q9)(W,e[0]),le={[q.ON_BOOT]:(0,G.c4)(q.ON_BOOT,H.BOOT),[q.ON_SHOW]:(0,G.c4)(q.ON_SHOW,q.ON_SHOW_MESSENGER),[q.ON_HIDE]:(0,G.c4)(q.ON_HIDE,q.ON_HIDE_MESSENGER),[q.ON_CREATE_CHAT]:(0,G.c4)(q.ON_CREATE_CHAT,q.ON_CHAT_CREATED),[q.ON_CHANGE_BADGE]:(0,G.c4)(q.ON_CHANGE_BADGE,q.ON_BADGE_CHANGED),[q.ON_CHANGE_PROFILE]:(0,G.c4)(q.ON_CHANGE_PROFILE,q.ON_FOLLOW_UP_CHANGED),[q.ON_CLICK_REDIRECT]:(0,G.c4)(q.ON_CLICK_REDIRECT,q.ON_URL_CLICKED),[q.ON_PROFILE_CHANGED]:(0,G.c4)(q.ON_PROFILE_CHANGED,q.ON_FOLLOW_UP_CHANGED),[H.SHOW]:(0,G.c4)(H.SHOW,H.SHOW_MESSENGER),[H.HIDE]:(0,G.c4)(H.HIDE,H.HIDE_MESSENGER),[H.LOUNGE]:(0,G.c4)(H.LOUNGE),[H.OPEN_SUPPORT_BOT]:(0,G.c4)(H.OPEN_SUPPORT_BOT,H.OPEN_WORKFLOW)},ce="SHUTDOWN",ue="AFTER_SOCKET",he="AFTER_BOOT",de=(0,b.tP)(((e,t)=>({initializeCommandLauncher:(0,b.JF)(t)("initializeCommandLauncher",(e=>(0,u.z)((0,X.q)(1),(0,f.U)((function(){return e.WebAPIService.topmostWindow.channelPluginSettings?[[H.BOOT,e.WebAPIService.topmostWindow.channelPluginSettings]]:[]})),(0,f.U)((t=>{var n;return[...t,...(null===(n=e.WebAPIService.topmostWindow.ChannelIO)||void 0===n?void 0:n.q)??[]].filter(ae).sort(((e,t)=>{const n=(0,ie.q9)(V,e[0]),r=(0,ie.q9)(V,t[0]);return n&&!r?-1:r&&!n?1:0}))})),(0,m.b)((()=>{e.WebAPIService.topmostWindow.ChannelIO=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const s=[e,...r];ae(s)&&t().commandSubject.next(s)}})),(0,Q.w)((e=>(0,Y.T)((0,C.D)(e),t().command$).pipe((0,m.b)((e=>{const t=e[0];le[t]&&(0,G.wN)(le[t])}))))),(0,ee.v)((e=>e[0]===H.SHUTDOWN?ce:"OTHERS")),(0,p.z)((n=>n.key===ce?n.pipe((0,m.b)((()=>{t().shutdownSubject.next()})),(0,Q.w)((()=>t().effects.methods[H.SHUTDOWN]()(e)))):(0,Y.T)((0,d.of)({}),t().shutdown$).pipe((0,Q.w)((()=>n.pipe((0,m.b)((e=>{e[0]===H.BOOT&&t().bootStartSubject.next()})),(0,ee.v)((e=>{const n=e[0],r=v.Z.socketSelectors.getSocketStatus(t()),o=v.Z.pluginSelectors.isBooted(t());return n===H.TRACK&&r!==oe.Q_.READY?ue:o||!(0,ie.q9)(W,n)||(0,ie.q9)([H.BOOT,H.CLEAR_CALLBACKS],n)?"DIRECT":he})),(0,p.z)((e=>e.key===ue?e.pipe((0,te.f)(t().socketReady$),(0,p.z)((e=>(0,C.D)(e)))):e.key===he?e.pipe((0,te.f)(t().bootComplete$),(0,p.z)((e=>(0,C.D)(e)))):e)),(0,ne.b)((n=>{const[r,...o]=n;return t().effects.methods[r](...o)(e).pipe((0,A.K)((()=>h.E)))}))))))))))),methods:{[H.SHOW]:()=>()=>(0,d.of)(!0).pipe(t().effects.setShowMessenger.pipe),[H.HIDE]:()=>()=>(0,d.of)(!1).pipe(t().effects.setShowMessenger.pipe),[H.LOUNGE]:()=>()=>(0,d.of)({}).pipe(t().effects.goLounge.pipe),[H.BOOT]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return r=>{let{ChSettings:o,client:s}=r;return(0,ie.PO)(e)?"YOUR_USER_ID"===(null==e?void 0:e.memberId)||"USER_MEMBER_ID"===(null==e?void 0:e.memberId)?((0,G.wN)(`ChannelIO('${H.BOOT}') failed: Invalid \`memberId\`.`),h.E):(0,ie.mf)(n)?e.pluginId||e.plugin_id||e.pluginKey?(0,d.of)(void 0).pipe(t().effects.shutdown.pipe,(0,m.b)((()=>{o.setSettings(e);const r=o.getLanguage(),i=o.getAppearanceOption();s.setLanguage(r),t().effects.setCallback(H.BOOT,n),t().effects.setAppearance(i)})),(0,Q.w)((()=>{const e=o.getPluginKey(),n=o.getBootOption();return(0,d.of)({pluginKey:e,option:n}).pipe(t().effects.requestBoot.pipe)}))):((0,G.wN)(`ChannelIO('${H.BOOT}') failed: \`pluginKey\` not found.`),h.E):((0,G.wN)(`ChannelIO('${H.BOOT}') failed: \`callback\` must be a function.`),h.E):((0,G.wN)(`ChannelIO('${H.BOOT}') failed: \`bootOption\` must be an object.`),h.E)}},[H.SHUTDOWN]:()=>()=>(0,d.of)(void 0).pipe(t().effects.shutdown.pipe),[H.SHOW_MESSENGER]:()=>()=>(0,d.of)(!0).pipe(t().effects.setShowMessenger.pipe),[H.HIDE_MESSENGER]:()=>()=>(0,d.of)(!1).pipe(t().effects.setShowMessenger.pipe),[H.OPEN_CHAT]:(e,n)=>()=>(0,ie.kK)(e)||(0,ie.hj)(e)||(0,ie.HD)(e)?(0,ie.kK)(n)||(0,ie.HD)(n)?(0,d.of)({userChatId:e,message:n}).pipe(t().effects.openChat.pipe):((0,G.wN)(`ChannelIO('${H.OPEN_CHAT}') failed: \`message\` must be a string.`),h.E):((0,G.wN)(`ChannelIO('${H.OPEN_CHAT}') failed: \`chatId\` must be a string or number.`),h.E),[H.OPEN_SUPPORT_BOT]:(e,n)=>()=>(0,ie.kK)(e)||""===e?((0,G.wN)(`ChannelIO('${H.OPEN_SUPPORT_BOT}') failed: \`supportBotId\` must be given`),h.E):(0,ie.hj)(e)||(0,ie.HD)(e)?(0,ie.kK)(n)||(0,ie.HD)(n)?(0,d.of)({workflowId:e}).pipe(t().effects.openWorkflow.pipe):((0,G.wN)(`ChannelIO('${H.OPEN_SUPPORT_BOT}') failed: \`message\` must be a string.`),h.E):((0,G.wN)(`ChannelIO('${H.OPEN_SUPPORT_BOT}') failed: \`supportBotId\` must be a string or number.`),h.E),[H.OPEN_WORKFLOW]:e=>()=>(0,ie.kK)(e)||""===e?((0,G.wN)(`ChannelIO('${H.OPEN_WORKFLOW}') failed: \`workflowId\` must be given`),h.E):(0,ie.hj)(e)||(0,ie.HD)(e)?(0,d.of)({workflowId:e}).pipe(t().effects.openWorkflow.pipe):((0,G.wN)(`ChannelIO('${H.OPEN_WORKFLOW}') failed: \`workflowId\` must be a string or number.`),h.E),[H.SET_PAGE]:(e,t)=>n=>{let{ChSettings:r}=n;return(0,ie.HD)(e)?t&&!(0,ie.PO)(t)?((0,G.wN)(`ChannelIO('${H.SET_PAGE}') failed: \`profile\` must be an object.`),h.E):(r.setCustomPage(e),t&&r.setUserChatProfile(t),h.E):((0,G.wN)(`ChannelIO('${H.SET_PAGE}') failed: \`page\` must be a string.`),h.E)},[H.RESET_PAGE]:()=>e=>{let{ChSettings:t}=e;return t.resetCustomPage(),t.resetUserChatProfile(),h.E},[H.TRACK]:(e,n)=>()=>(0,ie.HD)(e)?(0,ie.kK)(n)||(0,ie.PO)(n)?(0,d.of)({channelId:v.Z.channelSelectors.getChannel(t()).id,name:e,property:n}).pipe(t().effects.requestCreateEvent.pipe):((0,G.wN)(`ChannelIO('${H.TRACK}') failed: \`eventProperty\` must be an object.`),h.E):((0,G.wN)(`ChannelIO('${H.TRACK}') failed: \`eventName\` must be a string.`),h.E),[H.CLEAR_CALLBACKS]:()=>()=>(t().effects.resetCallbacks(),h.E),[H.UPDATE_USER]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return()=>(0,ie.PO)(e)?(0,ie.mf)(n)?(t().effects.setCallback(H.UPDATE_USER,n),(0,d.of)(e).pipe(t().effects.requestUpdateUser.pipe)):((0,G.wN)(`ChannelIO('${H.UPDATE_USER}') failed: \`callback\` must be a function.`),h.E):((0,G.wN)(`ChannelIO('${H.UPDATE_USER}') failed: \`userInfo\` must be an object.`),h.E)},[H.ADD_TAGS]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return()=>Array.isArray(e)?(0,ie.mf)(n)?(t().effects.setCallback(H.ADD_TAGS,n),(0,d.of)({tags:e}).pipe(t().effects.requestAddTags.pipe)):((0,G.wN)(`ChannelIO('${H.ADD_TAGS}') failed: \`callback\` must be a function.`),h.E):((0,G.wN)(`ChannelIO('${H.ADD_TAGS}') failed: \`tags\` must be an array.`),h.E)},[H.REMOVE_TAGS]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return()=>Array.isArray(e)?(0,ie.mf)(n)?(t().effects.setCallback(H.REMOVE_TAGS,n),(0,d.of)({tags:e}).pipe(t().effects.requestRemoveTags.pipe)):((0,G.wN)(`ChannelIO('${H.REMOVE_TAGS}') failed: \`callback\` must be a function.`),h.E):((0,G.wN)(`ChannelIO('${H.REMOVE_TAGS}') failed: \`tags\` must be an array.`),h.E)},[H.SHOW_CHANNEL_BUTTON]:()=>()=>(t().effects.setShowChannelButton(!0),h.E),[H.HIDE_CHANNEL_BUTTON]:()=>()=>(t().effects.setShowChannelButton(!1),h.E),[H.SET_APPEARANCE]:e=>()=>(0,se.$)(e)?(t().effects.setAppearance(e),h.E):((0,G.wN)(`ChannelIO('${H.SET_APPEARANCE}') failed: Invalid appearance.`),h.E),[H.SET_TUTORIAL_MODE]:e=>()=>(0,ie.jn)(e)?(t().effects.setTutorialMode(e),h.E):h.E,[H.SEND_MESSAGE]:e=>()=>{if(!(0,ie.HD)(e))return h.E;const n=v.Z.userChatSelectors.getUserChat(t()),r=v.Z.userSelectors.getUserId(t()),o=re.Z.createLocalUserMessageObject(r,{plainText:e});return E([(0,d.of)({userChatId:n.id,message:o}).pipe(t().effects.createLocalMessage.pipe),(0,d.of)({userChatId:n.id,message:o,handling:n.handling}).pipe(t().effects.requestCreateMessage.pipe)])},[H.HIDE_POPUP]:()=>()=>(t().effects.setPopupActive({active:!1}),h.E),...V.reduce(((e,n)=>(e[n]=e=>()=>(0,ie.mf)(e)?(t().effects.addCallback(n,e),h.E):((0,G.wN)(`ChannelIO('${n}') failed: \`callback\` must be a function.`),h.E),e)),{})}})));var pe=n(39616),me=n(38794),ge=n(65047);const fe={channelOperations:new Map},ve=(0,b.tP)(((e,t)=>({setChannelOperation:t=>{let{channelOperation:n}=t;n&&e((e=>{e.channelOperations.set(n.id,new ge.Z(n))}))},deleteChannelOperation:t=>{let{channelOperation:n}=t;n&&e((e=>{e.channelOperations.delete(n.id)}))},setChannelOperations:t=>{let{channelOperations:n}=t;e((e=>{n.forEach((t=>{e.channelOperations.set(t.id,new ge.Z(t))}))}))},clearChannelOperations:()=>{e((e=>{e.channelOperations.clear()}))},requestGetChannelOperations:(0,b.JF)(t)("requestGetChannelOperations",(()=>(0,u.z)((0,p.z)((n=>(0,pe.P)((()=>function(e){let{channelId:t}=e;return Z.Z.get(`/front/v8/channels/${t}/operations`).withToken()}(n).run())).pipe((0,me.X)({count:5,delay:1e3}),(0,m.b)((n=>{t().effects.clearChannelOperations(),t().effects.setChannelOperations(n),e({shouldGetChannelOperations:!1})})))))))),resetChannelOperationState:()=>{e(fe)}})));class be{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"e164",""),(0,M.Z)(this,"international",""),(0,M.Z)(this,"countryCode",null),(0,M.Z)(this,"national",""),(0,M.Z)(this,"type",""),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.e164}isEmpty(){return!this.e164}}const _e={defaultBotProfile:new z.Z,phoneNumber:new be},ye=(0,b.tP)(((e,t)=>({requestGetPhoneNumber:(0,b.JF)(t)("requestGetPhoneNumber",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{number:t}=e;return Z.Z.get(`/phone-number/${t}`)}(e).run()).pipe((0,m.b)({next:t=>{var n,r,o,s;const i=new be(t);null===(n=e.observer)||void 0===n||null===(r=n.next)||void 0===r||r.call(n,i),null===(o=e.observer)||void 0===o||null===(s=o.complete)||void 0===s||s.call(o)},error:t=>{var n,r;null==e||null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t)}}))))))),requestGetChannelPhoneNumber:(0,b.JF)(t)("requestGetChannelPhoneNumber",(()=>(0,u.z)(t().effects.requestGetPhoneNumber.pipe,(0,m.b)((t=>{const n=new be(t);e((e=>{e.phoneNumber=n}))}))))),setDefaultBotProfile:t=>{let{bot:n}=t;e((e=>{e.defaultBotProfile=new z.Z(n)}))},clearChannelPhoneNumber:()=>{e((e=>{e.phoneNumber=new be}))},resetChannelProfileState:()=>{e(_e)}})));var Ce=n(20512);const we={channel:new Ce.Z,minimumChannelInfo:{avatarUrl:"",name:"",systemDomain:""}},Ee=(0,b.tP)(((e,t)=>({requestGetChannelByPluginKey:(0,b.JF)(t)("requestGetChannelByPluginKey",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{pluginKey:t}=e;return Z.Z.get(`/front/v8/channels/plugin/${t}`)}(e).run()))),(0,m.b)((t=>{e((e=>{e.minimumChannelInfo=t}))}))))),setChannel:t=>{let{channel:n}=t;e((e=>{e.channel=new Ce.Z(n)}))},resetChannelState:()=>{e(we)}}))),Se=(0,b.tP)(((e,t)=>({setChatroomInputValue:t=>{e((e=>{e.inputValue=t}))},setBlockReplying:t=>{e((e=>{e.isBlockReplying=t}))},requestGetFooterCategories:(0,b.JF)(t)("requestGetFooterCategories",(()=>(0,u.z)((0,p.z)((t=>{let{observer:n}=t;return(0,C.D)(Z.Z.get("/front/v8/user-chats/footer-categories/all").withToken().run()).pipe((0,m.b)((t=>{var r;e((e=>{e.footerCategoryMap=t.footerCategories,e.shouldGetFooterCategories=!1})),null==n||null===(r=n.next)||void 0===r||r.call(n)})),(0,A.K)((e=>{var t;return null==n||null===(t=n.error)||void 0===t||t.call(n,e),(0,T._)((()=>e))})),(0,w.x)((()=>{var e;return null==n||null===(e=n.complete)||void 0===e?void 0:e.call(n)})))}))))),setIsEmojiSelectorVisible:t=>{e((e=>{e.isEmojiSelectorVisible=t}))},toggleIsEmojiSelectorVisible:()=>{e((e=>{e.isEmojiSelectorVisible=!e.isEmojiSelectorVisible}))}}))),Ze=(0,b.tP)(((e,t)=>({disableChxBanner:()=>e({chxBannerDisabled:!0}),requestViewChannelXBanner:(0,b.JF)(t)("requestViewChannelXBanner",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{channelId:t,chatId:n}=e;return Z.Z.put("/v1/analytics/user-chat-banner/view",{channelId:t,chatId:n},{baseUrl:R.oj}).withToken()}(e).run())))))),requestClickChannelXBanner:(0,b.JF)(t)("requestClickChannelXBanner",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{channelId:t,chatId:n}=e;return Z.Z.put("/v1/analytics/user-chat-banner/click",{channelId:t,chatId:n},{baseUrl:R.oj}).withToken()}(e).run()))))))}))),Ie=(0,b.tP)(((e,t)=>({requestSendExperimentEvent:(0,b.JF)(t)("requestSendExperimentEvent",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){return Z.Z.put("/v1/analytics/experiments",e,{baseUrl:R.oj}).withToken()}(e).run()))))))}))),ke={documentWebsiteResources:[]},xe=(0,b.tP)(((e,t)=>({requestGetDocumentWebsiteResources:(0,b.JF)(t)("requestGetDocumentWebsiteResources",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{channelId:t}=e;return Z.Z.get(`/front/v1/channels/${t}/website-resources`,{baseUrl:R.Tx}).withToken()}(e).run()))),(0,m.b)((t=>{let{websiteUrls:n}=t;e({documentWebsiteResources:n.map((e=>new RegExp(e))),shouldGetDocumentWebsiteResources:!1})}))))),resetDocumentState:()=>{e(ke)}})));var Te=n(52203);const Ae={isEmojiLoading:!1,hasError:!1},Me=(0,b.tP)(((e,t)=>({requestGetEmojiInfo:(0,b.JF)(t)("requestGetEmojiInfo",(t=>{let{EmojiService:n}=t;return(0,u.z)((0,m.b)((()=>{e((e=>{e.isEmojiLoading=!0,e.hasError=!1}))})),(0,p.z)((()=>(0,pe.P)((()=>fetch(`${R.NF}/asset/emoji/emojis.min.json`,{method:"GET",headers:{"Content-Type":"text/plain"},referrerPolicy:"no-referrer"}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e})).then((e=>e.text())).then((e=>JSON.parse(e))))).pipe((0,Te.V)(5e3),(0,me.X)(1),(0,m.b)((t=>{n.setEmojis(t),e((e=>{e.isEmojiLoading=!1}))})),(0,A.K)((t=>(e((e=>{e.isEmojiLoading=!1,e.hasError=!0})),(0,T._)((()=>t)))))))))})),resetEmojiState:()=>{e(Ae)}})));var Pe=n(51328);const Re={hasConstraintError:!1,hasInvalidAccessError:!1,hasNetworkError:!1,hasSessionJWTInvalidError:!1,hasUnavailableServiceError:!1,hasUnclassifiedError:!1},Ne=(0,b.tP)((e=>({setHasError:t=>{e(t)},resetErrorState:()=>{e(Re)},handleBootError:t=>{e((e=>{t.status!==Pe.GL.NetworkError?t.status!==Pe.GL.Unauthenticated||t.type!==Pe.hi.SessionJWTInvalidError?t.status!==Pe.GL.Forbidden||t.type!==Pe.hi.ConstraintChannelError&&t.type!==Pe.hi.ConstraintClientError?t.status!==Pe.GL.NotFound?t.status>=500&&t.status<600?e.hasUnavailableServiceError=!0:e.hasUnclassifiedError=!0:e.hasInvalidAccessError=!0:e.hasConstraintError=!0:e.hasSessionJWTInvalidError=!0:e.hasNetworkError=!0}))},handleUserChatError:t=>{e((e=>{if(t.status!==Pe.GL.NetworkError)return t.status===Pe.GL.Forbidden?t.type===Pe.hi.ConstraintClientError?void(e.hasConstraintError=!0):void(e.hasInvalidAccessError=!0):t.status===Pe.GL.NotFound?"errors"in t&&"user"===t.errors[0].model?void(e.hasConstraintError=!0):void(e.hasInvalidAccessError=!0):void(t.status>=500&&t.status<600?e.hasUnavailableServiceError=!0:e.hasUnclassifiedError=!0);e.hasNetworkError=!0}))},handleGeneralError:t=>{e((e=>{t.status!==Pe.GL.NetworkError?t.status===Pe.GL.Forbidden&&t.type===Pe.hi.ConstraintClientError||t.status===Pe.GL.NotFound&&"errors"in t&&"user"===t.errors[0].model?e.hasConstraintError=!0:t.status>=500&&t.status<600?e.hasUnavailableServiceError=!0:e.hasUnclassifiedError=!0:e.hasNetworkError=!0}))}})));var Oe=n(35696);const Le=(0,b.tP)(((e,t)=>({requestEmitExperimentEvent:(0,b.JF)(t)("requestEmitExperimentEvent",(()=>(0,u.z)((0,p.z)((e=>{const n=v.Z.userSelectors.getUserId(t()),r=v.Z.channelSelectors.getChannelId(t());return(0,C.D)(function(e){let{experimentName:t,eventName:n,variant:r,userId:o,channelId:s,metadata:a}=e;const{userAgent:l}=navigator,c=new Oe.Z(i.Z.topmostWindow.location.href);return Z.Z.post(`/experiments/${t}/events`,{name:n,variant:r,userId:o,channelId:s,userAgent:l,url:c.decodeValidateURI(),metadata:JSON.stringify(a)},{baseUrl:R.l$}).withToken()}({...e,userId:n,channelId:r}).run())})))))})));var Ue=n(49441);const De=(0,b.tP)(((e,t)=>({requestGetFileIconInfo:(0,b.JF)(t)("requestGetFileIconInfo",(()=>(0,u.z)((0,Ue.z)((()=>(0,C.D)(fetch(`${R.NF}/asset/file-icon/extensions.json`,{method:"GET",headers:{"Content-Type":"text/plain"},referrerPolicy:"no-referrer"}).then((e=>e.text())).then((e=>JSON.parse(e)))).pipe((0,m.b)((t=>{const n={};t.forEach((e=>{const{key:t,extensions:r}=e;r.forEach((e=>{n[e]=t}))})),e((e=>{e.fileIconInfo=n}))}))))))))})));var ze=n(48982),Be=n(60146),Fe=n(33168),$e=n(6989),He=n(46850),We=n(11257),je=n(86582),Ge=n(23414);const qe={fileChunks:[]},Ve=new Be.x,Je=Ve.asObservable(),Ke=(0,b.tP)(((e,t)=>({setFileChunkState:(t,n)=>{e((e=>{const r=e.fileChunks.find((e=>e.id===t));r&&(r.state=n)}))},removeFileChunk:t=>{e((e=>{e.fileChunks=e.fileChunks.filter((e=>e.id!==t))}))},cancelUploadFileChunk:e=>{t().effects.removeFileChunk(e),Ve.next(e)},requestUploadFileChunk:(0,b.JF)(t)("requestUploadFileChunk",(n=>{let{TranslateService:r}=n;return(0,u.z)((0,f.U)((e=>{let{fileChunk:n}=e;return{fileChunk:n,channelId:v.Z.channelSelectors.getChannelId(t())}})),(0,m.b)((t=>{let{fileChunk:n}=t;e((e=>{const t=e.fileChunks.find((e=>e.id===n.id));t?t.state=He.Z.Pending:e.fileChunks.push(n)}))})),(0,ne.b)((n=>{let{fileChunk:o,channelId:s}=n;if(!t().fileChunks.includes(o))return h.E;const{userChatId:i}=o;return t().effects.setFileChunkState(o.id,He.Z.Uploading),(0,C.D)(o.files).pipe((0,ne.b)((t=>(0,C.D)((e=>{let{channelId:t,file:n,userChatId:r}=e;const o=(0,Ge.He)(n.name);return(0,We.h)({method:"POST",crossDomain:!0,url:`${R.PX}/pri-file/${t}/user-chats/${r}/message/${o}`,body:n,includeUploadProgress:!0,headers:{"Content-Type":n.type&&"application/json"!==n.type?n.type:"application/octet-stream",Accept:"application/json","x-session":je.ZP.getToken()}})})({file:t,userChatId:i,channelId:s})).pipe((0,p.z)((n=>"upload_loadstart"===n.type||"upload_progress"===n.type||"upload_load"===n.type?(e((e=>{const r=e.fileChunks.find((e=>e.id===o.id));r&&r.uploadedSize.set(t,n.loaded)})),h.E):"download_load"===n.type?(0,d.of)(n):h.E))))),(0,f.U)((e=>e.response)),(0,Fe.q)(),(0,A.K)((e=>(t().effects.setFileChunkState(o.id,He.Z.Error),t().effects.showToast({message:r.getTranslation(v.Z.userSelectors.getSystemLanguage(t()),"ch.toast.file_upload.failure.error"),icon:ze.E}),(0,T._)((()=>e))))),(0,$e.R)((0,Y.T)(Je.pipe((0,g.h)((e=>e===o.id))),t().exitUserChat$)),(0,f.U)((e=>{const n=v.Z.userSelectors.getUserId(t()),{handling:r}=v.Z.userChatSelectors.getUserChat(t(),i);return{userChatId:i,message:re.Z.createLocalUserMessageObject(n,{files:e}),handling:r}})),(0,m.b)((e=>{t().effects.requestCreateMessage.run(e),t().effects.removeFileChunk(o.id)})))})))})),resetFileUploadState:()=>{e(qe)}})));var Ye=n(6335);const Xe={followUpSchemaList:[]},Qe=(0,b.tP)(((e,t)=>({requestGetFollowupSchemas:(0,b.JF)(t)("requestGetFollowupSchemas",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{channelId:t}=e;return Z.Z.get(`/front/v8/channels/${t}/follow-up-schemas`).withToken()}(e).run()))),(0,m.b)((t=>e((e=>{e.followUpSchemaList=(t.profileSchemas??[]).map((e=>new Ye.Z(e)))}))))))),resetFollowUpState:()=>{e(Xe)}}))),et=(0,b.tP)(((e,t)=>({requestPostFormSubmit:(0,b.JF)(t)("requestPostFormSubmit",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{chatId:t,messageId:n,form:r}=e;return Z.Z.post(`/front/v8/user-chats/${t}/messages/${n}/form`,{...r}).withToken()}(e).run()).pipe((0,m.b)((t=>{var n,r,o,s;null===(n=e.observer)||void 0===n||null===(r=n.next)||void 0===r||r.call(n,t),null===(o=e.observer)||void 0===o||null===(s=o.complete)||void 0===s||s.call(o)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))}))))),(0,m.b)((t=>{e((e=>{const n=new re.Z(t.message);n.$receivedFromSocket=!0,e.messages.upsert(n)}))})))))})));var tt=n(47966);function nt(e,t){return(0,m.b)((n=>{t(n)||((e,t,n)=>{const r={state:{state:{type:"Store",value:{payload:t,predicate:n.toString()}}}};(0,G.vU)("Validation Error",r),tt.Z.captureEvent({message:`Validation Error on action ${e}`,tags:{"error.source":"store_effect"},contexts:r})})(e,n,t)}))}var rt=n(11599);const ot=(0,b.tP)(((e,t)=>({requestGetHome:(0,b.JF)(t)("requestGetHome",(()=>(0,u.z)(nt("requestGetHome",(e=>!(0,ie.xb)(e.channelId))),(0,p.z)((e=>(0,C.D)(function(e){let{channelId:t}=e;return Z.Z.get(`/front/v8/channels/${t}/lounge`,{query:{page:rt.Z.page}}).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.handleGeneralError(e),(0,T._)((()=>e)))))))),(0,m.b)((n=>{t().effects.setLoungeMediaTypes(n),t().effects.setBotsOnHomeSuccess(n),t().effects.setDefaultBotProfile(n),t().effects.setChannel(n),t().effects.setAppMessengers(n),t().effects.setOperators({managers:n.operators}),t().effects.setWhiteLabelFeature(n),t().effects.setEnableChxUserChatBinding(n),t().effects.setAppWidgetInstallations(n),t().effects.setCommonWorkflow(n.workflow),t().effects.setAlfQuickPublish(n.alfQuickPublish),t().effects.setMediumLinks(n),e({shouldGetHome:!1})}))))),goLounge:(0,b.JF)(t)("goLounge",(e=>{let{HistoryService:n}=e;return(0,u.z)((0,m.b)((e=>{let{replace:t}=e;const r=n.getHistory();"/home"!==r.location.pathname&&(t?r.replace("/home"):r.push("/home"))})),(0,g.h)((()=>!v.Z.uiSelectors.showMessenger(t()))),(0,f.U)((()=>!0)),t().effects.setShowMessenger.pipe)}))}))),st=(0,b.tP)(((e,t)=>({requestGetAvailableLanguages:(0,b.JF)(t)("requestGetAvailableLanguages",(()=>(0,u.z)((0,m.b)((()=>{e((e=>{e.isI18nLoading=!0}))})),(0,p.z)((()=>(0,C.D)(Z.Z.get("/available/languages").withToken().run()).pipe((0,m.b)((t=>{e((e=>{e.availableLanguages=t}))})),(0,w.x)((()=>{e((e=>{e.isI18nLoading=!1}))})))))))),requestGetCountries:(0,b.JF)(t)("requestGetCountries",(()=>(0,u.z)((0,p.z)((()=>(0,C.D)(Z.Z.get("/available/countries").withToken().run()))),(0,m.b)((t=>{e((e=>{e.countries=t}))})))))})));var it=n(39858),at=n(21485),lt=n(23923),ct=n(14297),ut=n(56724);const ht={isIdle:!1},dt=5e3,pt=12e4,mt=18e5,gt=(0,it.H)(0,dt).pipe((0,f.U)((e=>e*dt))),ft=e=>(0,Y.T)((0,at.R)(e,"click"),(0,at.R)(e,"mousemove"),(0,at.R)(e,"keypress"),(0,at.R)(e,"scroll"),(0,at.R)(e,"touchmove"),(0,at.R)(e,"focus")),vt=(0,b.tP)(((e,t)=>({enterBackground:(0,b.JF)(t)("enterBackground",(()=>(0,u.z)((0,Q.w)((()=>t().socket$.pipe((0,m.b)((e=>e.disconnect()))))),(0,Q.w)((()=>h.E))))),enterForeground:(0,b.JF)(t)("enterForeground",(e=>{let{window:n,ChSettings:r,AuthStorageService:o}=e;return(0,u.z)((0,f.U)((()=>({pluginKey:r.getPluginKey()||n.pluginKey,sessionJWT:o.getToken()}))),(0,m.b)((e=>{t().effects.requestTouch.run(e)})))})),enterIdle:(0,b.JF)(t)("enterIdle",(()=>(0,u.z)((0,m.b)((()=>{e((e=>{e.isIdle=!0}))}))))),enterActive:(0,b.JF)(t)("enterActive",(()=>(0,u.z)((0,m.b)((()=>{e((e=>{e.isIdle=!1}))})),(0,Q.w)((()=>{const e=t(),n=v.Z.userChatSelectors.getCurrentUserChatId(e),r=v.Z.sessionSelectors.getSessionUnread(e,n),o=v.Z.messageSelectors.getLastMessage(e),s=v.Z.uiSelectors.isMessengerVisible(e);return o&&n&&0!==r&&s?(0,d.of)({userChatId:n}).pipe((0,m.b)((e=>{t().effects.requestReadUserChat.run(e)}))):h.E}))))),initializeIdleDetector:(0,b.JF)(t)("initializeIdleDetector",(e=>{let{WebAPIService:n,isApp:r}=e;return(0,u.z)((0,Q.w)((()=>{const{topmostWindow:e,currentWindow:o}=n;return(0,Y.T)((0,d.of)({}),(0,lt.s)((()=>r()),(0,Y.T)(ft(e),ft(o)),(0,Y.T)(ft(o)))).pipe((0,ct.p)(dt),(0,Q.w)((()=>gt)),(0,ut.R)(((e,t)=>({prev:e.cur,cur:t})),{prev:0,cur:0}),(0,Q.w)((e=>{let{prev:n,cur:r}=e;return(0,Y.T)((0,d.of)(void 0).pipe((0,g.h)((()=>n<pt&&r>=pt)),t().effects.enterIdle.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>n>=pt&&0===r)),t().effects.enterActive.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>n<mt&&r>=mt)),t().effects.enterBackground.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>n>=mt&&0===r)),t().effects.enterForeground.pipe))})))})))})),resetIdleDetectorState:()=>{e(ht)}})));var bt=n(86385);const _t=class{constructor(){(0,M.Z)(this,r.sc,!0),(0,M.Z)(this,"models",new Map),(0,M.Z)(this,"keyResolver",(e=>e.getKey()))}set(e){const t=this.keyResolver(e);this.models.set(t,e)}get(e){return this.models.get(e)}has(e){return"string"==typeof e?this.models.has(e):this.models.has(this.keyResolver(e))}delete(e){this.models.delete(e)}clear(){this.models.clear()}values(){return Array.from(this.models.values())}keys(){return Array.from(this.models.keys())}get size(){return this.models.size}upsert(e){const t=this.keyResolver(e),n=this.get(t);n&&n.version>e.version||this.set(e)}setModels(e){return this.models=new Map(e.map((e=>[this.keyResolver(e),e]))),this}setKeyResolver(e){return this.keyResolver=e,this}};var yt=n(35354);function Ct(e){let{userChatId:t,query:n}=e;return Z.Z.get(`/front/v8/user-chats/${t}/messages`,{query:{limit:20,...n}}).withToken()}const wt={languageConversionMessageId:"",messageDeltas:new Map,messages:new _t,threadMessageMap:new Map,nextMessageId:""};var Et=n(71381),St=n(17787);const Zt=(0,St.sprintf)("%c",2),It=(0,St.sprintf)("%c",3),kt=(0,St.sprintf)("%c",6),xt=(new RegExp(`${kt}`,"g"),/[&<>]/g),Tt=(new RegExp(`${Zt}(\\d+?)${It}`,"g"),{"&":"&amp;","<":"&lt;",">":"&gt;"}),At=e=>e.replace(xt,(e=>Tt[e]||e));function Mt(e){return e.plainText?{...e,blocks:[{type:Et.Z.TEXT,value:At(e.plainText)}]}:e}const Pt=(0,b.tP)(((e,t)=>({setMessage:t=>{let{message:n}=t;n&&e((e=>{e.messages.upsert(new re.Z(n))}))},deleteMessage:t=>{let{key:n}=t;e((e=>{e.messages.delete(n)}))},setMessages:t=>{let{messages:n}=t;e((e=>{n.forEach((t=>{e.messages.upsert(new re.Z(t))}))}))},setThreadMessages:t=>{let{messages:n}=t;e((e=>{var t;const r=null===(t=n[0])||void 0===t?void 0:t.rootMessageId;if(!r)return;const o=e.threadMessageMap.get(r)??(new _t).setKeyResolver((e=>e.id));n.forEach((e=>{o.upsert(new re.Z(e))})),e.threadMessageMap.set(r,o)}))},clearMessages:()=>{e((e=>{e.messages.clear()}))},clearOtherMessages:t=>{e((e=>{e.messages.values().forEach((n=>{n.chatId!==t&&e.messages.delete(n.getKey())}))}))},setNextMessageId:t=>{let{next:n}=t;e((e=>{e.nextMessageId=n??""}))},upsertMessage:t=>{e((e=>{e.messages.upsert(new re.Z(t))}))},upsertThreadMessage:t=>{e((e=>{if(!t.rootMessageId)return;const n=e.threadMessageMap.get(t.rootMessageId)??(new _t).setKeyResolver((e=>e.id));n.upsert(new re.Z(t)),e.threadMessageMap.set(t.rootMessageId,n)}))},setLanguageConversionMessageId:t=>{let{messageId:n}=t;e((e=>{e.languageConversionMessageId=n}))},requestGetMessages:(0,b.JF)(t)("requestGetMessages",(()=>(0,u.z)(nt("requestGetMessages",(e=>!(0,ie.xb)(e.userChatId))),(0,p.z)((e=>(0,C.D)(Ct(e).run()).pipe((0,m.b)((n=>{t().effects.clearOtherMessages(e.userChatId),t().effects.setMessages(n),t().effects.setNextMessageId(n),t().effects.setManagers(n),t().effects.setBots(n)})),(0,A.K)((e=>(t().effects.handleUserChatError(e),(0,T._)((()=>e))))))))))),requestGetThreadMessages:(0,b.JF)(t)("requestGetThreadMessages",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{userChatId:t,messageId:n}=e;return Z.Z.get(`/front/v8/user-chats/${t}/messages/${n}/alf-thread/messages`).withToken()}(e).run()).pipe((0,m.b)((n=>{var r,o;t().effects.setThreadMessages(n),null===(r=e.observer)||void 0===r||null===(o=r.complete)||void 0===o||o.call(r)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))})))))))),requestGetMessagesOnReconnect:(0,b.JF)(t)("requestGetMessagesOnReconnect",(()=>(0,u.z)(nt("requestGetMessagesOnReconnect",(e=>!(0,ie.xb)(e.userChatId))),(0,p.z)((e=>(0,C.D)(Ct(e).run()))),(0,m.b)((t=>{e((e=>{const n=(e,t)=>e.id<t.id?1:-1,r=t.messages.sort(n)[0],o=e.messages.values().sort(n)[0];if(e.messages.keys().length>100||(null==r?void 0:r.id)!==(null==o?void 0:o.id)){const t=e.messages.values().filter((e=>!e.id||e.$sending||e.$failed));e.messages.setModels(t)}t.messages.forEach((t=>{e.messages.upsert(new re.Z(t))})),e.nextMessageId=t.next||""}))}))))),requestGetNextMessages:(0,b.JF)(t)("requestGetNextMessages",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(Ct(e).run()).pipe((0,m.b)((()=>{var t,n;null===(t=e.observer)||void 0===t||null===(n=t.complete)||void 0===n||n.call(t)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))}))))),(0,m.b)((e=>{t().effects.setMessages(e),t().effects.setNextMessageId(e),t().effects.setManagers(e),t().effects.setBots(e)}))))),requestCreateMessage:(0,b.JF)(t)("requestCreateMessage",(()=>(0,u.z)((0,m.b)((e=>{t().effects.setHideAlfNotice(e.userChatId)})),(0,p.z)((n=>(0,Y.T)((0,C.D)(function(e){let{userChatId:t,message:n,handling:r}=e;const{plainText:o,requestId:s,files:i}=n,a=rt.Z.page;return Z.Z.post(`/front/v8/user-chats/${t}/messages`,{plainText:o,requestId:s,files:i,page:a,handling:r??void 0}).withToken()}(n).run()).pipe((0,A.K)((t=>{const r=new re.Z(Mt({...n.message,$failed:!0,$sending:!1}));return e((e=>{e.messages.has(r)&&e.messages.set(new re.Z(r))})),(0,T._)((()=>t))})),(0,$e.R)(t().exitUserChat$)),(0,d.of)(n)))),(0,g.h)((e=>(e.message.chatId??"")===(v.Z.userChatSelectors.getCurrentUserChatId(t())??""))),(0,m.b)((e=>{t().effects.upsertMessage(e.message)}))))),requestDeleteMessage:(0,b.JF)(t)("requestDeleteMessage",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{userChatId:t,messageId:n}=e;return Z.Z.delete(`/front/v8/user-chats/${t}/messages/${n}`).withToken()}(e).run())))))),createLocalMessage:(0,b.JF)(t)("createLocalMessage",(()=>(0,u.z)((0,g.h)((e=>(e.userChatId??"")===(v.Z.userChatSelectors.getCurrentUserChatId(t())??""))),(0,m.b)((e=>{t().effects.upsertMessage(Mt(e.message))}))))),receivedMessage:(0,b.JF)(t)("receivedMessage",(()=>(0,u.z)((0,f.U)((e=>(0,r.ZP)(e,(e=>{e.message.$receivedFromSocket=!0})))),(0,g.h)((e=>(e.message.chatId??"")===(v.Z.userChatSelectors.getCurrentUserChatId(t())??""))),(0,m.b)((e=>{e.message.rootMessageId?t().effects.upsertThreadMessage(e.message):t().effects.upsertMessage(e.message)}))))),receivedCreateMessage:(0,b.JF)(t)("receivedCreateMessage",(()=>(0,u.z)((0,m.b)((e=>{t().effects.setBot(e)})),t().effects.receivedMessage.pipe))),receivedUpdateMessage:(0,b.JF)(t)("receivedUpdateMessage",(()=>(0,u.z)((0,m.b)((n=>{e((e=>{if(e.popupMessage.id===n.message.id){const t=new re.Z(n.message);e.popupMessage=t,e.active=!t.isDeletedMessage(),e.popupType=yt.k.PushMessage}})),t().effects.setLastMessage(n)})),t().effects.receivedMessage.pipe))),receivedDeltaMessage:(0,b.JF)(t)("receivedDeltaMessage",(()=>(0,u.z)((0,m.b)((n=>{let{id:r,delta:o}=n;const s=[...t().messageDeltas.get(r)??[],o];s.sort(((e,t)=>e.index-t.index)),e((e=>{e.messageDeltas.set(r,s)}))}))))),resetMessageState:()=>{e(wt)}})));var Rt=n(9845);const Nt=(0,b.tP)(((e,t)=>({initializeApp:(0,b.JF)(t)("initializeApp",(()=>(0,u.z)((0,m.b)((()=>{t().effects.initializeCommandLauncher.run(),t().effects.resetErrorState()}))))),initializeStandalone:(0,b.JF)(t)("initializeStandalone",(e=>{let{ChSettings:n}=e;return(0,u.z)((0,g.h)((e=>Boolean(e.pluginKey))),(0,m.b)((e=>n.setSettings({pluginKey:e.pluginKey}))),(0,p.z)((e=>{const{pluginKey:n,sessionJWT:r,utmParams:o}=e,s=(0,ie.xb)(o)?void 0:o,i={...s};return(0,lt.s)((()=>!!r),(0,d.of)({pluginKey:n,sessionJWT:r}).pipe((0,m.b)((()=>t().effects.resetErrorState())),t().effects.requestTouch.pipe),(0,d.of)({pluginKey:n,option:{profile:s,profileOnce:i}}).pipe((0,m.b)((()=>t().effects.resetErrorState())),t().effects.requestBoot.pipe)).pipe((0,A.K)((t=>{var n,r;return null===(n=(r=e.observer).error)||void 0===n||n.call(r,t),(0,T._)((()=>t))})),(0,m.b)((()=>{var t,n;null===(t=(n=e.observer).complete)||void 0===t||t.call(n)})))})))})),initializeHome:(0,b.JF)(t)("initializeHome",(n=>{let{EmojiService:r}=n;return(0,u.z)((0,p.z)((n=>{let{observer:o}=n;const s=v.Z.channelSelectors.getChannelId(t()),i=v.Z.initializeSelectors.shouldGetHome(t()),a=v.Z.initializeSelectors.shouldGetChannelOperations(t()),l=v.Z.initializeSelectors.shouldGetDocumentWebsiteResources(t()),c=v.Z.initializeSelectors.shouldGetFooterCategories(t());return E([E([(0,d.of)(void 0).pipe(t().effects.requestGetUnreadUserChatList.pipe),(0,d.of)({channelId:s}).pipe((0,g.h)((()=>i)),t().effects.requestGetHome.pipe,(0,m.b)((()=>{t().effects.goInitialUserChat.run({})})),(0,bt.d)(void 0)),(0,d.of)({channelId:s}).pipe((0,g.h)((()=>a)),t().effects.requestGetChannelOperations.pipe,(0,bt.d)(void 0)),(0,d.of)(void 0).pipe((0,g.h)((()=>r.isEmpty())),t().effects.requestGetEmojiInfo.pipe,(0,bt.d)(void 0))]).pipe((0,m.b)((()=>{var t;e({shouldInitializeHome:!1}),null==o||null===(t=o.complete)||void 0===t||t.call(o)})),(0,A.K)((e=>{var t;return null==o||null===(t=o.error)||void 0===t||t.call(o,e),(0,T._)((()=>e))}))),(0,d.of)({channelId:s}).pipe((0,g.h)((()=>l)),t().effects.requestGetDocumentWebsiteResources.pipe),(0,d.of)({}).pipe((0,g.h)((()=>c)),t().effects.requestGetFooterCategories.pipe)])})))})),initializeUserChat:(0,b.JF)(t)("initializeUserChat",(e=>{let{EmojiService:n}=e;return(0,u.z)((0,p.z)((e=>{const r=v.Z.channelSelectors.getChannelId(t()),o=v.Z.initializeSelectors.shouldGetChannelOperations(t()),s=v.Z.initializeSelectors.shouldGetHome(t()),i=v.Z.initializeSelectors.shouldGetDocumentWebsiteResources(t()),a=v.Z.initializeSelectors.shouldGetFooterCategories(t()),l=v.Z.i18nSelectors.getCountries(t());return E([E([(0,d.of)(e).pipe(t().effects.requestGetUserChat.pipe),(0,d.of)(e).pipe(t().effects.requestGetMessages.pipe),(0,d.of)({channelId:r}).pipe(t().effects.requestGetAppCommands.pipe),(0,d.of)({channelId:r}).pipe((0,g.h)((()=>o)),t().effects.requestGetChannelOperations.pipe,(0,bt.d)(void 0)),(0,d.of)({}).pipe((0,g.h)((()=>a)),t().effects.requestGetFooterCategories.pipe,(0,bt.d)(void 0))]).pipe((0,m.b)((()=>{var t,n;null===(t=e.observer)||void 0===t||null===(n=t.complete)||void 0===n||n.call(t)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))}))),(0,d.of)({channelId:r}).pipe((0,g.h)((()=>s)),t().effects.requestGetHome.pipe),(0,d.of)({channelId:r}).pipe((0,g.h)((()=>i)),t().effects.requestGetDocumentWebsiteResources.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>0===l.length)),t().effects.requestGetCountries.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>n.isEmpty())),t().effects.requestGetEmojiInfo.pipe)])})))})),initializeUserChatOnReconnect:(0,b.JF)(t)("initializeUserChatOnReconnect",(e=>{let{EmojiService:n}=e;return(0,u.z)((0,p.z)((()=>{const e=v.Z.userChatSelectors.getCurrentUserChatId(t()),r=v.Z.messageSelectors.getMessages(t()).length,o=v.Z.channelSelectors.getChannelId(t()),s=v.Z.i18nSelectors.getCountries(t());return E([E([(0,d.of)({userChatId:e}).pipe(t().effects.requestGetUserChat.pipe),(0,d.of)({userChatId:e,query:{limit:Math.min(r,100)}}).pipe(t().effects.requestGetMessagesOnReconnect.pipe)]).pipe((0,m.b)((()=>{t().effects.socketEmit(oe.om.JOIN,`/user-chats/${e}`)}))),(0,d.of)({channelId:o}).pipe(t().effects.requestGetAppCommands.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>0===s.length)),t().effects.requestGetCountries.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>n.isEmpty())),t().effects.requestGetEmojiInfo.pipe)])})))})),initializeNewUserChat:(0,b.JF)(t)("initializeNewUserChat",(e=>{let{isStandalone:n}=e;return(0,u.z)((0,p.z)((()=>{const e=v.Z.initializeSelectors.shouldGetHome(t()),r=v.Z.channelSelectors.getChannelId(t());return e||n()?(0,d.of)({channelId:r}).pipe(t().effects.requestGetHome.pipe):(0,d.of)(void 0)})),(0,p.z)((()=>{const e=v.Z.workflowSelectors.getSpecificWorkflow(t()),n=v.Z.workflowSelectors.getCommonWorkflow(t()),r=v.Z.alfSelectors.getIsAlfQuickPublish(t());return e.isEmpty()?r?(0,d.of)(void 0).pipe(t().effects.requestCreateQuickPublishUserChat.pipe,(0,m.b)((e=>{let{userChat:n}=e;t().effects.requestSendHtmlSnapshot.run({userChatId:n.id})}))):n.isEmpty()?(0,d.of)(void 0).pipe(t().effects.requestCreateUserChat.pipe):(0,d.of)({workflowId:n.id,revisionId:n.revisionId}).pipe(t().effects.requestCreateWorkflowUserChatWithRevision.pipe):(0,d.of)({workflowId:e.id,revisionId:e.revisionId}).pipe(t().effects.requestCreateWorkflowUserChatWithRevision.pipe)})),t().effects.handleUserChatCreated.pipe,t().effects.handleUserChatCreateEvent.pipe)})),initializeSetting:(0,b.JF)(t)("initializeSetting",(()=>(0,u.z)((0,p.z)((n=>{let{observer:r}=n;const o=v.Z.channelSelectors.getChannel(t()),s=v.Z.i18nSelectors.getCountries(t());return E([E([(0,d.of)({channelId:o.id}).pipe(t().effects.requestGetFollowupSchemas.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>0===s.length)),t().effects.requestGetCountries.pipe,(0,bt.d)(void 0))]).pipe((0,m.b)((()=>{var t;null==r||null===(t=r.complete)||void 0===t||t.call(r),e({shouldInitializeSetting:!1})})),(0,A.K)((e=>{var t;return null==r||null===(t=r.error)||void 0===t||t.call(r,e),(0,T._)((()=>e))})))])}))))),initializeUserChatList:(0,b.JF)(t)("initializeUserChatList",(()=>(0,u.z)((0,p.z)((n=>{const r=t(),o=v.Z.channelSelectors.getChannelId(r),s=v.Z.initializeSelectors.shouldGetHome(r),i=v.Z.initializeSelectors.shouldGetChannelOperations(r),a=v.Z.initializeSelectors.shouldGetDocumentWebsiteResources(r);return E([E([(0,d.of)({limit:Rt.M}).pipe(t().effects.requestGetUserChatList.pipe,(0,bt.d)(void 0)),(0,d.of)({channelId:o}).pipe((0,g.h)((()=>s)),t().effects.requestGetHome.pipe,(0,bt.d)(void 0)),(0,d.of)({channelId:o}).pipe((0,g.h)((()=>i)),t().effects.requestGetChannelOperations.pipe,(0,bt.d)(void 0))]).pipe((0,m.b)((()=>{var t,r;e({shouldInitializeUserChatList:!1}),null===(t=n.observer)||void 0===t||null===(r=t.complete)||void 0===r||r.call(t)})),(0,A.K)((e=>{var t,r;return null===(t=n.observer)||void 0===t||null===(r=t.error)||void 0===r||r.call(t,e),(0,T._)((()=>e))}))),(0,d.of)({channelId:o}).pipe((0,g.h)((()=>a)),t().effects.requestGetDocumentWebsiteResources.pipe,(0,bt.d)(void 0))])})))))})));var Ot=n(90509);class Lt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"id",""),(0,M.Z)(this,"mediaType",Ot.Z.IMAGE),(0,M.Z)(this,"username",""),(0,M.Z)(this,"caption",""),(0,M.Z)(this,"commentsCount",0),(0,M.Z)(this,"permalink",""),(0,M.Z)(this,"likeCount",0),(0,M.Z)(this,"mediaUrl",""),(0,M.Z)(this,"thumbnailUrl",""),(0,M.Z)(this,"children",void 0),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.id}}const Ut={loungeMediaTypes:[],appInstagramPosts:[]},Dt=(0,b.tP)(((e,t)=>({requestGetLoungeMedia:(0,b.JF)(t)("requestGetLoungeMedia",(()=>(0,u.z)((0,p.z)((t=>(0,C.D)(function(e){let{channelId:t,types:n}=e;return Z.Z.get(`/front/v8/channels/${t}/lounge-media`,{query:{types:n}}).withToken()}(t).run()).pipe((0,m.b)((n=>{var r,o;let{loungeMedia:s}=n;e((e=>{var t;e.appInstagramPosts=(null===(t=s[0])||void 0===t?void 0:t.data.map((e=>new Lt(e))))??[]})),null===(r=t.observer)||void 0===r||null===(o=r.complete)||void 0===o||o.call(r)})),(0,A.K)((e=>{var n,r;return null===(n=t.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,e),(0,T._)((()=>e))})))))))),setLoungeMediaTypes:t=>{let{loungeMediaTypes:n}=t;e((e=>{e.loungeMediaTypes=n}))},resetLoungeMediaState:()=>{e(Ut)}})));var zt=n(80298);const Bt={managers:{},operators:[]},Ft=(0,b.tP)(((e,t)=>({setOperators:t=>{let{managers:n}=t;e((e=>{e.operators=n.map((e=>new zt.Z(e)))}))},setManagers:t=>{let{managers:n}=t;e((e=>{n.forEach((t=>{e.managers[t.id]=new zt.Z(t)}))}))},setManager:t=>{let{manager:n}=t;n&&e((e=>{e.managers[n.id]=new zt.Z(n)}))},requestGetReactors:(0,b.JF)(t)("requestGetReactors",(()=>(0,u.z)((0,f.U)((e=>(0,r.ZP)(e,(e=>{const n=v.Z.managerSelectors.getManagerIds(t()),r=e.managerIds.filter((e=>!n.includes(e)));return e.managerIds=r,e})))),(0,g.h)((e=>e.managerIds.length>0)),(0,p.z)((e=>(0,C.D)(function(e){let{managerIds:t}=e;return Z.Z.get("/front/v8/managers",{query:{managerIds:t}}).withToken()}(e).run()))),(0,m.b)(t().effects.setManagers)))),requestGetOperators:(0,b.JF)(t)("requestGetOperators",(()=>(0,u.z)((0,p.z)((()=>(0,C.D)(Z.Z.get("/front/v8/managers/operators").withToken().run()))),(0,m.b)(t().effects.setOperators)))),resetManagerState:()=>{e(Bt)}})));var $t=n(99265);class Ht{constructor(e){(0,M.Z)(this,"id",""),(0,M.Z)(this,"mediumType",void 0),(0,M.Z)(this,"mediumId",void 0),(0,M.Z)(this,"channelId",""),(0,M.Z)(this,"name",""),(0,M.Z)(this,"nameI18nMap",{}),(0,M.Z)(this,"iconUrl",void 0),this.id=e.id,this.mediumType=(0,$t.A)(e.mediumType),this.mediumId=e.mediumId,this.channelId=e.channelId,this.name=e.name,this.nameI18nMap=e.nameI18nMap,this.iconUrl=e.iconUrl}getName(e){return this.nameI18nMap[e]||this.name}}const Wt=(0,b.tP)(((e,t)=>({requestConnectMediumLink:(0,b.JF)(t)("requestConnectMediumLink",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{channelId:t,mediumId:n}=e;return Z.Z.put(`/front/v1/channels/${t}/apps/${n}/medium-link`,{},{baseUrl:R.m$}).withToken()}(e).run()).pipe((0,m.b)((t=>{var n,r,o,s;null===(n=e.observer)||void 0===n||null===(r=n.next)||void 0===r||r.call(n,t),null===(o=e.observer)||void 0===o||null===(s=o.complete)||void 0===s||s.call(o)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))})))))))),setMediumLinks:t=>{let{mediumLinks:n}=t;n&&e((e=>{e.mediumLinks=n.map((e=>new Ht(e)))}))}}))),jt="NETWORK_DISCONNECTED",Gt="SUCCESS",qt="FAILED";var Vt=n(44873),Jt=n(98956);const Kt=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"id",""),(0,M.Z)(this,"chatId",""),(0,M.Z)(this,"mode",null),(0,M.Z)(this,"front",new Jt.Z),Object.keys(e).forEach((t=>{var n,r;(0,N.e$)(this,t)&&(this[t]=(n=t,r=e[t],"front"===n?new Jt.Z(r):r))}))}get isEmpty(){return!this.id}get isAudioMode(){return this.mode===Vt.Z.AUDIO}};var Yt;!function(e){e.NoOperator="noOperator",e.NotInOperation="notInOperation",e.RingTimeOver="ringTimeOver",e.UserLeft="userLeft"}(Yt||(Yt={}));const Xt={enableFrontMeet:!1,liveMeet:new Kt,meetRing:null},Qt="current-live-meet-object",en=(0,b.tP)(((e,t)=>({setLiveMeet:t=>{let{liveMeet:n}=t;e((e=>{e.liveMeet=new Kt(n)}))},updateLiveMeet:t=>{let{liveMeet:n}=t;e((e=>{e.liveMeet.id===n.id&&(e.liveMeet=new Kt(n))}))},resetLiveMeet:()=>{e((e=>{e.liveMeet=new Kt,e.meetRing=null}))},setMeetRing:t=>{let{meetRing:n}=t;e((e=>{e.meetRing=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"chatId",""),(0,M.Z)(this,"meetId",""),(0,M.Z)(this,"title",""),(0,M.Z)(this,"titleAvatarUrl",""),(0,M.Z)(this,"meetMode",void 0),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}}(n)}))},resetMeetRing:()=>{e((e=>{e.meetRing=null}))},setEnableFrontMeet:t=>{e((e=>{e.enableFrontMeet=t}))},requestGetLiveMeet:(0,b.JF)(t)("requestGetLiveMeet",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{meetId:t,userChatId:n}=e;return Z.Z.get(`/front/v8/user-chats/${n}/meets/${t}`).withToken()}(e).run()))),(0,m.b)((e=>{t().effects.setLiveMeet(e)}))))),requestRejectOutboundMeet:(0,b.JF)(t)("requestRejectOutboundMeet",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{meetId:t,userChatId:n}=e;return Z.Z.put(`/front/v8/user-chats/${n}/meets/${t}/reject`).withToken()}(e).run()))),(0,m.b)((()=>{t().effects.resetMeetRing()}))))),requestTerminateLiveMeet:(0,b.JF)(t)("requestTerminateLiveMeet",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{meetId:t,userChatId:n}=e;return Z.Z.delete(`/front/v8/user-chats/${n}/meets/${t}`).withToken()}(e).run()).pipe((0,m.b)((()=>{var n,r,o,s;t().effects.resetLiveMeet(),null===(n=e.observer)||void 0===n||null===(r=n.next)||void 0===r||r.call(n),null===(o=e.observer)||void 0===o||null===(s=o.complete)||void 0===s||s.call(o)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))})))))))),upsertLiveMeet:(0,b.JF)(t)("upsertLiveMeet",(e=>{let{ChSessionStorage:n}=e;return(0,u.z)((0,m.b)((e=>{let{liveMeet:r}=e;const o=v.Z.userSelectors.getUserId(t());n.setItem(Qt,{userId:o,userChatId:r.chatId,meetId:r.id})})),(0,m.b)((e=>{let{liveMeet:n}=e;t().effects.resetMeetRing(),t().effects.setLiveMeet({liveMeet:n})})))})),terminateLiveMeet:(0,b.JF)(t)("terminateLiveMeet",(e=>{let{ChSessionStorage:n,TranslateService:r}=e;return(0,u.z)((0,m.b)(t().effects.resetLiveMeet),(0,m.b)((()=>n.removeItem(Qt))),(0,f.U)((e=>{let{missedReason:t}=e;return t})),(0,f.U)((e=>function(e){switch(e){case Yt.NotInOperation:return"ch.meet.toast.not_in_operation";case Yt.NoOperator:case Yt.RingTimeOver:return"ch.meet.toast.no_operator";default:return null}}(e))),(0,g.h)(Boolean),(0,m.b)((e=>{t().effects.showToast({message:r.getTranslation(v.Z.userSelectors.getSystemLanguage(t()),e)})})))})),initializeLiveMeet:(0,b.JF)(t)("initializeLiveMeet",(e=>{let{ChSessionStorage:n,WebAPIService:r,TranslateService:o}=e;return(0,u.z)((0,Q.w)((()=>(0,Y.T)((0,d.of)(n.getItem(Qt)).pipe((0,g.h)((e=>!!e)),(0,g.h)((e=>{const n=v.Z.userSelectors.getUserId(t());return e.userId===n})),t().effects.requestGetLiveMeet.pipe,(0,A.K)((e=>(n.removeItem(Qt),(0,T._)((()=>e)))))),(0,at.R)(r.currentWindow,"message").pipe((0,g.h)((e=>e.origin===R.g5)),(0,p.z)((e=>{const{data:n}=e;switch(n.type){case jt:return(0,d.of)({message:o.getTranslation(v.Z.userSelectors.getSystemLanguage(t()),"ch.meet.toast.network_disconnected")}).pipe((0,m.b)((e=>{t().effects.showToast(e)})));case Gt:return t().effects.upsertLiveMeet.pipe((0,d.of)({liveMeet:n.payload.liveMeet}));case qt:return t().effects.terminateLiveMeet.pipe((0,d.of)({missedReason:n.payload.missedReason}));default:return h.E}})))))))})),receivedDeleteLiveMeet:(0,b.JF)(t)("receivedDeleteLiveMeet",(()=>(0,u.z)((0,g.h)((e=>e.liveMeet.chatId===v.Z.meetSelectors.getLiveMeetChatId(t()))),(0,f.U)((e=>({missedReason:e.liveMeet.front.missedReason,keepWindowOpen:!0}))),t().effects.terminateLiveMeet.pipe))),receivedCreateMeetRing:(0,b.JF)(t)("receivedCreateMeetRing",(()=>(0,u.z)((0,m.b)((e=>{t().effects.setMeetRing(e)})),t().effects.notifyOnMeetRing.pipe))),resetMeetState:()=>{e(Xt)}})));var tn=n(94122),nn=n(39684),rn=n(33275),on=n(59544),sn=n(12771);const an=(0,b.tP)(((e,t)=>({playSoundOnMessage:(0,b.JF)(t)("playSoundOnMessage",(e=>{let{ChLocalStorage:n,NotificationSoundService:r}=e;return(0,u.z)((0,g.h)((()=>!v.Z.idleDetectorSelectors.getIsIdle(t()))),(0,g.h)((()=>v.Z.uiSelectors.getNotificationSoundMode(t()))),(0,g.h)((()=>{const e=v.Z.channelSelectors.getChannel(t()).id;return v.Z.uiSelectors.getcurrentTabId(t())===n.getItem((0,sn.xn)(e))})),function(e){let t=null;return function(e){return new _.y((n=>e.subscribe({next(e){t?window.clearTimeout(t):n.next(e),t=window.setTimeout((()=>{t=null}),3e3)},error(e){t&&window.clearTimeout(t),n.error(e)},complete(){t&&window.clearTimeout(t),n.complete()}})))}}(),(0,m.b)((()=>{r.play(rn.k.Message)})))})),flipTabTitleOnMessage:(0,b.JF)(t)("flipTabTitleOnMessage",(e=>{let{ChLocalStorage:n,TranslateService:r,WebAPIService:o}=e;return(0,u.z)((0,p.z)((e=>{const r=v.Z.idleDetectorSelectors.getIsIdle(t()),o=v.Z.uiSelectors.getVisibilityState(t());return(0,lt.s)((()=>o===on.Z.VISIBLE),(0,d.of)(e).pipe((0,g.h)((()=>r))),(0,d.of)(e).pipe((0,g.h)((()=>{const e=v.Z.channelSelectors.getChannel(t()).id;return v.Z.uiSelectors.getcurrentTabId(t())===n.getItem((0,sn.xn)(e))}))))})),(0,f.U)((()=>{const{name:e}=v.Z.channelSelectors.getChannel(t()),n=v.Z.userSelectors.getSystemLanguage(t());return{notificationTitle:(0,St.sprintf)(r.getTranslation(n,"ch.notification.document_title"),e),originalTitle:o.topmostDocument.title}})),(0,Ue.z)((e=>{const{notificationTitle:n,originalTitle:r}=e,{topmostDocument:s}=o;return(0,tn.F)(2e3).pipe((0,nn.o)((()=>{const e=v.Z.idleDetectorSelectors.getIsIdle(t());return!o.hasFocus()||e})),(0,m.b)((()=>{s.title===r?s.title=n:s.title=r})),(0,w.x)((()=>{s.title=r})))})))})),notifyOnDeskMessage:(0,b.JF)(t)("notifyOnDeskMessage",(()=>(0,u.z)((0,g.h)((e=>!e.message.marketing)),(0,g.h)((e=>!e.message.meet)),(0,g.h)((e=>!v.Z.userChatSelectors.getUserChat(t(),e.message.chatId).handling)),(0,p.z)((e=>(0,Y.T)((0,d.of)(e).pipe(t().effects.playSoundOnMessage.pipe),(0,d.of)(e).pipe(t().effects.flipTabTitleOnMessage.pipe))))))),playSoundOnMeetRing:(0,b.JF)(t)("playSoundOnMeetRing",(e=>{let{ChLocalStorage:n,NotificationSoundService:r}=e;return(0,u.z)((0,g.h)((()=>!v.Z.idleDetectorSelectors.getIsIdle(t()))),(0,g.h)((()=>v.Z.uiSelectors.getNotificationSoundMode(t()))),(0,g.h)((()=>{const e=v.Z.channelSelectors.getChannel(t()).id;return v.Z.uiSelectors.getcurrentTabId(t())===n.getItem((0,sn.xn)(e))})),(0,m.b)((()=>{r.play(rn.k.Ring)})))})),flipTabTitleOnMeetRing:(0,b.JF)(t)("flipTabTitleOnMeetRing",(e=>{let{ChLocalStorage:n,TranslateService:r,WebAPIService:o}=e;return(0,u.z)((0,p.z)((e=>{const r=v.Z.idleDetectorSelectors.getIsIdle(t()),o=v.Z.uiSelectors.getVisibilityState(t());return(0,lt.s)((()=>o===on.Z.VISIBLE),(0,d.of)(e).pipe((0,g.h)((()=>r))),(0,d.of)(e).pipe((0,g.h)((()=>{const e=v.Z.channelSelectors.getChannel(t()).id;return v.Z.uiSelectors.getcurrentTabId(t())===n.getItem((0,sn.xn)(e))}))))})),(0,f.U)((e=>{const n=v.Z.userSelectors.getSystemLanguage(t());return{notificationTitle:(0,St.sprintf)(r.getTranslation(n,"ch.meet.message_preview.invited"),e.meetRing.title),originalTitle:o.topmostDocument.title}})),(0,Ue.z)((e=>{const{notificationTitle:n,originalTitle:r}=e,{topmostDocument:s}=o;return(0,tn.F)(2e3).pipe((0,nn.o)((()=>{const e=v.Z.idleDetectorSelectors.getIsIdle(t());return!o.hasFocus()||e})),(0,m.b)((()=>{s.title===r?s.title=n:s.title=r})),(0,w.x)((()=>{s.title=r})))})))})),notifyOnMeetRing:(0,b.JF)(t)("notifyOnMeetRing",(()=>(0,u.z)((0,p.z)((e=>(0,Y.T)((0,d.of)(e).pipe(t().effects.playSoundOnMeetRing.pipe),(0,d.of)(e).pipe(t().effects.flipTabTitleOnMeetRing.pipe)))))))})));var ln=n(10578),cn=n(35037),un=n(48384),hn=n(39156),dn=n(15964),pn=n(32106),mn=n(28961),gn=n(12022),fn=n(23295);class vn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"id",""),(0,M.Z)(this,"key",""),(0,M.Z)(this,"channelId",""),(0,M.Z)(this,"name",""),(0,M.Z)(this,"appearance",se.u.LIGHT),(0,M.Z)(this,"labelButton",!1),(0,M.Z)(this,"labelButtonText",""),(0,M.Z)(this,"labelButtonTextI18nMap",{}),(0,M.Z)(this,"deskMarginX",0),(0,M.Z)(this,"deskMarginY",0),(0,M.Z)(this,"deskHideButton",!1),(0,M.Z)(this,"mobileMarginX",0),(0,M.Z)(this,"mobileMarginY",0),(0,M.Z)(this,"mobileHideButton",!1),(0,M.Z)(this,"buttonType",fn.B.IconButton),(0,M.Z)(this,"iconButton","channel-filled"),(0,M.Z)(this,"customImage",null),(0,M.Z)(this,"customImageUrl",""),(0,M.Z)(this,"deskImage",null),(0,M.Z)(this,"deskImageUrl",""),(0,M.Z)(this,"mobileImage",null),(0,M.Z)(this,"mobileImageUrl",""),(0,M.Z)(this,"deskPosition","right"),(0,M.Z)(this,"mobilePosition","right"),(0,M.Z)(this,"mobileBubblePosition","bottom"),Object.keys(e).forEach((t=>{(0,ie.q9)(["deskImage","mobileImage"],t)?this[t]=new gn.Z(e[t]):(0,N.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.id}isEmpty(){return!this.id}getMargin(){return mn.Z.isMobile?{marginX:this.mobileMarginX,marginY:this.mobileMarginY}:{marginX:this.deskMarginX,marginY:this.deskMarginY}}get legacyImageUrl(){return mn.Z.isMobile?this.mobileImageUrl:this.deskImageUrl}getImage(){return mn.Z.isMobile?this.mobileImage:this.deskImage}getLabelButtonText(e){return this.labelButtonTextI18nMap[e]??this.labelButtonText}getPosition(){return mn.Z.isMobile?this.mobilePosition:this.deskPosition}}var bn=n(80577),_n=n(94109);function yn(e){let{pluginKey:t,channelId:n,bootOption:r}=e;return Z.Z.postBySimpleRequest(`/front/v8/elastic/plugins/${t}/boot`,r,{credentials:"include"}).onResult((e=>{const{sessionJWT:t,veilId:r,cookieDomain:o}=e.body,s=(0,_n.$W)()?window.location.hostname:o;je.ZP.setVeilId(r,s),je.ZP.setToken(t,n,s);const i=e.headers.get("date");i&&bn.Z.computeTimeDiff(i)}))}const Cn=new Be.x,wn=Cn.asObservable(),En=new Be.x,Sn=En.asObservable(),Zn=new Be.x,In=Zn.asObservable(),kn={isBooted:!1,plugin:new vn,bootStart$:wn,bootStartSubject:Cn,bootComplete$:Sn,bootCompleteSubject:En,shutdown$:In,shutdownSubject:Zn};let xn=null;const Tn=(0,b.tP)(((e,t)=>({getPluginInfo:(0,b.JF)(t)("getPluginInfo",(e=>{let{ChLocalStorage:t}=e;return(0,u.z)((0,p.z)((e=>{const n=`${un.Z.PLUGIN_INFO}.${e}`;return(0,d.of)(t.getItem(n)).pipe((0,p.z)((r=>r?(0,d.of)(r):(0,C.D)(function(e){return Z.Z.get(`/front/v8/elastic/plugins/${e}`).withToken()}(e).run()).pipe((0,m.b)((e=>{let{plugin:r}=e;t.setItem(n,{channelId:r.channelId})})),(0,f.U)((e=>{let{plugin:t}=e;return{channelId:t.channelId}}))))))})))})),requestBoot:(0,b.JF)(t)("requestBoot",(n=>{let{ChannelQueryParamService:r,AuthStorageService:o,WebAPIService:s,isApp:i,client:a,document:l,DraftCommandService:c,DraftMessageService:_,DraftFormService:y,ChSettings:w}=n;return(0,u.z)((0,ne.b)((e=>xn?(0,ln.D)([(0,C.D)(xn).pipe((0,A.K)((()=>h.E)))]).pipe((0,bt.d)(null),(0,f.U)((()=>e))):(0,d.of)(e))),(0,p.z)((n=>{let{pluginKey:s,option:i,observer:a}=n;return(0,d.of)(s).pipe(t().effects.getPluginInfo.pipe,(0,p.z)((n=>{let{channelId:l}=n;const c={...{url:r.getUrl(),...i},veilId:o.getVeilId()??void 0,sessionJWT:o.getToken(l)??void 0};return xn=yn({pluginKey:s,channelId:l,bootOption:c}).run(),(0,C.D)(xn).pipe((0,m.b)((n=>{var r;let{user:o,channel:s,plugin:i}=n;xn=null,t().effects.onBootSuccess({user:o}),t().effects.notifyBadgeUpdate.run({alert:o.alert,unread:o.unread}),t().effects.setChannel({channel:s}),t().effects.setUser({user:o}),t().effects.getMainChat.run(o.mainChatId),e((e=>{e.isBooted=!0,e.plugin=new vn(i)})),null==a||null===(r=a.complete)||void 0===r||r.call(a)})),(0,A.K)((e=>{var n;return xn=null,t().effects.onBootError(null==e?void 0:e.body),t().effects.handleBootError(e),null==a||null===(n=a.error)||void 0===n||n.call(a,e),(0,T._)((()=>e))})))})))})),(0,m.b)((e=>{let{user:t}=e;const n=s.chPluginElement;n&&i()&&n.style.setProperty("z-index",`${(0,dn.JP)()}`,"important"),(0,b.wG)(t,{_client:a,_document:l}),c.initialize(t.id),_.initialize(t.id),y.initialize(t.id)})),(0,m.b)((e=>{let{user:n}=e;n.popUpChatId&&t().effects.requestGetPopupUserChat.run({userChatId:n.popUpChatId}),t().effects.initializeCustomLauncherSelector.run(void 0),t().effects.initializeIdleDetector.run(void 0),t().effects.initializeLiveMeet.run(void 0),t().effects.initializeMessengerStyle.run(void 0),t().effects.initializeBodyCoverColor.run()})),(0,p.z)((e=>{let{routeInfo:n,namespace:r}=e;return(0,d.of)({socketAddress:`${n.url}${r}`}).pipe((0,m.b)((e=>{t().effects.tryConnectSocketWithSocketAddress.run(e)})),(0,Q.w)((()=>t().socketReady$.pipe((0,X.q)(1)))),(0,g.h)((()=>w.getTrackDefaultEvent())),(0,m.b)((()=>{t().effects.requestCreateEvent.run({channelId:v.Z.channelSelectors.getChannel(t()).id,name:cn.t.PageView}),t().bootCompleteSubject.next()})))})))})),requestTouch:(0,b.JF)(t)("requestTouch",(n=>{let{DraftMessageService:r,DraftFormService:o,client:s,document:i}=n;return(0,u.z)((0,p.z)((n=>{let{pluginKey:r,sessionJWT:o}=n;return(0,d.of)(r).pipe(t().effects.getPluginInfo.pipe,(0,p.z)((n=>{let{channelId:r}=n;return(0,C.D)(function(e){let{channelId:t,sessionJWT:n}=e;return Z.Z.postBySimpleRequest(`/front/v8/channels/${t}/touch`,{sessionJWT:n},{credentials:"include"}).onResult((e=>{const{sessionJWT:n}=e.body;je.ZP.setToken(n,t);const r=e.headers.get("date");r&&bn.Z.computeTimeDiff(r)}))}({channelId:r,sessionJWT:o}).run()).pipe((0,m.b)((n=>{let{user:r,channel:o}=n;t().effects.notifyBadgeUpdate.run({alert:r.alert,unread:r.unread}),t().effects.setChannel({channel:o}),t().effects.setUser({user:r}),t().effects.getMainChat.run(r.mainChatId),e((e=>{e.isBooted=!0}))})),(0,A.K)((e=>(t().effects.handleBootError(e),(0,T._)((()=>e))))))})))})),(0,m.b)((e=>{let{user:t}=e;(0,b.wG)(t,{_client:s,_document:i}),r.initialize(t.id),o.initialize(t.id)})),(0,m.b)((e=>{let{user:n}=e;n.popUpChatId&&t().effects.requestGetPopupUserChat.run({userChatId:n.popUpChatId}),t().effects.initializeIdleDetector.run(void 0)})),(0,p.z)((e=>{let{routeInfo:n,namespace:r}=e;return(0,d.of)({socketAddress:`${n.url}${r}`}).pipe((0,m.b)((e=>{t().effects.tryConnectSocketWithSocketAddress.run(e)})),(0,Q.w)((()=>t().socketReady$.pipe((0,X.q)(1)))))})))})),shutdown:(0,b.JF)(t)("shutdown",(e=>{let{HistoryService:n,AuthStorageService:r,UserAgentService:o,ViewportService:s,BodyScrollLockService:i,ChSettings:a,isApp:l}=e;return(0,u.z)((0,m.b)((()=>{t().effects.resetAppCommandState(),t().effects.resetAppMessengerState(),t().effects.resetBotState(),t().effects.resetChannelState(),t().effects.resetChannelOperationState(),t().effects.resetChannelProfileState(),t().effects.resetDocumentState(),t().effects.resetEmojiState(),t().effects.resetErrorState(),t().effects.resetFileUploadState(),t().effects.resetFollowUpState(),t().effects.resetIdleDetectorState(),t().effects.resetLoungeMediaState(),t().effects.resetManagerState(),t().effects.resetMeetState(),t().effects.resetMessageState(),t().effects.resetPluginState(),t().effects.resetPopupState(),t().effects.resetSessionState(),t().effects.resetSocketState(),t().effects.resetTeamState(),t().effects.resetToastState(),t().effects.resetTranslationState(),t().effects.resetUiState(),t().effects.resetUserState(),t().effects.resetUserChatState(),t().effects.resetWamModalState(),t().effects.resetWidgetInstallationState(),(0,pn.Mr)()})),(0,m.b)((()=>{n.getHistory().push("/home"),r.init(),l()&&((0,hn.zo)(),o.isMobile&&(s.restore(),i.enableBodyScrollForMobile())),a.clearSettings()})))})),resetPluginState:()=>{e(kn)}})));var An=n(74113),Mn=n(36355),Pn=n(6321),Rn=n(14906),Nn=n(80834),On=n(13892),Ln=n(92027);function Un(e,t){var n;return e.type===On.tn&&e.value?(null===(n=t[e.value])||void 0===n?void 0:n.c)??e.value:e.value??e.children.map((e=>Un(e,t))).join("")}const Dn=function e(t,n){const r=[];for(const o of t)if(o.type===Et.Z.TEXT){const e=(0,Ln.ZP)(o.value);r.push(Un(e,n))}else o.type===Et.Z.CODE?r.push(o.value):o.type===Et.Z.BULLETS&&r.push(...e(o.blocks,n).map((e=>` ${e}`)));return r};var zn=n(10101);const Bn={active:!1,alertLevel:Nn.Z.UNREAD,isBubbleInteracting:!1,popupMessage:new re.Z,popupType:yt.k.PushMessage,popupUserChat:new Pn.Z},Fn=(0,b.tP)(((e,t)=>({setPopup:t=>{const n=new re.Z(t.message),r=t.message.alertLevel;e((e=>{e.active=!n.isDeletedMessage(),e.popupMessage=n,e.popupUserChat=new Pn.Z(t.userChat),e.alertLevel=r,e.popupType=yt.k.PushMessage}))},setPopupActive:t=>{e((e=>{e.active=t.active}))},setHoverOrFocusBubble:t=>{e((e=>{e.isBubbleInteracting=t.isBubbleInteracting}))},showLabelButton:()=>{e((e=>{e.active=!0,e.popupType=yt.k.LabelButton}))},updatePopup:(0,b.JF)(t)("updatePopup",(()=>(0,u.z)((0,g.h)((e=>{var n;const r=e.message,o=e.message.alertLevel,s=v.Z.popupSelectors.getAlertLevel(t()),i=!!r.marketing&&(null===(n=r.marketing)||void 0===n?void 0:n.exposureType)===Rn.O.FullScreen,a=v.Z.popupSelectors.isFullscreen(t()),l=v.Z.popupSelectors.getBubbleInteracting(t()),c=v.Z.popupSelectors.showPopup(t()),u=v.Z.popupSelectors.showLabelBtn(t());return!(c&&!u&&o!==Nn.Z.ALERT&&(s===Nn.Z.ALERT||!i&&(a||l)))})),(0,m.b)((e=>{t().effects.setPopup(e)}))))),handlePopupDataReceived:(0,b.JF)(t)("handlePopupDataReceived",(e=>{let{EmojiService:n,TranslateService:r}=e;return(0,u.z)((0,f.U)((e=>new re.Z(e.message))),(0,p.z)((e=>{const o=v.Z.userSelectors.getLanguage(t()),s=v.Z.userSelectors.getSystemLanguage(t()),i=v.Z.messageSelectors.getMessageAuthor(t(),e.personType,e.personId);return(0,An.z)((0,lt.s)((()=>n.isEmpty()),(0,d.of)(void 0).pipe(t().effects.requestGetEmojiInfo.pipe),(0,d.of)(void 0)),(0,d.of)({message:e.blocks.length>0?Dn(e.blocks,n.emojiMap).join("\n"):null,chatId:e.chatId,avatarUrl:(null==i?void 0:i.avatarUrl)??"",name:(null==i?void 0:i.getName(o))??r.getTranslation(s,"ch.unknown"),timestamp:e.createdAt}).pipe((0,m.b)(t().effects.onPopupDataReceived)))})))})),receivedPushMessage:(0,b.JF)(t)("receivedPushMessage",(()=>(0,u.z)((0,m.b)((e=>{t().effects.setBot(e),t().effects.setManager(e)})),(0,p.z)((e=>(0,Y.T)((0,d.of)(e).pipe(t().effects.updatePopup.pipe),(0,d.of)(e).pipe(t().effects.handlePopupDataReceived.pipe))))))),requestClosePopup:(0,b.JF)(t)("requestClosePopup",(()=>(0,u.z)((0,p.z)((()=>(0,C.D)(zn.t2().run())))))),requestGetPopupUserChat:(0,b.JF)(t)("requestGetPopupUserChat",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(zn.Cy(e).run()))),(0,m.b)((e=>{t().effects.setBot(e),t().effects.setManagers(e),t().effects.setPopup(e)})),t().effects.handlePopupDataReceived.pipe))),initializePopup:(0,b.JF)(t)("initializePopup",(e=>{let{EmojiService:n}=e;return(0,u.z)((0,Q.w)((e=>(0,lt.s)((()=>e.showPopup&&n.isEmpty()),(0,d.of)(void 0).pipe(t().effects.requestGetEmojiInfo.pipe),(0,d.of)(void 0)).pipe((0,m.b)((()=>{var t,n;null===(t=e.observer)||void 0===t||null===(n=t.complete)||void 0===n||n.call(t)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))}))))))})),initializeLabelButton:(0,b.JF)(t)("initializeLabelButton",(e=>{let{UserAgentService:n,ChSessionStorage:r}=e;return(0,u.z)((0,p.z)((()=>{const e=v.Z.channelSelectors.getChannelId(t()),o=v.Z.channelSelectors.showOperatorProfile(t());return E([(0,d.of)({channelId:e}).pipe(t().effects.requestGetChannelOperations.pipe,(0,m.b)((()=>{r.setItem(un.Z.LABEL_BUTTON_VISIBILITY,!1)})),(0,m.b)((e=>{if(1!==e.channelOperations.length)return void t().effects.showLabelButton();const[n]=e.channelOperations;n.inOperation&&n.expectedResponseDelay!==Mn.D.DELAYED&&t().effects.showLabelButton()}))),(0,d.of)(void 0).pipe((0,g.h)((()=>!n.isMobile&&o)),t().effects.requestGetOperators.pipe)])})))})),resetPopupState:()=>{e(Bn)}}))),$n=(0,b.tP)(((e,t)=>({requestReadUserChat:(0,b.JF)(t)("requestReadUserChat",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{userChatId:t}=e;return Z.Z.put(`/front/v8/user-chats/${t}/messages/read`).withToken()}(e).run())))))),requestReadAllUserChat:(0,b.JF)(t)("requestReadAllUserChat",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(Z.Z.put("/front/v8/user-chats/read/all").withToken().run()).pipe((0,m.b)((()=>{var t,n,r,o;null===(t=e.observer)||void 0===t||null===(n=t.next)||void 0===n||n.call(t),null===(r=e.observer)||void 0===r||null===(o=r.complete)||void 0===o||o.call(r)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))}))))))))})));var Hn=n(68547);const Wn={sessions:new _t},jn=(0,b.tP)((e=>({setSessions:t=>{let{sessions:n}=t;e((e=>{n.forEach((t=>{e.sessions.upsert(new Hn.Z(t))}))}))},setSession:t=>{let{session:n}=t;n&&e((e=>{e.sessions.upsert(new Hn.Z(n))}))},deleteSession:t=>{let{session:n}=t;n&&e((e=>{e.sessions.delete(n.chatId)}))},resetSessionState:()=>{e(Wn)}})));var Gn,qn=n(64690),Vn=n(81535);!function(e){e.CHANNEL="channel",e.CHANNEL_OPERATION="channelOperation",e.LIVE_MEET="liveMeet",e.MEET_RING="meetRing",e.MEET_SETTING="meetSetting",e.MESSAGE="message",e.SESSION="chatSession",e.USER="user",e.USER_CHAT="userChat"}(Gn||(Gn={}));const Jn=Gn;var Kn=n(26633),Yn=n(40520);const Xn=new(n(20131).X)(null),Qn=Xn.pipe((0,g.h)((e=>!!e)),(0,X.q)(1)),er=new Be.x,tr=er.asObservable(),nr={socketStatus:oe.Q_.CLOSED,socketSubject:Xn,socket$:Qn,socketReadySubject:er,socketReady$:tr},rr=(0,b.tP)(((e,t)=>({socketEmit:(e,n)=>{v.Z.socketSelectors.getSocket$(t()).pipe((0,m.b)((t=>{t.emit(e,n)}))).subscribe().unsubscribe()},socketReconnected:(0,b.JF)(t)("socketReconnected",(n=>{let{HistoryService:r}=n;return(0,u.z)((0,m.b)((()=>{t().effects.resetErrorState(),e({shouldInitializeHome:!0,shouldGetHome:!0,shouldGetChannelOperations:!0,shouldGetDocumentWebsiteResources:!0,shouldGetFooterCategories:!0})})),(0,Q.w)((()=>{const e=r.history.location.pathname,n=v.Z.uiSelectors.showMessenger(t()),o=(0,Kn.vL)(e)&&n?(0,d.of)({}).pipe(t().effects.initializeHome.pipe):(0,Kn.Bx)(e)?(0,d.of)(void 0).pipe(t().effects.initializeUserChatOnReconnect.pipe):(0,Kn.d$)(e)?(0,d.of)({}).pipe(t().effects.initializeSetting.pipe):(0,Kn.Ym)(e)?(0,d.of)({}).pipe(t().effects.initializeUserChatList.pipe):h.E;return E([(0,d.of)(void 0).pipe(t().effects.requestGetUser.pipe,(0,m.b)((()=>{const e=v.Z.userSelectors.getUser(t());e.popUpChatId&&t().effects.requestGetPopupUserChat.run({userChatId:e.popUpChatId})}))),o])})))})),checkHeartbeat:(0,b.JF)(t)("checkHeartbeat",(()=>(0,u.z)((0,g.h)((()=>v.Z.socketSelectors.getSocketStatus(t())===oe.Q_.READY)),(0,g.h)((()=>!v.Z.idleDetectorSelectors.getIsIdle(t()))),(0,g.h)((()=>v.Z.uiSelectors.isMessengerVisible(t()))),(0,m.b)((()=>{t().effects.socketEmit(oe.om.HEARTBEAT)})),(0,Q.w)((()=>t().socket$)),(0,Q.w)((t=>(0,at.R)(t,oe.Ks.HEARTBEAT).pipe((0,X.q)(1),(0,Te.V)(5e3),(0,A.K)((t=>(e((e=>{e.socketStatus=oe.Q_.DISCONNECTED})),(0,T._)((()=>t))))))))))),requestConnectSocket:(0,b.JF)(t)("requestConnectSocket",(n=>{let{AuthStorageService:r,TimeService:o}=n;return(0,u.z)((0,f.U)((e=>{const n=v.Z.channelSelectors.getChannelId(t());return(0,Vn.ZP)(e.socketAddress,{transports:["websocket"],reconnection:!1,auth:{jwt:r.getToken(),channelId:n}})})),(0,Q.w)((n=>{const r=v.Z.socketSelectors.getSocketStatus(t()),s=(0,at.R)(n,oe.Ks.READY).pipe((0,m.b)((()=>{t().socketSubject.next(n),t().socketReadySubject.next(),e((e=>{e.socketStatus=oe.Q_.READY})),t().effects.socketEmit(oe.om.HEARTBEAT)})),(0,Q.w)((()=>(0,Y.T)((0,d.of)(void 0).pipe((0,g.h)((()=>r===oe.Q_.DISCONNECTED)),t().effects.socketReconnected.pipe),(0,tn.F)(3e4).pipe(t().effects.checkHeartbeat.pipe))))),i=(0,at.R)(n,oe.Ks.CONNECT_ERROR).pipe((0,m.b)((()=>{e((e=>{e.socketStatus=oe.Q_.DISCONNECTED}))})),(0,Q.w)((e=>(0,T._)((()=>e))))),a=(0,at.R)(n,oe.Ks.DISCONNECT).pipe((0,f.U)((e=>Array.isArray(e)?e[0]:e)),(0,m.b)((()=>{e((e=>{e.socketStatus=oe.Q_.DISCONNECTED}))}))),l=(0,at.R)(n,oe.Ks.CREATE).pipe((0,f.U)((e=>Array.isArray(e)?e[0]:e)),(0,p.z)((e=>{const{type:n,entity:r}=e;switch(n){case Jn.MESSAGE:{var o;const n=null==e||null===(o=e.refers)||void 0===o?void 0:o.bot;return(0,d.of)({message:r,bot:n}).pipe(t().effects.receivedCreateMessage.pipe)}case Jn.SESSION:{var s;const n=null==e||null===(s=e.refers)||void 0===s?void 0:s.manager,o=v.Z.userChatSelectors.getCurrentUserChatId(t()),i=v.Z.messageSelectors.getLastMessage(t()),a=v.Z.uiSelectors.isMessengerVisible(t()),l=v.Z.idleDetectorSelectors.getIsIdle(t()),c=(0,d.of)({userChatId:o}).pipe(t().effects.requestReadUserChat.pipe),u=(0,d.of)({manager:n,session:r}).pipe((0,m.b)((e=>{t().effects.receivedCreateSession(e)})));return i&&o===r.chatId&&a&&!l?(0,Y.T)(c,u):u}case Jn.MEET_RING:{const e=v.Z.meetSelectors.getRingMeetId(t());return r.meetId===e?h.E:(0,d.of)({meetRing:r}).pipe(t().effects.receivedCreateMeetRing.pipe)}case Jn.CHANNEL_OPERATION:return t().effects.setChannelOperation({channelOperation:r}),h.E;default:return h.E}}))),c=(0,at.R)(n,oe.Ks.UPDATE).pipe((0,f.U)((e=>Array.isArray(e)?e[0]:e)),(0,p.z)((e=>{const{type:n,entity:r}=e;switch(n){case Jn.USER_CHAT:{var o,s,i,a,l;const n=null===(o=e.refers)||void 0===o?void 0:o.message,c=null===(s=e.refers)||void 0===s?void 0:s.manager,u=null===(i=e.refers)||void 0===i?void 0:i.bot,d=null===(a=e.refers)||void 0===a?void 0:a.channelOperation,p=null===(l=e.refers)||void 0===l?void 0:l.team;return t().effects.receivedUpdateUserChat({userChat:r,message:n,manager:c,bot:u,channelOperation:d,team:p}),h.E}case Jn.MESSAGE:return t().effects.receivedUpdateMessage.run({message:r}),h.E;case Jn.CHANNEL:{const e=v.Z.channelSelectors.getChannel(t());return t().effects.setChannel({channel:r}),(0,ie.kK)(r.phoneNumber)?(t().effects.clearChannelPhoneNumber(),h.E):e.phoneNumber!==r.phoneNumber?(0,d.of)({number:r.phoneNumber}).pipe(t().effects.requestGetChannelPhoneNumber.pipe):h.E}case Jn.USER:{var c,u,p,g;const n=null===(c=e.refers)||void 0===c?void 0:c.message,o=null===(u=e.refers)||void 0===u?void 0:u.manager,s=null===(p=e.refers)||void 0===p?void 0:p.bot,i=null===(g=e.refers)||void 0===g?void 0:g.userChat;return(0,d.of)({user:r,message:n,manager:o,bot:s,userChat:i}).pipe(t().effects.receivedUpdateUser.pipe)}case Jn.SESSION:{const e=v.Z.userChatSelectors.getCurrentUserChatId(t()),n=v.Z.messageSelectors.getLastMessage(t()),o=v.Z.uiSelectors.isMessengerVisible(t()),s=v.Z.idleDetectorSelectors.getIsIdle(t());return n&&e===r.chatId&&r.unread&&o&&!s?(0,Y.T)((0,d.of)({userChatId:e}).pipe(t().effects.requestReadUserChat.pipe),(0,d.of)({session:{...r,unread:0,alert:0}}).pipe((0,m.b)((e=>{t().effects.setSession(e)})))):(0,d.of)({session:r}).pipe((0,m.b)((e=>{t().effects.setSession(e)})))}case Jn.LIVE_MEET:return t().effects.updateLiveMeet({liveMeet:r}),h.E;case Jn.MEET_SETTING:return t().effects.setEnableFrontMeet(r.enableFront),h.E;case Jn.CHANNEL_OPERATION:return t().effects.setChannelOperation({channelOperation:r}),h.E;default:return h.E}}))),u=(0,at.R)(n,oe.Ks.DELETE).pipe((0,f.U)((e=>Array.isArray(e)?e[0]:e)),(0,p.z)((e=>{const{type:n,entity:r}=e;switch(n){case Jn.USER_CHAT:return t().effects.deleteUserChat({userChat:r}),t().effects.deleteUnreadUserChat({userChat:r}),h.E;case Jn.SESSION:{const e=v.Z.userChatSelectors.getCurrentUserChatId(t());return(0,Y.T)((0,d.of)({session:r}).pipe((0,m.b)((e=>{t().effects.deleteSession(e)}))),(0,d.of)({replace:!0}).pipe((0,g.h)((()=>r.chatId===e)),t().effects.goLounge.pipe))}case Jn.MEET_RING:return t().effects.resetMeetRing(),h.E;case Jn.LIVE_MEET:return(0,d.of)({liveMeet:r}).pipe(t().effects.receivedDeleteLiveMeet.pipe);case Jn.CHANNEL_OPERATION:return t().effects.deleteChannelOperation({channelOperation:r}),h.E;default:return h.E}}))),b=(0,at.R)(n,oe.Ks.PUSH).pipe((0,f.U)((e=>Array.isArray(e)?e[0]:e)),(0,p.z)((e=>{const{type:n,entity:r}=e;if(n===Jn.MESSAGE){var o,s,i;const n=null==e||null===(o=e.refers)||void 0===o?void 0:o.userChat,a=null==e||null===(s=e.refers)||void 0===s?void 0:s.manager,l=null==e||null===(i=e.refers)||void 0===i?void 0:i.bot;return(0,Y.T)((0,d.of)({message:r,manager:a,bot:l,userChat:n}).pipe(t().effects.receivedPushMessage.pipe),(0,d.of)({message:r}).pipe(t().effects.notifyOnDeskMessage.pipe))}return h.E}))),_=(0,at.R)(n,oe.Ks.TYPING).pipe((0,f.U)((e=>Array.isArray(e)?e[0]:e)),(0,Q.w)((e=>{const{personId:n,personType:r,chatId:s,chatType:i}=e,a=`${n}#${r}#${s}#${i}`;return"start"===e.action?(0,d.of)({id:a,receivedAt:o.getDate().getTime(),...e}).pipe((0,m.b)((e=>{t().effects.receivedStartTyping(e)})),(0,qn.g)(3e4),(0,f.U)((()=>({id:a,...e}))),(0,m.b)((e=>{t().effects.receivedStopTyping(e)}))):"stop"===e.action?(0,d.of)({id:a,...e}).pipe((0,m.b)((e=>{t().effects.receivedStopTyping(e)}))):h.E}))),y=(0,at.R)(n,oe.Ks.DELTA).pipe((0,f.U)((e=>e.entity)),(0,g.h)((e=>{return(0,ie.Uy)(e)&&"id"in e&&(0,ie.HD)(e.id)&&"delta"in e&&(t=e.delta,(0,ie.Kn)(t)&&"field"in t&&"index"in t&&"value"in t);var t})),t().effects.receivedDeltaMessage.pipe),C=(0,at.R)(n,oe.Ks.ALF_PROCESS).pipe((0,f.U)((e=>Array.isArray(e)?e[0]:e)),(0,p.z)((e=>{let{action:n,chatId:r}=e;return t().effects.receivedAlfProcess.run({action:n,chatId:r}),h.E})));return(0,Y.T)(s,i,a.pipe((0,g.h)((e=>e!==oe.Nx.CLIENT_DISCONNECT)),(0,Q.w)((e=>(0,T._)((()=>e))))),l,c,u,b,_,y,C).pipe((0,w.x)((()=>{t().socketSubject.next(null),n.disconnect()})),(0,$e.R)(a.pipe((0,g.h)((e=>e===oe.Nx.CLIENT_DISCONNECT)))))})))})),requestSocketAddress:(0,b.JF)(t)("requestSocketAddress",(()=>(0,u.z)((0,g.h)((e=>!(0,ie.xb)(e.channelId))),(0,Q.w)((e=>(0,pe.P)((()=>(0,C.D)(function(e){let{channelId:t}=e;return Z.Z.get("/front/routes/info",{baseUrl:R.yq,query:{channelId:t,type:"socket",subType:"clientFront"}}).withToken()}(e).run()))).pipe((0,me.X)({delay:(e,t)=>(0,it.H)((0,Yn.Cr)(2e3,64e3,t))})))),(0,f.U)((e=>{const{routeInfo:t,namespace:n}=e;return{socketAddress:`${t.url}${n}`}}))))),tryConnectSocketWithoutSocketAddress:(0,b.JF)(t)("tryConnectSocketWithoutSocketAddress",(e=>{let{window:n}=e;return(0,u.z)((0,f.U)((e=>e)),t().effects.requestSocketAddress.pipe,t().effects.requestConnectSocket.pipe,(0,me.X)({delay:(e,t)=>(0,lt.s)((()=>n.navigator.onLine),(0,it.H)((0,Yn.Cr)(2e3,64e3,t)),(0,at.R)(n,"online"))}))})),tryConnectSocketWithSocketAddress:(0,b.JF)(t)("tryConnectSocketWithSocketAddress",(()=>(0,u.z)((0,p.z)((e=>(0,d.of)(e).pipe(t().effects.requestConnectSocket.pipe,(0,A.K)((()=>{const e=v.Z.channelSelectors.getChannelId(t()),n=(0,d.of)({channelId:e}).pipe(t().effects.tryConnectSocketWithoutSocketAddress.pipe);return(0,lt.s)((()=>window.navigator.onLine),n,(0,at.R)(window,"online").pipe((0,X.q)(1),(0,Q.w)((()=>n))))})))))))),checkConnection:(0,b.JF)(t)("checkConnection",(()=>(0,u.z)((0,p.z)((()=>(0,d.of)(void 0).pipe(t().effects.checkHeartbeat.pipe,(0,A.K)((()=>{const e=v.Z.channelSelectors.getChannelId(t());return(0,d.of)({channelId:e}).pipe(t().effects.tryConnectSocketWithoutSocketAddress.pipe)})))))))),resetSocketState:()=>{e(nr)}})));class or{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"autoAssign",!1),(0,M.Z)(this,"autoAssignOption",""),(0,M.Z)(this,"channelId",""),(0,M.Z)(this,"channelOperationId",""),(0,M.Z)(this,"createdAt",0),(0,M.Z)(this,"icon",""),(0,M.Z)(this,"id",""),(0,M.Z)(this,"inOperation",!1),(0,M.Z)(this,"managerIds",[]),(0,M.Z)(this,"name",""),(0,M.Z)(this,"removed",!1),(0,M.Z)(this,"updatedAt",0),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}}const sr={teams:new Map},ir=(0,b.tP)((e=>({setTeam:t=>{let{team:n}=t;n&&e((e=>{e.teams.set(n.id,new or(n))}))},resetTeamState:()=>{e(sr)}})));var ar=n(78776);const lr={showOfflineToast:!1,showToast:!1,toastIcon:null,toastId:"",toastMessage:""},cr=(0,b.tP)((e=>({showToast:t=>{e((e=>{e.toastId=(0,ar.Z)(),e.showToast=!0,e.toastMessage=t.message??"",e.toastIcon=t.icon??null}))},hideToast:()=>{e((e=>{e.showToast=!1,e.toastMessage=""}))},showOfflineToast:()=>{e((e=>{e.showOfflineToast=!0}))},hideOfflineToast:()=>{e((e=>{e.showOfflineToast=!1}))},resetToastState:()=>{e(lr)}})));var ur=n(84267);const hr=(0,b.tP)(((e,t)=>({requestCreateEvent:(0,b.JF)(t)("requestCreateEvent",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{channelId:t,name:n,property:r}=e;const o=i.Z.topmostWindow,s=new Oe.Z(o.location.href),a=new Oe.Z(o.document.referrer);return Z.Z.postBySimpleRequest(`/front/v8/channels/${t}/events`,{name:n,property:{title:o.document.title,url:s.decodeValidateURI(),page:rt.Z.page,referrer:a.decodeValidateURI(),...r},sessionJWT:je.ZP.getToken()},{credentials:"include"})}(e).run())))))),requestUpdateMarketingEvent:(0,b.JF)(t)("requestUpdateMarketingEvent",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{type:t,id:n,event:r,userId:o,userChatId:s}=e;return r===cn.t.MarketingClick?Z.Z.get(`/front/v8/${ur.A[t]}/${n}/users/${o}/${r}`,{query:{userChatId:s}}).withToken():Z.Z.put(`/front/v8/${ur.A[t]}/${n}/${r}`,null,{query:{userChatId:s}}).withToken()}(e).run())))))),handleUserChatCreateEvent:(0,b.JF)(t)("handleUserChatCreateEvent",(()=>(0,u.z)((0,f.U)((e=>({...e,channelId:v.Z.channelSelectors.getChannelId(t())}))),(0,g.h)((e=>{let{channelId:t}=e;return"1"===t})),(0,f.U)((e=>{let{userChat:t,channelId:n}=e,r="",o="";const s=t.source;if(null!=s&&s.workflow&&(0,ie.Kn)(s.workflow)){const e=s.workflow;"id"in e&&(0,ie.HD)(e.id)&&(r=e.id),"revisionId"in e&&(0,ie.HD)(e.revisionId)&&(o=e.revisionId)}return{name:cn.t.UserChatCreate,channelId:n,property:{userChatId:t.id,workflowId:r,revisionId:o}}})),t().effects.requestCreateEvent.pipe)))})));class dr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,r.sc,!0),(0,M.Z)(this,"messageId",""),(0,M.Z)(this,"blocks",[]),(0,M.Z)(this,"translating",!1),(0,M.Z)(this,"show",!1),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}getKey(){return this.messageId??""}get isEmpty(){return(0,ie.xb)(this.messageId)}get hasBlocks(){return!(0,ie.xb)(this.blocks)}get isShowing(){return this.show}}const pr={translations:new Map},mr=(0,b.tP)(((e,t)=>({showTranslatedMessage:t=>{e((e=>{const n=e.translations.get(t.messageId);n&&(n.show=!0)}))},undoTranslatedMessage:t=>{e((e=>{const n=e.translations.get(t.messageId);n&&(n.show=!1)}))},requestTranslateMessage:(0,b.JF)(t)("requestTranslateMessage",(()=>(0,u.z)((0,m.b)((t=>{e((e=>{const n=new dr({messageId:t.messageId,translating:!0});e.translations.set(n.getKey(),n)}))})),(0,p.z)((t=>(0,C.D)(function(e){let{userChatId:t,messageId:n,language:r}=e;return Z.Z.get(`/front/v8/user-chats/${t}/messages/${n}/translate`,{query:{language:r}}).withToken()}(t).run()).pipe((0,p.z)((e=>(0,d.of)({...e,messageId:t.messageId}))),(0,A.K)((n=>(e((e=>{const n=e.translations.get(t.messageId);n&&(n.translating=!1)})),(0,T._)((()=>n)))))))),(0,m.b)((t=>{e((e=>{const n=e.translations.get(t.messageId);n&&(n.blocks=t.blocks,n.translating=!1,n.show=!0)}))}))))),resetTranslationState:()=>{e(pr)}})));var gr=n(10794),fr=n(44653),vr=n(33122),br=n(93099),_r=n(82667);const yr={appearance:null,currentTabId:(0,ar.Z)(),managerInfo:new zt.Z,notificationSoundMode:!0,showChannelButton:void 0,showMessenger:!1,translationVisibility:fr.Z.getSettingValue(un.Z.TRANSLATION_VISIBILITY),typingManagers:new Map,visibilityState:i.Z.visibilityState,isKeyboardOpen:!1,keyboardHeight:0,tutorialMode:!1,whiteLabelFeature:!1,enableChxUserChatBinding:!1,collapseAlfBanner:new Set,messengerSizeType:br.A.Default,bodyCover:null,bodyCoverTimeoutId:null},Cr=(0,b.tP)(((e,t)=>({startTyping:(0,b.JF)(t)("startTyping",(()=>(0,u.z)((0,ct.p)(1e3,gr.z,{leading:!0}),(0,m.b)((e=>{t().effects.socketEmit(oe.om.TYPING,{action:"start",chatType:"userChat",...e})}))))),stopTyping:(0,b.JF)(t)("stopTyping",(()=>(0,u.z)((0,m.b)((e=>{t().effects.socketEmit(oe.om.TYPING,{action:"stop",chatType:"userChat",...e})}))))),setShowMessenger:(0,b.JF)(t)("setShowMessenger",(n=>{let{isStandalone:r,UserAgentService:o,ViewportService:s,BodyScrollLockService:i,HistoryService:a}=n;return(0,u.z)((0,m.b)((e=>{e?t().effects.appendBodyCover.run():t().effects.removeBodyCover.run()})),(0,m.b)((n=>{if(e((e=>{e.showMessenger=n,e.active=!1})),n&&e({shouldInitializeHome:!0,shouldInitializeUserChatList:!0,shouldGetHome:!0}),!r()&&!n&&v.Z.errorSelectors.hasInvalidAccessError(t())){const e=a.getHistory();"/home"!==e.location.pathname&&e.push("/home"),t().effects.resetErrorState()}})),(0,m.b)((function(e){!r()&&e&&((0,hn.oE)(),o.isMobile&&(s.replace(),i.disableBodyScrollForMobile()),t().effects.onShowMessenger())})),(0,m.b)((function(e){r()||e||((0,hn.zo)(),o.isMobile&&(s.restore(),i.enableBodyScrollForMobile()),t().effects.onHideMessenger())})))})),changeVisibilityState:(0,b.JF)(t)("changeVisibilityState",(()=>(0,u.z)((0,m.b)((t=>{e((e=>{e.visibilityState=t}))})),(0,m.b)((e=>{e!==on.Z.VISIBLE?t().effects.socketEmit(oe.om.OFFLINE,3e3):t().effects.socketEmit(oe.om.HEARTBEAT)}))))),initializeMessengerStyle:(0,b.JF)(t)("initializeMessengerStyle",(e=>{let{isApp:n,WebAPIService:r,UserAgentService:o}=e;return(0,u.z)((0,X.q)(1),(0,g.h)((()=>n())),(0,f.U)((()=>r.parentDocument.getElementById("ch-plugin-script"))),(0,g.h)((e=>!!e)),(0,m.b)((e=>{if(e.removeAttribute("style"),e.classList.add("ch-messenger-hidden"),o.isMobile)e.classList.add("ch-mobile-messenger");else{e.classList.add("ch-desk-messenger");const n=v.Z.pluginSelectors.getPlugin(t()).getPosition(),{marginY:r,marginX:o}=v.Z.pluginSelectors.getPlugin(t()).getMargin(),s=r+_r.HN+_r.P8;e.setAttribute("style",`bottom: ${s}px !important;${n}: ${o}px !important;`)}})))})),setMessengerSizeType:(0,b.JF)(t)("setMessengerSizeType",(n=>{let{WebAPIService:r,UserAgentService:o}=n;return(0,u.z)((0,m.b)((t=>{e((e=>{e.messengerSizeType=t}))})),(0,g.h)((e=>e===br.A.Document)),(0,f.U)((()=>{const{width:e,height:n}=v.Z.uiSelectors.getMessengerEdgeSize(t()),{innerWidth:s,innerHeight:i}=r.topmostWindow;return o.isMobile?{width:s,height:i}:{width:Math.min(s-e,br.L[br.A.Document].width),height:Math.min(i-n,br.L[br.A.Document].height)}})),(0,m.b)((e=>{let{width:t,height:n}=e;const o=r.chPluginScriptElement;o&&(o.style.setProperty("max-width",`${t}px`,"important"),o.style.setProperty("max-height",`${n}px`,"important"))})),(0,qn.g)(vr.BU),(0,m.b)((()=>{const e=r.chPluginScriptElement;e&&(e.style.removeProperty("max-width"),e.style.removeProperty("max-height"))})))})),toggleMessengerSize:(0,b.JF)(t)("toggleMessengerSize",(e=>{let{ChLocalStorage:n}=e;return(0,u.z)((0,f.U)((()=>v.Z.uiSelectors.getMessengerSizeType(t())===br.A.Document?br.A.Default:br.A.Document)),(0,m.b)((e=>{n.setItem(un.Z.DOCUMENT_VIEWER_SHRINKED,e===br.A.Default)})),t().effects.setMessengerSizeType.pipe)})),initializeBodyCoverColor:(0,b.JF)(t)("initializeBodyCoverColor",(e=>{let{UserAgentService:n,HistoryService:r,isApp:o}=e;return(0,u.z)((0,g.h)((()=>n.isSafariOnIOS26)),(0,g.h)((()=>o())),(0,X.q)(1),(0,m.b)((()=>{r.getHistory().listen((()=>{t().effects.setBodyCoverColor.run()}))})))})),setBodyCoverColor:(0,b.JF)(t)("setBodyCoverColor",(e=>{let{UserAgentService:n,HistoryService:r,isApp:o,WebAPIService:s}=e;return(0,u.z)((0,g.h)((()=>n.isSafariOnIOS26)),(0,g.h)((()=>o())),(0,m.b)((()=>{const e=r.getHistory(),n=v.Z.uiSelectors.getBodyCover(t()),o=(0,sn.TF)(v.Z.uiSelectors.getAppearance(t()),s.topmostWindow),i=e.location.pathname;if(!n)return;const a=(0,Kn.vL)(i)||(0,Kn.d$)(i)||(0,Kn.Ym)(i)?o?"#313234":"#F7F7F8":(0,Kn.Bx)(i)?o?"#313234":"#FFFFFF":"#F7F7F8";n.style.setProperty("background-color",a,"important")})))})),appendBodyCover:(0,b.JF)(t)("appendBodyCover",(n=>{let{UserAgentService:r,WebAPIService:o,isApp:s}=n;return(0,u.z)((0,g.h)((()=>r.isSafariOnIOS26)),(0,g.h)((()=>s())),(0,f.U)((()=>v.Z.uiSelectors.getBodyCover(t()))),(0,g.h)((e=>!e)),(0,m.b)((()=>{const n=v.Z.uiSelectors.getBodyCoverTimeoutId(t());n&&(window.clearTimeout(n),e({bodyCoverTimeoutId:null}))})),(0,m.b)((()=>{const n=o.parentDocument.body,r=o.parentDocument.createElement("div");r.style.setProperty("position","absolute","important"),r.style.setProperty("inset","0","important"),n.classList.add(vr.Ul),n.appendChild(r),e({bodyCover:r}),t().effects.setBodyCoverColor.run()})))})),removeBodyCover:(0,b.JF)(t)("removeBodyCover",(n=>{let{WebAPIService:r}=n;return(0,u.z)((0,f.U)((()=>v.Z.uiSelectors.getBodyCover(t()))),(0,g.h)((e=>!!e)),(0,m.b)((t=>{t.style.setProperty("opacity","1","important"),t.style.setProperty("transition","opacity 800ms cubic-bezier(0.3, 0, 0, 1)","important"),t.style.setProperty("animation-fill-mode","forwards","important"),requestAnimationFrame((()=>{t.style.setProperty("opacity","0.01","important")}));const n=window.setTimeout((()=>{r.parentDocument.body.classList.remove(vr.Ul),e({bodyCoverTimeoutId:null})}),800);window.setTimeout((()=>{r.parentDocument.body.removeChild(t),t.remove()}),800),e({bodyCover:null,bodyCoverTimeoutId:n})})))})),setShowChannelButton:t=>{e((e=>{e.showChannelButton=t}))},receivedStartTyping:n=>{var r;e((e=>{e.typingManagers.set(n.id,n)})),t().effects.setBot({bot:null===(r=n.refers)||void 0===r?void 0:r.bot})},receivedStopTyping:t=>{e((e=>{e.typingManagers.delete(t.id)}))},setTranslationVisibility:t=>{fr.Z.setSettingValue(un.Z.TRANSLATION_VISIBILITY,t),e((e=>{e.translationVisibility=t}))},setNotificationSoundMode:t=>{let{notificationSoundMode:n,notificationSoundModeStorageKey:r}=t;fr.Z.setSettingValue(r,n),e((e=>{e.notificationSoundMode=n}))},setAppearance:t=>{e((e=>{e.appearance=t}))},setKeyboardOpen:t=>{let{show:n,keyboardHeight:r}=t;e((e=>{e.isKeyboardOpen=n,e.keyboardHeight=r}))},setTutorialMode:t=>{e((e=>{e.tutorialMode=t}))},setCollapseAlfBanner:(t,n)=>{e((e=>{t?e.collapseAlfBanner.add(n):e.collapseAlfBanner.delete(n)}))},setWhiteLabelFeature:t=>{let{whiteLabelFeature:n}=t;e((e=>{e.whiteLabelFeature=n}))},setEnableChxUserChatBinding:t=>{let{enableChxUserChatBinding:n}=t;e((e=>{e.enableChxUserChatBinding=n}))},initializeCustomLauncherSelector:(0,b.JF)(t)("initializeCustomLauncherSelector",(e=>{let{ChSettings:n,WebAPIService:r}=e;return(0,u.z)((0,f.U)((()=>n.getCustomLauncherSelector())),(0,g.h)((e=>!!e)),(0,Q.w)((e=>(0,pe.P)((()=>r.topmostDocument.querySelectorAll(e))).pipe((0,p.z)((e=>(0,at.R)(e,"click"))),(0,f.U)((()=>!0)),t().effects.setShowMessenger.pipe,(0,A.K)((t=>((0,G.wN)(`Unable to bind the event on custom launchers. Check 'customLauncherSelector': "${e}".`),(0,T._)((()=>t)))))))))})),resetUiState:()=>{e(yr)},goInitialUserChat:(0,b.JF)(t)("goInitialUserChat",(e=>{let{HistoryService:n,isApp:r}=e;return(0,u.z)((0,X.q)(1),(0,g.h)((()=>r())),(0,m.b)((()=>{const e=v.Z.userChatSelectors.getMainChatId(t());e?n.getHistory().push(`/user-chats/${e}`):v.Z.alfSelectors.getIsAlfQuickPublish(t())&&n.getHistory().push("/user-chats/new")})))}))})));var wr;function Er(e){let{since:t,limit:n}=e;return Z.Z.get("/front/v8/user-chats",{query:{sortOrder:wr.DESC,since:t,limit:n}}).withToken()}!function(e){e.ASC="ASC",e.BOTH="BOTH",e.DESC="DESC"}(wr||(wr={}));const Sr=(0,b.tP)(((e,t)=>({requestGetUserChatList:(0,b.JF)(t)("requestGetUserChatList",(()=>(0,u.z)((0,p.z)((e=>{let{limit:n}=e;return(0,C.D)(Er({limit:n}).run()).pipe((0,A.K)((e=>(t().effects.handleGeneralError(e),(0,T._)((()=>e))))))})),(0,m.b)((e=>{t().effects.setBots(e),t().effects.setManagers(e),t().effects.setSessions(e),t().effects.setNextUserChatId({next:e.next}),t().effects.clearUserChats(),t().effects.setUserChats(e),t().effects.setLastMessages(e)}))))),requestGetNextUserChatList:(0,b.JF)(t)("requestGetNextUserChatList",(()=>(0,u.z)((0,p.z)((e=>{let{limit:t,next:n,observer:r}=e;return(0,C.D)(Er({limit:t,since:n}).run()).pipe((0,m.b)((()=>{var e;null==r||null===(e=r.complete)||void 0===e||e.call(r)})),(0,A.K)((e=>{var t;return null==r||null===(t=r.error)||void 0===t||t.call(r,e),(0,T._)((()=>e))})))})),(0,m.b)((e=>{t().effects.setBots(e),t().effects.setManagers(e),t().effects.setSessions(e),t().effects.setNextUserChatId({next:e.next}),t().effects.setUserChats(e),t().effects.setLastMessages(e)}))))),requestGetUnreadUserChatList:(0,b.JF)(t)("requestGetUnreadUserChatList",(()=>(0,u.z)((0,p.z)((()=>(0,C.D)(Z.Z.get("/front/v8/user-chats/unread").withToken().run()).pipe((0,A.K)((e=>(t().effects.handleGeneralError(e),(0,T._)((()=>e)))))))),(0,m.b)((e=>{t().effects.setBots(e),t().effects.setManagers(e),t().effects.setSessions(e),t().effects.setUnreadUserChats(e),t().effects.setLastMessages(e)})))))})));var Zr=n(10201);const Ir={phoneKR:/(?:\+?82[-\s]?)?(?:0?10|011|016|017|018|019)[-\s]?\d{3,4}[-\s]?\d{4}|\b\d{2,3}[-\s]\d{3,4}[-\s]\d{4}\b/g,phoneUS:/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/g,phoneJP:/0[0-9]{1,4}-[0-9]{1,4}-[0-9]{4}/g,email:/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,ssn:/\d{6}[-]\d{7}/g,creditCard:/\b\d{4}[\s-]\d{4}[\s-]\d{4}[\s-]\d{4}\b/g,account:/\d{12,20}/g};var kr=n(76438),xr=n(68266);const Tr=new Be.x,Ar=Tr.asObservable(),Mr={enteredUserChatId:"",lastMessages:(new _t).setKeyResolver((e=>e.id)),nextUserChatId:null,paramUserChatId:"",unreadUserChats:new _t,userChats:new _t,exitUserChat$:Ar,exitUserChatSubject:Tr},Pr=e=>(0,ie.hj)(e)||(0,ie.HD)(e)&&""!==e,Rr=(0,b.tP)(((e,t)=>({goUserChat:e=>{if(e===v.Z.userChatSelectors.getCurrentUserChatId(t()))return;const n=Zr.Z.getHistory(),r=n.location.pathname,o=`/user-chats/${e}`;(0,Kn.Kc)(r)&&n.replace("/home"),(0,Kn.Bx)(r)?n.replace(o):n.push(o)},goNewUserChat:()=>{const e=Zr.Z.getHistory(),t=e.location.pathname,n=`/user-chats/${rt.F}`;(0,Kn.Bx)(t)?e.replace({pathname:n}):e.push({pathname:n})},setNextUserChatId:t=>{let{next:n}=t;e((e=>{e.nextUserChatId=n??null}))},setUserChat:t=>{let{userChat:n}=t;n&&((0,ie.xb)(n.footerCategory)&&tt.Z.captureException({extra:{handling:n.handling},message:"UserChat footerCategory is empty",tags:{"error.source":"user_chat_footer_category_empty"}}),e((e=>{e.userChats.upsert(new Pn.Z(n))})))},deleteUserChat:t=>{let{userChat:n}=t;n&&e((e=>{e.userChats.delete(n.id)}))},setUserChats:t=>{let{userChats:n}=t;e((e=>{n.forEach((t=>{e.userChats.upsert(new Pn.Z(t))}))}))},clearUserChats:()=>{e((e=>{e.userChats.clear()}))},setUnreadUserChat:t=>{let{userChat:n}=t;n&&e((e=>{e.unreadUserChats.upsert(new Pn.Z(n))}))},deleteUnreadUserChat:t=>{let{userChat:n}=t;n&&e((e=>{e.unreadUserChats.delete(n.id)}))},setUnreadUserChats:t=>{let{userChats:n}=t;e((e=>{n.forEach((t=>{e.unreadUserChats.upsert(new Pn.Z(t))}))}))},clearUnreadUserChats:()=>{e((e=>{e.unreadUserChats.clear()}))},setLastMessage:t=>{let{message:n}=t;n&&e((e=>{e.lastMessages.upsert(new re.Z(n))}))},setLastMessages:t=>{let{messages:n}=t;e((e=>{n.forEach((t=>{e.lastMessages.upsert(new re.Z(t))}))}))},clearLastMessages:()=>{e((e=>{e.lastMessages.clear()}))},handleUserChatCreated:(0,b.JF)(t)("handleUserChatCreated",(e=>{let{DraftMessageService:n}=e;return(0,u.z)((0,m.b)((e=>{t().effects.setBot(e),t().effects.setChannelOperation(e),t().effects.clearMessages(),t().effects.setMessage(e),t().effects.setUserChat(e),t().effects.setUnreadUserChat(e),t().effects.setLastMessage(e),t().effects.onChatCreated(e),"team"in e&&t().effects.setTeam(e)})),(0,m.b)((e=>{const{id:r}=e.userChat,o=(()=>{if((0,_n.$W)()){const e=rt.Z.getMessage();return rt.Z.unsetMessage(),e}const e=n.get(rt.F);return n.delete(rt.F),e})();o&&n.set(r,o),t().effects.goUserChat(r)})))})),requestCreateUserChat:(0,b.JF)(t)("requestCreateUserChat",(()=>(0,u.z)((0,p.z)((()=>(0,C.D)(function(){const e=(0,xr.P)({page:rt.Z.page});return Z.Z.post(`/front/v8/user-chats?${e}`,{userChatProfile:kr.Z.getUserChatProfile()}).withToken()}().run()).pipe((0,A.K)((e=>(t().effects.handleGeneralError(e),(0,T._)((()=>e))))))))))),requestCreateQuickPublishUserChat:(0,b.JF)(t)("requestCreateQuickPublishUserChat",(()=>(0,u.z)((0,p.z)((()=>(0,C.D)(function(){const e=(0,xr.P)({page:rt.Z.page});return Z.Z.post(`/front/v8/alf/quick-publish/user-chats?${e}`,{userChatProfile:kr.Z.getUserChatProfile()}).withToken()}().run()).pipe((0,A.K)((e=>(t().effects.handleGeneralError(e),(0,T._)((()=>e))))))))))),requestSendHtmlSnapshot:(0,b.JF)(t)("requestSendHtmlSnapshot",(e=>{let{WebAPIService:t,isApp:n}=e;return(0,u.z)((0,g.h)((()=>n())),(0,p.z)((e=>{let{userChatId:n}=e;const r=(()=>{const e=t.topmostDocument.body;if(!e)return"";const n=e.cloneNode(!0);return(e=>{["script","style","iframe","noscript"].forEach((t=>{e.querySelectorAll(t).forEach((e=>e.remove()))}))})(r=n),(e=>{e.querySelectorAll("input").forEach((e=>{const t=e.type.toLowerCase(),n=e.name.toLowerCase(),r=e.id.toLowerCase(),o=e.className.toLowerCase();if("password"===t||n.includes("password")||r.includes("password")||o.includes("password")||n.includes("ssn")||n.includes("social")||n.includes("card")||n.includes("account")||r.includes("ssn")||r.includes("social")||r.includes("card")||r.includes("account")||o.includes("ssn")||o.includes("social")||o.includes("card")||o.includes("account")||o.includes("sensitive")||o.includes("private")){const t="*".repeat(e.value.length);return e.value=t,void e.setAttribute("value",t)}if("email"===t||n.includes("email")||r.includes("email")||o.includes("email")){const t=e.value;let n=t;if(t&&t.includes("@")){const[e,r]=t.split("@");n=`${"*".repeat(e.length)}@${r.replace(/[a-zA-Z0-9]/g,"*")}`}else n="*".repeat(t.length);return e.value=n,void e.setAttribute("value",n)}if("tel"===t||n.includes("phone")||n.includes("tel")||r.includes("phone")||r.includes("tel")||o.includes("phone")||o.includes("tel")){const t=e.value.replace(/[0-9]/g,"*");e.value=t,e.setAttribute("value",t)}}))})(r),(e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);let r=n.nextNode();for(;r;)t.push(r),r=n.nextNode();t.forEach((e=>{let t=e.textContent||"";Ir.phoneKR.test(t)?t=t.replace(Ir.phoneKR,(e=>e.length<=4?e:e.replace(/[0-9]/g,"*"))):Ir.phoneUS.test(t)?t=t.replace(Ir.phoneUS,(e=>e.length<=4?e:e.replace(/[0-9]/g,"*"))):Ir.phoneJP.test(t)&&(t=t.replace(Ir.phoneJP,(e=>e.length<=4?e:e.replace(/[0-9]/g,"*")))),Ir.email.test(t)&&(t=t.replace(Ir.email,(e=>{if(e.includes("@")){const[t,n]=e.split("@");return`${"*".repeat(t.length)}@${n.replace(/[a-zA-Z0-9]/g,"*")}`}return"*".repeat(e.length)}))),Ir.ssn.test(t)&&(t=t.replace(Ir.ssn,(e=>e.replace(/[0-9]/g,"*")))),Ir.creditCard.test(t)&&(t=t.replace(Ir.creditCard,(e=>e.replace(/[0-9]/g,"*")))),Ir.account.test(t)&&(t=t.replace(Ir.account,(e=>e.replace(/[0-9]/g,"*")))),e.textContent=t}))})(r),(e=>{e.querySelectorAll("*").forEach((e=>{Array.from(e.attributes).forEach((t=>{t.name.startsWith("data-")&&(t.name.includes("phone")||t.name.includes("email")||t.name.includes("card")||t.name.includes("account")||t.name.includes("ssn")||t.name.includes("social"))&&e.setAttribute(t.name,"***")}))}))})(r),n.innerHTML;var r})();return(0,C.D)(function(e){let{userChatId:t,contents:n}=e;const r=rt.Z.page;return Z.Z.post(`/front/v8/user-chats/${t}/html-snapshots`,{page:r,contents:n}).withToken()}({userChatId:n,contents:r}).run())})))})),requestLeaveUserChat:(0,b.JF)(t)("requestLeaveUserChat",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{userChatId:t}=e;return Z.Z.delete(`/front/v8/user-chats/${t}/leave`).withToken()}(e).run()).pipe((0,m.b)((t=>{var n,r,o,s;null===(n=e.observer)||void 0===n||null===(r=n.next)||void 0===r||r.call(n,t),null===(o=e.observer)||void 0===o||null===(s=o.complete)||void 0===s||s.call(o)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))})))))))),requestGetUserChat:(0,b.JF)(t)("requestGetUserChat",(()=>(0,u.z)(nt("requestGetUserChat",(e=>!(0,ie.xb)(e.userChatId))),(0,p.z)((e=>(0,C.D)(function(e){let{userChatId:t}=e;return Z.Z.get(`/front/v8/user-chats/${t}`).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.handleUserChatError(e),(0,T._)((()=>e)))))))),(0,m.b)((e=>{t().effects.setBot(e),t().effects.setChannelOperation(e),t().effects.setManagers(e),t().effects.setSession(e),t().effects.setTeam(e),t().effects.setEnableFrontMeet(e.meetSetting.enableFront),t().effects.setUserChat(e),t().effects.setUnreadUserChat(e),t().effects.setLastMessage(e)}))))),enterUserChat:(0,b.JF)(t)("enterUserChat",(()=>(0,u.z)((0,m.b)((t=>{e((e=>{e.enteredUserChatId=t,e.languageConversionMessageId="",e.typingManagers=new Map}))})),(0,m.b)((e=>{t().effects.socketEmit(oe.om.JOIN,`/user-chats/${e}`)})),(0,m.b)((e=>{t().effects.hydrateDraftCommand(e)}))))),exitUserChat:(0,b.JF)(t)("exitUserChat",(()=>(0,u.z)((0,m.b)((n=>{t().effects.resetFileUploadState(),t().effects.resetMessageState(),t().effects.resetTranslationState(),t().effects.resetAlfProcessing(),e((e=>{e.enteredUserChatId=""})),t().effects.socketEmit(oe.om.LEAVE,`/user-chats/${n}`)})),(0,m.b)((()=>{t().exitUserChatSubject.next()}))))),openChat:(0,b.JF)(t)("openChat",(e=>{let{DraftMessageService:n}=e;return(0,u.z)((0,m.b)((e=>{let{userChatId:t,message:r}=e;!Pr(t)&&(e=>(0,ie.HD)(e)&&""!==e)(r)&&n.set(rt.F,r)})),(0,m.b)((e=>{let{userChatId:n}=e;Pr(n)?t().effects.goUserChat(n.toString()):t().effects.goNewUserChat()})),(0,g.h)((()=>!v.Z.uiSelectors.showMessenger(t()))),(0,f.U)((()=>!0)),t().effects.setShowMessenger.pipe)})),getMainChat:(0,b.JF)(t)("getMainChat",(()=>(0,u.z)((0,g.h)((e=>!!e)),(0,g.h)((e=>e!==v.Z.userChatSelectors.getMainChat(t()).id)),(0,f.U)((e=>({userChatId:e}))),t().effects.requestGetUserChat.pipe))),requestSwitchToUserChat:(0,b.JF)(t)("requestSwitchToUserChat",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{userChatId:t}=e;const n=(0,xr.P)({page:rt.Z.page});return Z.Z.put(`/front/v8/user-chats/${t}/handle?${n}`).withToken()}(e).run()).pipe((0,m.b)((()=>{var t,n;null===(t=e.observer)||void 0===t||null===(n=t.complete)||void 0===n||n.call(t)})),(0,A.K)((t=>{var n,r;return null===(n=e.observer)||void 0===n||null===(r=n.error)||void 0===r||r.call(n,t),(0,T._)((()=>t))}))))),(0,m.b)((e=>{t().effects.setUserChat(e),t().effects.setUnreadUserChat(e),t().effects.setLastMessage(e)}))))),setParamUserChatId:t=>{e((e=>{e.paramUserChatId=t}))},resetParamUserChatId:()=>{e((e=>{e.paramUserChatId=""}))},receivedCreateSession:e=>{t().effects.setManager(e),t().effects.setSession(e)},receivedUpdateUserChat:n=>{t().effects.setBot(n),t().effects.setChannelOperation(n),t().effects.setManager(n),t().effects.setTeam(n),t().effects.setUserChat(n),t().effects.setUnreadUserChat(n),t().effects.setLastMessage(n);const r=new Pn.Z(n.userChat);r.isAlf||(t().collapseAlfBanner.has(r.id)&&e((e=>{e.collapseAlfBanner.delete(r.id)})),t().isAlfProcessing&&e((e=>{e.isAlfProcessing=!1})))},resetUserChatState:()=>{e(Mr)}}))),Nr=(0,b.tP)(((e,t)=>({requestAddTags:(0,b.JF)(t)("requestAddTags",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{tags:t}=e;const n=(0,xr.P)({tags:t});return Z.Z.patch(`/front/v8/users/me/tags?${n}`).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.onRequestAddTagsError(null==e?void 0:e.body),(0,T._)((()=>e)))))))),(0,m.b)((e=>{t().effects.onRequestAddTagsSuccess(e)}))))),requestRemoveTags:(0,b.JF)(t)("requestRemoveTags",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{tags:t}=e;const n=(0,xr.P)({tags:t});return Z.Z.delete(`/front/v8/users/me/tags?${n}`).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.onRequestRemoveTagsError(null==e?void 0:e.body),(0,T._)((()=>e)))))))),(0,m.b)((e=>{t().effects.onRequestRemoveTagsSuccess(e)})))))})));var Or=n(94725);const Lr={user:new Or.Z},Ur=(0,b.tP)(((e,t)=>({setUser:t=>{let{user:n}=t;e((e=>{(e.user.isEmpty()||e.user.version<=n.version)&&(e.user=new Or.Z(n))}))},requestUpdateUser:(0,b.JF)(t)("requestUpdateUser",(e=>{let{client:n,document:r}=e;return(0,u.z)((0,ne.b)((e=>(0,C.D)(function(e){if((0,N.e$)(e,"unsubscribed")&&!(0,N.e$)(e,"unsubscribeTexting")&&!(0,N.e$)(e,"unsubscribeEmail")){const t={...e,unsubscribed:void 0,unsubscribeTexting:e.unsubscribed,unsubscribeEmail:e.unsubscribed};return Z.Z.patch("/front/v8/users/me",t).withToken()}return Z.Z.patch("/front/v8/users/me",e).withToken()}(e).run()).pipe((0,A.K)((n=>{var r,o;return t().effects.onRequestUpdateUserError(null==n?void 0:n.body),null===(r=e.observer)||void 0===r||null===(o=r.error)||void 0===o||o.call(r,null==n?void 0:n.body),(0,T._)((()=>n))}))).pipe((0,m.b)((o=>{var s,i,a,l;t().effects.setUser({user:o.user}),(0,b.wG)(o.user,{_client:n,_document:r}),t().effects.onRequestUpdateUserSuccess(o),t().effects.getMainChat.run(o.user.mainChatId),null===(s=e.observer)||void 0===s||null===(i=s.next)||void 0===i||i.call(s,o.user),null===(a=e.observer)||void 0===a||null===(l=a.complete)||void 0===l||l.call(a)}))))))})),receivedUpdateUser:(0,b.JF)(t)("receivedUpdateUser",(e=>{let{client:n,document:r}=e;return(0,u.z)((0,m.b)((e=>{(0,b.wG)(e.user,{_client:n,_document:r}),t().effects.setUser(e),t().effects.setManager(e),t().effects.setUserChat(e),t().effects.setUnreadUserChat(e),t().effects.setLastMessage(e),t().effects.setBot(e),t().effects.setHasError({hasConstraintError:e.user.constrainted}),t().effects.notifyBadgeUpdate.run({alert:e.user.alert,unread:e.user.unread})})),(0,f.U)((e=>e.user.mainChatId)),t().effects.getMainChat.pipe)})),requestGetUser:(0,b.JF)(t)("requestGetUser",(e=>{let{client:n,document:r}=e;return(0,u.z)((0,ne.b)((()=>(0,C.D)(Z.Z.get("/front/v8/users/me").withToken().run()))),(0,m.b)((e=>{t().effects.setUser(e),(0,b.wG)(e.user,{_client:n,_document:r})})),(0,f.U)((e=>e.user.mainChatId)),t().effects.getMainChat.pipe)})),resetUserState:()=>{e(Lr)}}))),Dr={instances:[]},zr=(0,b.tP)((e=>({openWamModal:t=>{e((e=>{e.instances.push({id:(0,L.zs)(16),appId:t.appId,name:t.name,wamArgs:t.wamArgs,accessToken:t.accessToken,refreshToken:t.refreshToken})}))},closeWamModal:t=>{e((e=>{e.instances=e.instances.filter((e=>e.id!==t.id))}))},resetWamModalState:()=>{e(Dr)}})));var Br=n(52785);const Fr={appWidgetInstallations:[]},$r=(0,b.tP)(((e,t)=>({requestTriggerAppWidgetInstallation:(0,b.JF)(t)("requestTriggerAppWidgetInstallation",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{channelId:t,appWidgetId:n}=e;return Z.Z.put(`/front/v1/channels/${t}/app-widgets/${n}`,null,{baseUrl:R.m$}).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.handleCommandRequestFailure(),(0,T._)((()=>e)))))))),(0,f.U)((e=>({action:e}))),t().effects.executeAction.pipe))),setAppWidgetInstallations:t=>{let{appWidgetInstallations:n}=t;e((e=>{e.appWidgetInstallations=n.map((e=>new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"id",""),(0,M.Z)(this,"appId",""),(0,M.Z)(this,"appWidgetId",""),(0,M.Z)(this,"channelId",""),(0,M.Z)(this,"colorVariant",Br.Z.Default),(0,M.Z)(this,"createdAt",0),(0,M.Z)(this,"description",""),(0,M.Z)(this,"icon",""),(0,M.Z)(this,"name",""),(0,M.Z)(this,"nameDescI18nMap",{}),(0,M.Z)(this,"updatedAt",0),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}getName(e){var t;return(null===(t=this.nameDescI18nMap[e])||void 0===t?void 0:t.name)||this.name}getDescription(e){var t;return(null===(t=this.nameDescI18nMap[e])||void 0===t?void 0:t.description)||this.description}}(e)))}))},resetWidgetInstallationState:()=>{e(Fr)}})));class Hr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"id",""),(0,M.Z)(this,"revisionId",""),(0,M.Z)(this,"channelId",""),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}isEmpty(){return(0,ie.xb)(this.id)}}class Wr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,M.Z)(this,"message",{blocks:[],buttons:[],files:[],webPage:null,form:void 0}),Object.keys(e).forEach((t=>{(0,N.e$)(this,t)&&(this[t]=e[t])}))}isEmpty(){var e,t,n;return!(null!==(e=this.message.blocks)&&void 0!==e&&e.length||null!==(t=this.message.buttons)&&void 0!==t&&t.length||null!==(n=this.message.files)&&void 0!==n&&n.length||this.message.webPage||this.message.form)}}const jr=(0,b.tP)(((e,t)=>({requestCreateWorkflowUserChat:(0,b.JF)(t)("requestCreateWorkflowUserChat",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{workflowId:t}=e;const n=(0,xr.P)({page:rt.Z.page});return Z.Z.post(`/front/v8/workflows/${t}/user-chats?${n}`,{userChatProfile:kr.Z.getUserChatProfile()}).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.handleUserChatError(e),(0,T._)((()=>e))))))))))),requestCreateWorkflowUserChatWithRevision:(0,b.JF)(t)("requestCreateWorkflowUserChatWithRevision",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{workflowId:t,revisionId:n}=e;const r=(0,xr.P)({page:rt.Z.page});return Z.Z.post(`/front/v8/workflows/${t}/revisions/${n}/user-chats?${r}`,{userChatProfile:kr.Z.getUserChatProfile()}).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.handleGeneralError(e),(0,T._)((()=>e))))))))))),requestGetWorkflowFromId:(0,b.JF)(t)("requestGetWorkflowFromId",(()=>(0,u.z)((0,p.z)((e=>(0,C.D)(function(e){let{workflowId:t}=e;return Z.Z.get(`/front/v8/workflows/${t}`).withToken()}(e).run()).pipe((0,A.K)((e=>(t().effects.handleUserChatError(e),(0,T._)((()=>e)))))))),(0,m.b)((t=>{e((e=>{e.isSpecificWorkflowUsingAlf=t.useAlf,e.specificWorkflowBotName=t.bot.name,e.specificWorkflowStep=new Wr({message:t.message||{}})}))})),(0,f.U)((e=>new Hr(e.workflow))),(0,m.b)((t=>{e((e=>{e.specificWorkflow=t}))}))))),requestReplyUserChatHandlingButton:(0,b.JF)(t)("requestReplyUserChatHandlingButton",(()=>(0,u.z)((0,p.z)((e=>(0,Y.T)((0,d.of)(e).pipe(t().effects.createLocalMessage.pipe),(0,C.D)(function(e){let{buttonId:t,message:n,userChatId:r}=e;const{requestId:o}=n,s=(0,xr.P)({requestId:o});return Z.Z.post(`/front/v8/user-chats/${r}/handling/buttons/${t}?${s}`).withToken()}(e).run()).pipe((0,m.b)((n=>{var r,o,s,i;t().effects.upsertMessage(n.message),null===(r=e.observer)||void 0===r||null===(o=r.next)||void 0===o||o.call(r),null===(s=e.observer)||void 0===s||null===(i=s.complete)||void 0===i||i.call(s)})),(0,A.K)((n=>{var r,o;return t().effects.deleteMessage({key:e.message.requestId??""}),null===(r=e.observer)||void 0===r||null===(o=r.error)||void 0===o||o.call(r,n),(0,T._)((()=>n))}))))))))),setCommonWorkflow:t=>{e((e=>{e.isCommonWorkflowUsingAlf=(null==t?void 0:t.useAlf)??!1,e.commonWorkflow=new Hr(null==t?void 0:t.workflow),e.commonWorkflowBotName=(null==t?void 0:t.bot.name)??"",e.commonWorkflowStep=new Wr({message:(null==t?void 0:t.message)||{}})}))},openWorkflow:(0,b.JF)(t)("openWorkflow",(e=>{let{HistoryService:n}=e;return(0,u.z)((0,m.b)((()=>{const e=n.getHistory();e.replace("/home"),e.push("/user-chats/open-workflow")})),(0,p.z)((e=>{let{workflowId:n}=e;return(0,Y.T)((0,d.of)({workflowId:n.toString()}).pipe(t().effects.requestCreateWorkflowUserChat.pipe,t().effects.handleUserChatCreated.pipe,t().effects.handleUserChatCreateEvent.pipe),(0,d.of)(void 0).pipe((0,g.h)((()=>!v.Z.uiSelectors.showMessenger(t()))),(0,f.U)((()=>!0)),t().effects.setShowMessenger.pipe))})))})),initializeSpecificWorkflow:(0,b.JF)(t)("initializeSpecificWorkflow",(()=>(0,u.z)(t().effects.requestGetWorkflowFromId.pipe,(0,f.U)((e=>({workflowId:e.id,revisionId:e.revisionId}))),t().effects.requestCreateWorkflowUserChatWithRevision.pipe,t().effects.handleUserChatCreated.pipe,t().effects.handleUserChatCreateEvent.pipe)))}))),Gr=(0,b.tP)((function(){return{...S(...arguments),...k(...arguments),...(0,x.U)(...arguments),...D(...arguments),...F(...arguments),...Ee(...arguments),...K(...arguments),...de(...arguments),...ve(...arguments),...ye(...arguments),...Se(...arguments),...Ze(...arguments),...Ie(...arguments),...xe(...arguments),...Me(...arguments),...Ne(...arguments),...Le(...arguments),...De(...arguments),...Ke(...arguments),...Qe(...arguments),...et(...arguments),...ot(...arguments),...st(...arguments),...vt(...arguments),...Nt(...arguments),...Dt(...arguments),...Ft(...arguments),...Wt(...arguments),...en(...arguments),...Pt(...arguments),...an(...arguments),...Tn(...arguments),...Fn(...arguments),...$n(...arguments),...jn(...arguments),...rr(...arguments),...ir(...arguments),...cr(...arguments),...hr(...arguments),...mr(...arguments),...Cr(...arguments),...Ur(...arguments),...Rr(...arguments),...Sr(...arguments),...Nr(...arguments),...zr(...arguments),...$r(...arguments),...jr(...arguments)}}));var qr=n(44212);const Vr={channelIOCallbacks:new Map},Jr=new Be.x,Kr={command$:Jr.asObservable(),commandSubject:Jr},Yr={commonWorkflow:new Hr,commonWorkflowBotName:"",commonWorkflowStep:new Wr,isCommonWorkflowUsingAlf:!1,isSpecificWorkflowUsingAlf:!1,specificWorkflow:new Hr,specificWorkflowBotName:"",specificWorkflowStep:new Wr},Xr={...I,...qr.d,...U,...B,...Vr,...Kr,...fe,..._e,...we,footerCategoryMap:{},inputValue:"",isBlockReplying:!1,isEmojiSelectorVisible:!1,chxBannerDisabled:!1,...ke,...Ae,...Re,fileIconInfo:{},...qe,...Xe,availableLanguages:[],countries:[],isI18nLoading:!1,...ht,shouldGetChannelOperations:!0,shouldGetDocumentWebsiteResources:!0,shouldGetFooterCategories:!0,shouldGetHome:!0,shouldInitializeHome:!0,shouldInitializeUserChatList:!0,shouldInitializeSetting:!0,...Ut,...Bt,mediumLinks:[],...Xt,...wt,...kn,...Bn,...Wn,...nr,...sr,...lr,...pr,...yr,...Lr,...Mr,...Dr,...Fr,...Yr};(0,r.MD)();const Qr=(0,o.U)()((0,s.n)((function(){return{...Xr,effects:Gr(...arguments)}})));c.setStore(Qr.getState);const eo=Qr,to=new Proxy({},{get:(e,t)=>Qr.getState().effects[t]})},53284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ps});var r={};n.r(r),n.d(r,{getCountry:()=>G,getLanguage:()=>q,getPopUpChatId:()=>X,getSystemLanguage:()=>V,getUser:()=>W,getUserAlert:()=>J,getUserAlertWithPlus:()=>K,getUserId:()=>j,getUserSubscriptions:()=>ee,getUserUnread:()=>Y,hasMobileNumber:()=>Q});var o={};n.r(o),n.d(o,{getAlfQuickPublishBotName:()=>te,getHideAlfNotice:()=>se,getIsAlfProcessing:()=>oe,getIsAlfQuickPublish:()=>ne,getWelcomeMessage:()=>re});var s={};n.r(s),n.d(s,{getCommandInputErrors:()=>de,getCommandInputParamError:()=>pe,getCommandInputParamValue:()=>ue,getCommandInputParamValues:()=>he,getCommandInputParams:()=>ce,getCommands:()=>ie,getSelectedCommand:()=>ae,isCommandMode:()=>le});var i={};n.r(i),n.d(i,{getSessionAlert:()=>be,getSessionById:()=>ve,getSessionUnread:()=>_e,getSessions:()=>fe,getShowSessionBadge:()=>ye,isEmptySession:()=>Ce});var a={};n.r(a),n.d(a,{getCurrentUserChatId:()=>Ie,getLastMessageById:()=>ke,getMainChat:()=>$e,getMainChatId:()=>Fe,getNext:()=>Se,getUserChat:()=>xe,getUserChatHandlingBot:()=>Be,getUserChatHandlingButtons:()=>ze,getUserChats:()=>Ze,hasMainChat:()=>He,hasUserChatHandling:()=>Le,hasUserChatLiveMeet:()=>De,isAssigned:()=>Ne,isUserChatAlf:()=>Me,isUserChatClosed:()=>Ae,isUserChatCollectingUserReply:()=>Pe,isUserChatInitialState:()=>Oe,isUserChatWaitingFollowup:()=>Te,sessionUnreadUserChats:()=>Ge,sessionUserChats:()=>je,sessionUserChatsCount:()=>qe,shouldHideMessengerInput:()=>Re,totalUnreadMessageCount:()=>Ve,userChatAssigneeId:()=>Ue});var l={};n.r(l),n.d(l,{getTeam:()=>Ke});var c={};n.r(c),n.d(c,{getBots:()=>Xe});var u={};n.r(u),n.d(u,{channelCoverColor:()=>ct,channelCoverImageUrl:()=>ut,channelDefaultBotProfile:()=>it,channelDescription:()=>et,channelHomepageUrl:()=>nt,channelLogoUrl:()=>tt,channelName:()=>Qe,channelPhoneNumber:()=>rt,channelProfileTheme:()=>at,channelTimeZone:()=>st,isChannelCoverBright:()=>lt,parsedPhoneNumber:()=>ot});var h={};n.r(h),n.d(h,{getCommonWorkflow:()=>ht,getCommonWorkflowStep:()=>dt,getProperBotProfile:()=>vt,getSpecificWorkflow:()=>pt,getSpecificWorkflowStep:()=>mt,getWorkflow:()=>gt,getWorkflowStep:()=>ft,isWorkflowUsingAlf:()=>bt});var d={};n.r(d),n.d(d,{blockReplyingTime:()=>Ft,expectedResponseDelay:()=>Ot,getChannelHolidays:()=>Mt,getChannelOperation:()=>At,isInOperation:()=>Pt,isMultiOperation:()=>It,isNewChatAvailable:()=>Bt,isNewManagedChatAvailable:()=>zt,isOperationTimeScheduling:()=>Rt,isResponseDelayed:()=>Dt,isSingleOperation:()=>kt,nextOperatingAt:()=>Nt,operationTimeRanges:()=>Lt,shouldShowOperatingDescription:()=>$t});var p={};n.r(p),n.d(p,{getMediumLinks:()=>Wt,hasPhoneNumberMediumLink:()=>jt});var m={};n.r(m),n.d(m,{getAppMessengers:()=>Gt,getDeepLinkUris:()=>qt,isHideAppMessenger:()=>Vt,shouldShowIntegrationCard:()=>Jt});var g={};n.r(g),n.d(g,{disableNewChat:()=>nn,disableNewChatButton:()=>tn,getChannel:()=>Yt,getChannelId:()=>Xt,getGreetingMessage:()=>rn,getSystemDomain:()=>en,getWelcomeMessage:()=>on,showOperatorProfile:()=>Qt});var f={};n.r(f),n.d(f,{getFooterCategory:()=>cn,getFooterCategoryMap:()=>ln,inputValue:()=>an,isBlockReplying:()=>sn,isEmojiSelectorVisible:()=>hn,isUserChatHasFooterInput:()=>un});var v={};n.r(v),n.d(v,{chxBannerDisabled:()=>gn,enableChxUserChatBinding:()=>pn,isAlreadyLinked:()=>mn});var b={};n.r(b),n.d(b,{getDocumentWebsiteResources:()=>fn});var _={};n.r(_),n.d(_,{getHasEmojiError:()=>bn,getIsEmojiLoading:()=>vn});var y={};n.r(y),n.d(y,{hasAPIError:()=>Zn,hasConstraintError:()=>_n,hasInvalidAccessError:()=>yn,hasNetworkError:()=>Cn,hasSessionJWTInvalidError:()=>wn,hasUnavailableServiceError:()=>En,hasUnclassifiedError:()=>Sn});var C={};n.r(C),n.d(C,{getDefaultMetadata:()=>Nn,getUserFeatureFlags:()=>Pn,getUserVariant:()=>Mn,isUserInvolved:()=>Rn});var w={};n.r(w),n.d(w,{getFileIconInfo:()=>Ln,getFileIconUrl:()=>Un,isFileIconInfoEmpty:()=>Dn});var E={};n.r(E),n.d(E,{getCurrentFileChunks:()=>Bn,getFileChunks:()=>zn});var S={};n.r(S),n.d(S,{canEditContact:()=>Gn,getEmailSchema:()=>Wn,getFollowupSchemaList:()=>$n,getMobileSchema:()=>Hn,getNameSchema:()=>jn});var Z={};n.r(Z),n.d(Z,{getAllTranslatableLanguages:()=>Xn,getAvailableLanguages:()=>Kn,getCountries:()=>tr,getCountriesByQuery:()=>rr,getCountriesByUser:()=>nr,getCurrentLanguage:()=>er,getIsI18nLoading:()=>Jn,getLanguageNameByCode:()=>Yn,getMessageTranslatableLanguages:()=>Qn});var I={};n.r(I),n.d(I,{getIsIdle:()=>or});var k={};n.r(k),n.d(k,{shouldGetChannelOperations:()=>lr,shouldGetDocumentWebsiteResources:()=>cr,shouldGetFooterCategories:()=>hr,shouldGetHome:()=>ar,shouldInitializeHome:()=>sr,shouldInitializeSetting:()=>ur,shouldInitializeUserChatList:()=>ir});var x={};n.r(x),n.d(x,{getAppInstagramPosts:()=>pr,getLoungeMediaTypes:()=>dr,isAppInstagramPostsEmpty:()=>mr});var T={};n.r(T),n.d(T,{getAvatarUrl:()=>Er,getManagerById:()=>yr,getManagerIds:()=>_r,getManagers:()=>vr,getName:()=>Sr,getOperators:()=>Ir,hasAvailableInfo:()=>Zr,isManagerEmpty:()=>Cr});var A={};n.r(A),n.d(A,{buttonType:()=>Rr,customImageUrl:()=>Pr,getPlugin:()=>Ar,getPluginMargin:()=>Mr,iconButton:()=>Nr,isBooted:()=>Tr,showIconButton:()=>Or});var M={};n.r(M),n.d(M,{getAppearance:()=>qr,getBodyCover:()=>to,getBodyCoverTimeoutId:()=>no,getKeyboardHeight:()=>Jr,getMessengerEdgeSize:()=>Qr,getMessengerSizeType:()=>Xr,getNotificationSoundMode:()=>Wr,getTranslationVisibility:()=>Hr,getTypingPersons:()=>$r,getVisibilityState:()=>Gr,getcurrentTabId:()=>jr,isAlfBannerCollapsed:()=>Yr,isKeyboardOpen:()=>Vr,isMessengerVisible:()=>Kr,shouldShowPoweredBy:()=>eo,showChannelButton:()=>Br,showMessenger:()=>Fr});var P={};n.r(P),n.d(P,{getDirection:()=>co,getEngagedAt:()=>po,getHasLiveMeet:()=>uo,getLiveMeetChatId:()=>io,getLiveMeetId:()=>so,getMeetRing:()=>mo,getMode:()=>ho,getRingAvatarUrl:()=>fo,getRingMeetId:()=>go,hasRing:()=>vo,isAudioMode:()=>ao,isFrontMeetEnabled:()=>_o,showRingPopup:()=>bo});var R={};n.r(R),n.d(R,{getHasMessageDeltas:()=>Mo,getImageMessages:()=>wo,getLanguageConversionMessageId:()=>To,getLastMessage:()=>Co,getMessageAuthor:()=>So,getMessageAuthorAvatarUrl:()=>Io,getMessageAuthorName:()=>ko,getMessageDeltaContent:()=>Ro,getMessageDeltaContentLength:()=>No,getMessageDeltas:()=>Ao,getMessages:()=>yo,getNext:()=>Eo,getThreadMessageContentWithDelta:()=>zo,getThreadMessagesByRootMessageId:()=>Uo,hasMessageDeltaContent:()=>Oo,isMessageAuthorAi:()=>xo,isMessageAuthorEmpty:()=>Zo,shouldRenderAgenticSearchProcessing:()=>Bo});var N={};n.r(N),n.d(N,{curPopupMsgId:()=>fs,getAlertLevel:()=>Vo,getBubbleInteracting:()=>qo,getFiles:()=>us,getForm:()=>is,getFormInputCount:()=>cs,getFormTitle:()=>ls,getMarketingPopupMessageImageLinkUrl:()=>Ko,getPopupMessage:()=>Jo,hasContent:()=>os,hasCustomForm:()=>as,hasLinkButton:()=>ns,hasPopupMessage:()=>Yo,hasPreview:()=>es,hasTextContents:()=>rs,hasVideoPreview:()=>ts,isFullscreen:()=>ss,isFullscreenPopupActive:()=>vs,popupType:()=>ps,popupUpdatedAt:()=>hs,popupUserChatId:()=>ds,showLabelBtn:()=>gs,showPopup:()=>ms});var O={};n.r(O),n.d(O,{getSocket$:()=>ys,getSocketReady$:()=>Cs,getSocketReadySubject:()=>ws,getSocketStatus:()=>bs,getSocketSubject:()=>_s});var L={};n.r(L),n.d(L,{icon:()=>ks,id:()=>Zs,message:()=>Is,showOfflineToast:()=>Es,showToast:()=>Ss});var U={};n.r(U),n.d(U,{getTranslationById:()=>xs});var D={};n.r(D),n.d(D,{getWamModalInstances:()=>Ts,isWamModalOpened:()=>As});var z={};n.r(z),n.d(z,{getAppWidgetInstallations:()=>Ms});var B={};n.r(B),n.d(B,{alfSelectors:()=>o,appCommandSelectors:()=>s,appMessengerSelectors:()=>m,botSelectors:()=>c,channelIOCallbackSelectors:()=>Kt,channelOperationSelectors:()=>d,channelProfileSelectors:()=>u,channelSelectors:()=>g,chatroomInputSelectors:()=>f,chxChatSelectors:()=>v,documentSelectors:()=>b,emojiSelectors:()=>_,errorSelectors:()=>y,experimentSelectors:()=>C,fileIconSelectors:()=>w,fileUploadSelectors:()=>E,followUpSelectors:()=>S,i18nSelectors:()=>Z,idleDetectorSelectors:()=>I,initializeSelectors:()=>k,loungeMediaSelectors:()=>x,managerSelectors:()=>T,mediumLinkSelectors:()=>p,meetSelectors:()=>P,messageSelectors:()=>R,pluginSelectors:()=>A,popupSelectors:()=>N,sessionSelectors:()=>i,socketSelectors:()=>O,teamSelectors:()=>l,toastSelectors:()=>L,translationSelectors:()=>U,uiSelectors:()=>M,userChatSelectors:()=>a,userSelectors:()=>r,wamModalSelectors:()=>D,widgetInstallationSelectors:()=>z,workflowSelectors:()=>h});var F=n(30633),$=n(70294),H=n(54225);const W=e=>e.user,j=e=>e.user.id,G=e=>e.user.country,q=e=>e.user.language,V=e=>e.user.systemLanguage,J=e=>e.user.alert,K=e=>e.user.alertWithPlus,Y=e=>e.user.unread,X=e=>e.user.popUpChatId,Q=e=>!!e.user.profile[H.Z.MobileNumber],ee=(0,F.P1)(W,(e=>({texting:e.unsubscribeTexting,email:e.unsubscribeEmail}))),te=e=>e.alfQuickPublishBotName,ne=e=>e.isAlfQuickPublish,re=(0,F.P1)(q,(e=>e.alfQuickPublishWelcomeMessage),(e=>e.alfQuickPublishWelcomeMessageI18nMap),((e,t,n)=>new $.Z(n[e]||t))),oe=e=>e.isAlfProcessing,se=(e,t)=>e.hideAlfNotice.has(t),ie=e=>e.commands,ae=(0,F.P1)([ie,e=>e.selectedCommandId],((e,t)=>e.find((e=>e.getId()===t))??null)),le=e=>!!e.selectedCommandId,ce=e=>e.commandInputParams,ue=(e,t)=>e.commandInputValues[t.name]??"",he=e=>e.commandInputValues,de=e=>e.commandInputErrors,pe=(e,t)=>e.commandInputErrors[t.name]||null;var me=n(67506),ge=n(68547);const fe=e=>e.sessions,ve=(0,F.P1)(fe,((e,t)=>t),((e,t)=>e.get(t)??ge.D)),be=(0,F.P1)(ve,(e=>e.alert)),_e=(0,F.P1)(ve,(e=>e.unread)),ye=(0,F.P1)(be,_e,((e,t)=>!(!e&&!t))),Ce=(0,F.P1)(ve,(e=>e.isEmpty()));var we=n(86548),Ee=n(6321);const Se=e=>e.nextUserChatId,Ze=(0,F.P1)((e=>e.userChats),(e=>e.values())),Ie=e=>e.paramUserChatId||e.enteredUserChatId,ke=(0,F.P1)((e=>e.lastMessages),((e,t)=>t),((e,t)=>e.get(t))),xe=(0,F.P1)(Ze,Ie,((e,t)=>t),((e,t,n)=>e.find((e=>e.id===(n||t)))??Ee.C)),Te=(0,F.P1)(xe,(e=>e.isWaitingFollowUp)),Ae=(0,F.P1)(xe,(e=>e.isClosed())),Me=(0,F.P1)(xe,(e=>e.isAlf)),Pe=(0,F.P1)(xe,(e=>e.isCollectingUserReply)),Re=(0,F.P1)(xe,(e=>e.shouldHideMessengerInput)),Ne=(0,F.P1)(xe,(e=>e.isAssigned())),Oe=(0,F.P1)(xe,(e=>e.isInitialState())),Le=(0,F.P1)(xe,(e=>e.hasHandling())),Ue=(0,F.P1)(xe,(e=>e.assigneeId)),De=(0,F.P1)(xe,(e=>!!e.liveMeetId)),ze=(0,F.P1)(xe,(e=>{var t;return null===(t=e.handling)||void 0===t?void 0:t.buttons})),Be=(0,F.P1)(q,xe,((e,t)=>{var n,r;if(null===(n=t.handling)||void 0===n||!n.bot)return null;const{name:o,nameDescI18nMap:s,avatarUrl:i}=t.handling.bot;return{name:(null==s||null===(r=s[e])||void 0===r?void 0:r.name)??o,avatarUrl:i}})),Fe=e=>e.user.mainChatId,$e=(0,F.P1)(Fe,(e=>e.userChats),((e,t)=>t.get(e)??Ee.C)),He=(0,F.P1)($e,(e=>!(null==e||!e.id))),We=(0,F.P1)((e=>e.unreadUserChats),(e=>e.values())),je=(0,F.P1)(Ze,fe,((e,t)=>e.filter((e=>e.frontMessageId)).filter((e=>{const n=t.get(e.id);return n&&!n.isEmpty()})).sort(((e,t)=>t.frontUpdatedAt-e.frontUpdatedAt)))),Ge=(0,F.P1)(((e,t)=>t),We,fe,Fe,((e,t,n,r)=>t.filter((e=>e.frontMessageId)).filter((e=>{const t=n.get(e.id);return t&&!t.isEmpty()})).filter((e=>e.id!==r)).filter((t=>e-t.frontUpdatedAt<30*we.s2)).filter((e=>{var t;return(null===(t=n.get(e.id))||void 0===t?void 0:t.unread)??0})).sort(((e,t)=>t.frontUpdatedAt-e.frontUpdatedAt)))),qe=(0,F.P1)(je,(e=>e.length)),Ve=e=>e.user.unread,Je=(0,F.P1)(xe,(e=>e.teamId)),Ke=(0,F.P1)(Je,(e=>e.teams),((e,t)=>t.get(e??"")));var Ye=n(929);const Xe=e=>e.bots,Qe=(0,F.P1)((e=>e.user.language),(e=>e.channel),((e,t)=>{var n,r;return(null===(n=t.nameDescI18nMap)||void 0===n||null===(r=n[e])||void 0===r?void 0:r.name)||t.name})),et=(0,F.P1)((e=>e.user.language),(e=>e.channel),((e,t)=>{var n,r;return(null===(n=t.nameDescI18nMap)||void 0===n||null===(r=n[e])||void 0===r?void 0:r.description)||t.description})),tt=e=>e.channel.avatarUrl||e.minimumChannelInfo.avatarUrl,nt=e=>e.channel.homepageUrl,rt=e=>e.channel.phoneNumber,ot=e=>e.phoneNumber,st=e=>e.channel.timeZone,it=e=>e.defaultBotProfile,at=(0,F.P1)((e=>e.channel),(e=>{let{brightness:t,color:n,gradientColor:r,borderColor:o,pluginIconColor:s}=e;return{brightness:t,color:n,gradientColor:r,borderColor:o,pluginIconColor:s}})),lt=e=>e.channel.coverImageBright,ct=e=>e.channel.coverImageColor,ut=e=>e.channel.coverImageUrl,ht=e=>e.commonWorkflow,dt=e=>e.commonWorkflowStep,pt=e=>e.specificWorkflow,mt=e=>e.specificWorkflowStep,gt=(0,F.P1)(ht,pt,((e,t)=>t.isEmpty()?e:t)),ft=(0,F.P1)(dt,mt,((e,t)=>t.isEmpty()?e:t)),vt=(0,F.P1)(it,(e=>e.commonWorkflowBotName),(e=>e.specificWorkflowBotName),te,Xe,((e,t,n,r,o)=>Object.values(o).find((e=>e.name===n))??Object.values(o).find((e=>e.name===r))??Object.values(o).find((e=>e.name===t))??e)),bt=(0,F.P1)((e=>e.isCommonWorkflowUsingAlf),(e=>e.isSpecificWorkflowUsingAlf),((e,t)=>t||e));var _t;!function(e){e.ACTIVE="active",e.DISABLED="disabled"}(_t||(_t={}));const yt=_t;var Ct=n(65047),wt=n(36355),Et=n(80577);const St=e=>e.channelOperations,Zt=(0,F.P1)(St,(e=>Array.from(e.values()).find((e=>e.defaultOperation))??Ct.t)),It=(0,F.P1)(St,(e=>e.size>1)),kt=(0,F.P1)(St,(e=>1===e.size)),xt=(0,F.P1)(St,(e=>!e.size)),Tt=(0,F.P1)(Ke,(e=>null==e?void 0:e.channelOperationId)),At=(0,F.P1)(Tt,St,Zt,((e,t,n)=>t.get(e??"")??n)),Mt=(0,F.P1)(At,(e=>function(e,t){const n=e.map((e=>e.date));return t&&n.unshift((0,we.jy)(Et.Z.getDate())),n.reduce(((e,t)=>{const n=e[e.length-1]??[];if(0===n.length)return e.push([t]),e;const r=(0,we.p1)(t),o=(0,we.p1)(n[n.length-1]);return 1===(0,we.I)(r,o)?n.push(t):e.push([t]),e}),[])}(e.holidays,e.todayHoliday).map((e=>({startDate:e[0],endDate:e.length>1?e[e.length-1]:void 0}))))),Pt=(0,F.P1)(At,(e=>e.tutorialMode),((e,t)=>e.inOperation||t)),Rt=(0,F.P1)(At,(e=>e.operationTimeScheduling)),Nt=(0,F.P1)(At,(e=>e.nextOperatingAt)),Ot=(0,F.P1)(At,(e=>e.expectedResponseDelay)),Lt=(0,F.P1)(At,(e=>e.operationTimeRanges)),Ut=(0,F.P1)(At,(e=>e.awayOption===yt.ACTIVE)),Dt=(0,F.P1)(Ot,(e=>e===wt.D.DELAYED)),zt=(0,F.P1)(Pt,Ut,((e,t)=>e||t)),Bt=(0,F.P1)(zt,gt,kt,((e,t,n)=>e||!t.isEmpty()||!n)),Ft=(0,F.P1)(xe,At,((e,t)=>e.closedAt+(t.blockReplyingAfterClosedTime?(0,me.Z)(t.blockReplyingAfterClosedTime):0))),$t=(0,F.P1)(xe,xt,It,((e,t,n)=>{var r;return!(t||(null===(r=e.handling)||void 0===r?void 0:r.type)===Ye.$.Alf||n&&null!==e.handling&&e.handling.type!==Ye.$.FollowUpMandatory)}));var Ht=n(99265);const Wt=e=>e.mediumLinks,jt=(0,F.P1)(Wt,(e=>e.some((e=>e.mediumType===Ht.E.PHONE)))),Gt=(0,F.P1)((e=>Object.values(e.appMessengers)),Wt,((e,t)=>e.filter((e=>!t.some((t=>t.name===e.name)))))),qt=e=>e.deeplinkUris,Vt=e=>e.channel.hideAppMessenger,Jt=(0,F.P1)(He,zt,Vt,Gt,Wt,rt,It,((e,t,n,r,o,s,i)=>!e&&(i||t)&&!n&&(o.length>0||r.length>0||!!s)));var Kt=n(69522);const Yt=e=>e.channel,Xt=e=>e.channel.id,Qt=e=>e.channel.showOperatorProfile,en=e=>e.channel.systemDomain||e.minimumChannelInfo.systemDomain,tn=e=>e.channel.disableNewChatButton,nn=(0,F.P1)(tn,He,((e,t)=>e&&t)),rn=(0,F.P1)(q,(e=>e.channel.welcomeMessage),(e=>e.channel.welcomeMessageI18nMap),((e,t,n)=>n[e]||t)),on=(0,F.P1)(rn,dt,mt,re,((e,t,n,r)=>n.isEmpty()?r.blocks.length?r:t.isEmpty()?new $.Z(e):new $.Z(t.message):new $.Z(n.message))),sn=e=>e.isBlockReplying,an=e=>e.inputValue,ln=e=>e.footerCategoryMap,cn=(0,F.P1)(xe,zt,Bt,sn,ln,((e,t,n,r,o)=>"determinedByFront"===e.footerCategory?e.isInitialState()?t?o.inputWithTypeMessage:o.blockedWithChatUnavailableMessage:r?n?o.blockedClosedChatWithNewChatButton:o.blockedClosedChatWithoutButton:o.inputWithTypeMessage:o[e.footerCategory])),un=(0,F.P1)(((e,t)=>cn(e,t)),(e=>"input"===(null==e?void 0:e.type))),hn=e=>e.isEmojiSelectorVisible;var dn=n(50022);const pn=e=>e.enableChxUserChatBinding,mn=(0,F.P1)(xe,(e=>!(0,dn.kK)(e.xerId))),gn=e=>e.chxBannerDisabled,fn=e=>e.documentWebsiteResources,vn=e=>e.isEmojiLoading,bn=e=>e.hasError,_n=e=>e.hasConstraintError,yn=e=>e.hasInvalidAccessError,Cn=e=>e.hasNetworkError,wn=e=>e.hasSessionJWTInvalidError,En=e=>e.hasUnavailableServiceError,Sn=e=>e.hasUnclassifiedError,Zn=(0,F.P1)(_n,yn,Cn,wn,En,Sn,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(Boolean)}));let In;!function(e){e.PromptButtonIcon="prompt-button"}(In||(In={}));const kn={type:In.PromptButtonIcon,bucketCount:1e4,defaultMetadata:e=>({isMember:e.user.memberId!==e.user.veilId}),variantWeight:{promptRight:.35,promptCenter:.35,defaultButton:.3},featureFlag:{promptRight:{buttonType:"promptRight"},promptCenter:{buttonType:"promptCenter"},defaultButton:{buttonType:"defaultButton"}},userInvolved:e=>"28"===e.plugin.id},xn={[In.PromptButtonIcon]:kn};var Tn=n(25848);const An=e=>xn[e],Mn=(0,F.P1)(((e,t)=>An(t)),W,((e,t)=>{let{type:n,bucketCount:r,variantWeight:o}=e;const s=(0,Tn.i4)(n),i=(0,Tn.q7)(t.id,s)%r;return(0,Tn.Wj)(o,r,i)})),Pn=(0,F.P1)(((e,t)=>An(t)),Mn,((e,t)=>e.featureFlag[t])),Rn=(0,F.P1)(((e,t)=>An(t)),(e=>e),((e,t)=>"boolean"==typeof e.userInvolved?e.userInvolved:e.userInvolved(t))),Nn=(0,F.P1)(((e,t)=>An(t)),(e=>e),((e,t)=>e.defaultMetadata&&e.defaultMetadata(t)));var On=n(87851);const Ln=e=>e.fileIconInfo,Un=(0,F.P1)(Ln,((e,t)=>t),(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:On.NF;return n}),((e,t,n)=>`${n}/asset/file-icon/images/${e[t]??"file"}@2x.png`)),Dn=(0,F.P1)(Ln,(e=>0===Object.keys(e).length)),zn=e=>e.fileChunks,Bn=(0,F.P1)(zn,Ie,((e,t)=>e.filter((e=>e.userChatId===t)).slice().sort(((e,t)=>e.isPending&&!t.isPending?1:!e.isPending&&t.isPending?-1:0))));var Fn=n(6335);const $n=e=>e.followUpSchemaList,Hn=(0,F.P1)($n,(e=>e.find((e=>e.key===Fn.p.MOBILE_NUMBER)))),Wn=(0,F.P1)($n,(e=>e.find((e=>e.key===Fn.p.EMAIL)))),jn=(0,F.P1)($n,(e=>e.find((e=>e.key===Fn.p.NAME)))),Gn=(0,F.P1)(Hn,Wn,W,((e,t,n)=>!(!e||n.isQualified(e))||!(!t||n.isQualified(t))));var qn=n(49038),Vn=n(94109);const Jn=e=>e.isI18nLoading,Kn=e=>e.availableLanguages,Yn=(0,F.P1)(Kn,((e,t)=>t),((e,t)=>{var n;return(null===(n=e.find((e=>e.code===t)))||void 0===n?void 0:n.localizedName)??null})),Xn=(0,F.P1)(Kn,(e=>e.filter((e=>(0,qn.Dn)(e.code))).sort(((e,t)=>(0,qn.Dn)(e.code)&&(0,qn.Dn)(t.code)?qn.iV.indexOf(e.code)-qn.iV.indexOf(t.code):0)))),Qn=(0,F.P1)(Kn,(e=>e.filter((e=>!(0,qn.Dn)(e.code))).sort(((e,t)=>e.code===(0,Vn.v0)()?-1:t.code===(0,Vn.v0)()?1:e.name<t.name?-1:e.name>t.name?1:0)))),er=(0,F.P1)(Kn,W,((e,t)=>{const n=e.find((e=>e.code===t.language));return(0,dn.kK)(n)?e.find((e=>e.code===t.systemLanguage)):n})),tr=e=>e.countries,nr=(0,F.P1)(tr,G,((e,t)=>{const n=e.findIndex((e=>e.code===t)),r=e.filter((e=>e.code!==t));return-1===n?r:[e[n],...r]})),rr=(0,F.P1)(nr,((e,t)=>t),((e,t)=>e.filter((e=>e.code.toLocaleLowerCase().includes(t.toLowerCase())||e.name.toLocaleLowerCase().includes(t.toLowerCase())||e.callingCode.toString().toLocaleLowerCase().includes(t.toLowerCase()))))),or=e=>e.isIdle,sr=e=>e.shouldInitializeHome,ir=e=>e.shouldInitializeUserChatList,ar=e=>e.shouldGetHome,lr=e=>e.shouldGetChannelOperations,cr=e=>e.shouldGetDocumentWebsiteResources,ur=e=>e.shouldInitializeSetting,hr=e=>e.shouldGetFooterCategories,dr=e=>e.loungeMediaTypes,pr=e=>e.appInstagramPosts,mr=e=>0===e.appInstagramPosts.length;var gr=n(60885),fr=n(80298);const vr=e=>e.managers,br=(0,F.P1)(vr,((e,t)=>t),((e,t)=>e[t])),_r=(0,F.P1)(vr,(e=>Object.keys(e))),yr=(0,F.P1)(vr,((e,t)=>t),((e,t)=>e[t]??fr.Y)),Cr=(0,F.P1)(vr,((e,t)=>t),((e,t)=>!e[t]||e[t].isEmpty())),wr=(0,F.P1)(yr,(e=>e.isEmpty()||e.displayAsChannel)),Er=(0,F.P1)(yr,wr,tt,((e,t,n)=>t?n:e.avatarUrl)),Sr=(0,F.P1)(yr,wr,q,V,Qe,((e,t,n,r,o)=>t?o:e.getName(n)||gr.Z.getTranslation(r,"ch.unknown"))),Zr=(0,F.P1)(br,q,((e,t)=>!!e&&e.hasInfo(t))),Ir=e=>e.operators;var kr=n(48575),xr=n(23295);const Tr=e=>e.isBooted,Ar=(0,F.P1)((e=>e.plugin),(e=>e)),Mr=(0,F.P1)(Ar,(e=>e.getMargin())),Pr=e=>e.plugin.customImageUrl,Rr=e=>e.plugin.buttonType,Nr=e=>e.plugin.iconButton,Or=(0,F.P1)(Ar,(e=>e.buttonType===xr.B.IconButton||e.buttonType===xr.B.Legacy&&!e.legacyImageUrl));var Lr=n(78882),Ur=n(59544),Dr=n(88513),zr=n(82667);const Br=e=>e.showChannelButton,Fr=e=>e.showMessenger,$r=(0,F.P1)((e=>e.managers),(e=>e.bots),(e=>e.typingManagers),Ie,((e,t,n,r)=>Array.from(n.values()).filter((e=>{let{chatId:t}=e;return t===r})).map((n=>{const r=n.personId;switch(n.personType){case Lr.Z.Manager:return e[r]??fr.Y;case Lr.Z.Bot:return t[r]??kr.V;default:return kr.V}})))),Hr=e=>e.translationVisibility,Wr=e=>e.notificationSoundMode,jr=e=>e.currentTabId,Gr=e=>e.visibilityState,qr=e=>(0,Vn.$W)()?Dr.u.LIGHT:e.appearance??e.plugin.appearance,Vr=e=>e.isKeyboardOpen,Jr=e=>e.keyboardHeight,Kr=(0,F.P1)(Fr,Gr,((e,t)=>e&&t===Ur.Z.VISIBLE)),Yr=(e,t)=>e.collapseAlfBanner.has(t),Xr=e=>e.messengerSizeType,Qr=(0,F.P1)(Mr,(e=>{let{marginY:t,marginX:n}=e;return{width:n+20,height:t+zr.HN+zr.P8+20}})),eo=e=>!e.whiteLabelFeature,to=e=>e.bodyCover,no=e=>e.bodyCoverTimeoutId;var ro=n(44873);const oo=e=>e.liveMeet,so=(0,F.P1)(oo,(e=>e.id)),io=(0,F.P1)(oo,(e=>e.chatId)),ao=(0,F.P1)(oo,(e=>e.mode===ro.Z.AUDIO)),lo=(0,F.P1)(oo,(e=>e.front)),co=(0,F.P1)(lo,(e=>null==e?void 0:e.direction)),uo=(0,F.P1)(oo,(e=>!e.isEmpty)),ho=(0,F.P1)(oo,(e=>null==e?void 0:e.mode)),po=(0,F.P1)(lo,(e=>null==e?void 0:e.engagedAt)),mo=e=>e.meetRing,go=(0,F.P1)(mo,(e=>null==e?void 0:e.meetId)),fo=(0,F.P1)(mo,(e=>null==e?void 0:e.titleAvatarUrl)),vo=(0,F.P1)(mo,(e=>!(0,dn.kK)(e))),bo=(0,F.P1)(vo,Fr,((e,t)=>e&&!t)),_o=e=>e.enableFrontMeet,yo=(0,F.P1)((e=>e.messages),(e=>e.values().sort(((e,t)=>e.isSending()!==t.isSending()?e.isSending()?1:-1:e.createdAt-t.createdAt)))),Co=(0,F.P1)(yo,(e=>e.slice(-1)[0])),wo=(0,F.P1)(yo,(e=>e.filter((e=>e.files.some((e=>e.isImageFile())))))),Eo=e=>e.nextMessageId,So=(0,F.P1)((e=>e.managers),(e=>e.bots),(e=>e.user),((e,t)=>t),((e,t,n)=>n),((e,t,n,r,o)=>{switch(r){case Lr.Z.Manager:return e[o]??fr.Y;case Lr.Z.Bot:return t[o]??kr.V;default:return n}})),Zo=(0,F.P1)(So,(e=>e.isEmpty())),Io=(0,F.P1)(So,(e=>e.avatarUrl)),ko=(0,F.P1)(So,q,((e,t)=>e.getName(t))),xo=(0,F.P1)(So,(e=>"ai"in e&&e.ai)),To=e=>e.languageConversionMessageId,Ao=e=>e.messageDeltas,Mo=(0,F.P1)(Ao,((e,t)=>t),((e,t)=>!!e.get(t))),Po=(0,F.P1)(Ao,((e,t)=>t??""),((e,t)=>e.get(t)??dn.HY.Array)),Ro=(0,F.P1)(Po,(e=>{let t=0,n="";for(const r of e)if(r.index===t)n+=r.value||"",t+=1;else if(r.index>t)break;return n})),No=(0,F.P1)(Po,(e=>e.length)),Oo=(0,F.P1)(Po,(e=>e.length>0)),Lo=e=>e.threadMessageMap,Uo=(0,F.P1)(Lo,((e,t)=>t),((e,t)=>{var n;return(null===(n=e.get(t))||void 0===n?void 0:n.values().sort(((e,t)=>e.createdAt-t.createdAt)))??dn.HY.Array})),Do=(0,F.P1)(Lo,((e,t)=>t??""),((e,t,n)=>n??""),((e,t,n)=>{var r;return null===(r=e.get(n))||void 0===r?void 0:r.get(t)})),zo=(0,F.P1)(Do,Ro,((e,t)=>{var n;return(null==e||null===(n=e.alfProgress)||void 0===n?void 0:n.plainText)||t})),Bo=(0,F.P1)(((e,t,n)=>n),Uo,((e,t)=>{const n=t[t.length-1];return Boolean(e.alfThread&&!e.alfThread.completed&&n)}));var Fo=n(76438),$o=n(14906),Ho=n(16758),Wo=n(35354),jo=n(23414);const Go=e=>e.popupUserChat,qo=e=>e.isBubbleInteracting,Vo=e=>e.alertLevel,Jo=e=>e.popupMessage,Ko=(0,F.P1)(Jo,(e=>{var t;return null===(t=e.marketing)||void 0===t?void 0:t.imageLinkUrl})),Yo=(0,F.P1)(Jo,(e=>!e.isEmpty())),Xo=e=>(e=>e.files.some((e=>e.isPreviewable())))(e)||(e=>{var t;return e.hasWebPage()&&!(0,dn.kK)(null===(t=e.webPage)||void 0===t?void 0:t.getPreviewThumbUrl())})(e),Qo=e=>e.hasBlocks()||!Xo(e)&&(e.hasFile()||e.hasWebPage())||!!e.meet,es=(0,F.P1)(Jo,(e=>Xo(e))),ts=(0,F.P1)(Jo,(e=>e.files.find((e=>e.type===Ho.Z.Video&&(0,jo.ND)(e.contentType))))),ns=e=>e.popupMessage.hasButton,rs=(0,F.P1)(Jo,(e=>Qo(e))),os=(0,F.P1)(Jo,ns,((e,t)=>Xo(e)||Qo(e)||t)),ss=(0,F.P1)(Jo,(e=>!!e.marketing&&e.marketing.exposureType===$o.O.FullScreen)),is=(0,F.P1)(Jo,(e=>e.form)),as=(0,F.P1)(Jo,(e=>{var t;return null===(t=e.form)||void 0===t?void 0:t.isCustomForm()})),ls=(0,F.P1)(Jo,(e=>{var t,n,r;return(null===(t=e.form)||void 0===t||null===(n=t.inputs)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.label)??""})),cs=(0,F.P1)(Jo,(e=>{var t,n;return(null===(t=e.form)||void 0===t||null===(n=t.inputs)||void 0===n?void 0:n.length)??0})),us=(0,F.P1)(Jo,(e=>e.files)),hs=(0,F.P1)(Go,(e=>e.frontUpdatedAt)),ds=(0,F.P1)(Go,(e=>e.id)),ps=(0,F.P1)((e=>e.popupType),vo,((e,t)=>t?Wo.k.MeetRing:e)),ms=(0,F.P1)((e=>e.showMessenger),(e=>e.active),ps,((e,t,n)=>!e&&(n===Wo.k.MeetRing||(!Fo.Z.getHidePopup()||n===Wo.k.LabelButton)&&t))),gs=(0,F.P1)(ps,ms,((e,t)=>e===Wo.k.LabelButton&&t)),fs=(0,F.P1)(Jo,(e=>e.id)),vs=(0,F.P1)(ss,ms,((e,t)=>e&&t)),bs=e=>e.socketStatus,_s=e=>e.socketSubject,ys=e=>e.socket$,Cs=e=>e.socketReady$,ws=e=>e.socketReadySubject,Es=e=>e.showOfflineToast,Ss=e=>e.showToast,Zs=e=>e.toastId,Is=e=>e.toastMessage,ks=e=>e.toastIcon,xs=(0,F.P1)((e=>e.translations),((e,t)=>t),((e,t)=>e.get(t))),Ts=(0,F.P1)((e=>e.instances),(e=>e)),As=(0,F.P1)(Ts,(e=>e.length>0)),Ms=e=>e.appWidgetInstallations,Ps=B},95611:(e,t,n)=>{"use strict";n.d(t,{JF:()=>H,tP:()=>W,wG:()=>j});var r,o=n(60146),s=n(63627),i=n(4917),a=n(38794),l=n(6989),c=n(25375),u=n(83969),h=n(59516),d=n(12914),p=n(86582),m=n(60489),g=n(42972),f=n(53212),v=n(76438),b=n(11599),_=n(24821),y=n(2685),C=n(52485),w=n(18204),E=n(10201),S=n(33275),Z=n(80577),I=n(60885),k=n(28961),x=n(80070),T=n(3957),A=n(34903),M=n(58078),P=n(50022),R=n(9967);const N="data-ch-viewport",O="width=device-width, initial-scale=1.0",L="width=980",U=new(r=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,x.Z)(this,"_WebAPIService",null),(0,x.Z)(this,"chMetaTagAppended",!1),(0,x.Z)(this,"chMetaTagApplied",!1),(0,x.Z)(this,"prevContent",null),Object.keys(e).forEach((t=>{(0,M.e$)(this,t)&&(this[t]=e[t])}))}init(){this.chMetaTagAppended=!1,this.chMetaTagApplied=!1,this.prevContent=null}isValidContent(e){return(0,P.HD)(e)&&""!==e}appendChMetaTag(){var e;const t=null===(e=this._WebAPIService)||void 0===e?void 0:e.topmostDocument;if(!t)return;const n=t.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content",O),n.setAttribute(N,""),t.head.appendChild(n)}appendDefaultMetaTag(){var e;const t=null===(e=this._WebAPIService)||void 0===e?void 0:e.topmostDocument;if(!t)return;const n=t.createElement("meta");n.setAttribute("id","ch-default-viewport"),n.setAttribute("name","viewport"),n.setAttribute("content",L),t.head.appendChild(n)}replace(){var e;if(this.chMetaTagApplied)return;const t=null===(e=this._WebAPIService)||void 0===e?void 0:e.topmostDocument;if(!t)return;const n=t.querySelectorAll('meta[name="viewport"]');if(!n.length)return this.appendChMetaTag(),this.chMetaTagAppended=!0,void(this.chMetaTagApplied=!0);const r=n.item(n.length-1),o=r.getAttribute("content");var s;this.isValidContent(o)&&(this.prevContent=o),r.setAttribute("content",(s=o)?s.split(",").map((e=>{const t=e.trim();return t.startsWith("width")?"width=device-width":t.startsWith("initial-scale")?"initial-scale=1.0":t})).join(", "):O),r.setAttribute(N,""),this.chMetaTagApplied=!0}restore(){var e;const t=null===(e=this._WebAPIService)||void 0===e?void 0:e.topmostDocument;if(!t)return;const n=t.querySelector(`meta[${N}]`);if(n){if(this.chMetaTagAppended)return null!=n&&n.parentNode&&n.parentNode.removeChild(n),this.appendDefaultMetaTag(),void this.init();n.removeAttribute(N),this.isValidContent(this.prevContent)?n.setAttribute("content",this.prevContent):n.setAttribute("content",L),this.init()}else this.init()}_set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((t=>{(0,M.e$)(this,t)&&(this[t]=e[t])}))}},(0,T.Z)(r.prototype,"init",[A.Z],Object.getOwnPropertyDescriptor(r.prototype,"init"),r.prototype),(0,T.Z)(r.prototype,"isValidContent",[A.Z],Object.getOwnPropertyDescriptor(r.prototype,"isValidContent"),r.prototype),(0,T.Z)(r.prototype,"appendChMetaTag",[A.Z],Object.getOwnPropertyDescriptor(r.prototype,"appendChMetaTag"),r.prototype),(0,T.Z)(r.prototype,"appendDefaultMetaTag",[A.Z],Object.getOwnPropertyDescriptor(r.prototype,"appendDefaultMetaTag"),r.prototype),(0,T.Z)(r.prototype,"replace",[A.Z],Object.getOwnPropertyDescriptor(r.prototype,"replace"),r.prototype),(0,T.Z)(r.prototype,"restore",[A.Z],Object.getOwnPropertyDescriptor(r.prototype,"restore"),r.prototype),(0,T.Z)(r.prototype,"_set",[A.Z],Object.getOwnPropertyDescriptor(r.prototype,"_set"),r.prototype),r)({_WebAPIService:R.Z});var D=n(94109);const z={AuthStorageService:p.ZP,BodyScrollLockService:m.Z,ChSettings:v.Z,UserAgentService:k.Z,ViewportService:U,WebAPIService:R.Z,isStandalone:D.$W,isApp:D.N0,client:h.Z,document,window,ChSessionStorage:f.Z,TranslateService:I.Z,HistoryService:E.Z,DraftMessageService:C.Z,DraftCommandService:_.Z,DraftFormService:y.Z,AccessTokenService:d.Z,ChLocalStorage:g.Z,NotificationSoundService:S.Z,EmojiService:w.Z,TimeService:Z.Z,ChannelQueryParamService:b.Z},B=new o.x,F=B.asObservable();function $(e,t,n){return e}const H=e=>(t,n)=>{let r=!1,o=null;return{run:function(h){o??=$(n(z)),r||(r=!0,F.pipe((0,s.h)((0,u.isOfType)(t)),(0,i.U)((e=>e.payload)),o,(0,a.X)(),(0,l.R)(e().shutdown$.pipe((0,s.h)((()=>"initializeCommandLauncher"!==t)))),(0,c.r)({delay:()=>e().bootStart$.pipe((0,s.h)((()=>"initializeCommandLauncher"!==t)))})).subscribe()),B.next({type:t,payload:h})},get pipe(){return o??=$(n(z)),o},getPipe:n}};function W(e){return e}function j(e,t){let{_client:n,_document:r}=t;e.language&&n.setLanguage(e.language),r.documentElement.setAttribute("lang",e.systemLanguage)}},79845:(e,t,n)=>{"use strict";n.d(t,{FH:()=>a,ZT:()=>E,v7:()=>l});var r=n(96940),o=n(28961);const{isMobile:s}=o.Z;var i;let a;!function(e){e[e.Typo11=1.1]="Typo11",e[e.Typo12=1.2]="Typo12",e[e.Typo13=1.3]="Typo13",e[e.Typo14=1.4]="Typo14",e[e.Typo15=1.5]="Typo15",e[e.Typo16=1.6]="Typo16",e[e.Typo17=1.7]="Typo17",e[e.Typo18=1.8]="Typo18"}(i||(i={})),function(e){e[e.Lh16=1.6]="Lh16",e[e.Lh18=1.8]="Lh18",e[e.Lh20=2]="Lh20",e[e.Lh22=2.2]="Lh22",e[e.Lh24=2.4]="Lh24"}(a||(a={}));const l=s?10.5:10,c=(0,r.iv)(["font-size:","rem;line-height:","rem;"],i.Typo11,a.Lh16),u=(0,r.iv)(["font-size:","rem;line-height:","rem;"],i.Typo12,a.Lh16),h=(0,r.iv)(["font-size:","rem;line-height:","rem;"],i.Typo13,a.Lh18),d=(0,r.iv)(["font-size:","rem;line-height:","rem;"],i.Typo14,a.Lh18),p=(0,r.iv)(["font-size:","rem;line-height:","rem;letter-spacing:-0.1px;"],i.Typo15,a.Lh20),m=(0,r.iv)(["font-size:","rem;line-height:","rem;letter-spacing:-0.1px;"],i.Typo16,a.Lh24),g=(0,r.iv)(["font-size:","rem;line-height:","rem;"],i.Typo18,a.Lh24),f=(0,r.iv)(["font-size:","px;line-height:","px;"],i.Typo11*l,a.Lh16*l),v=(0,r.iv)(["font-size:","px;line-height:","px;"],i.Typo12*l,a.Lh16*l),b=(0,r.iv)(["font-size:","px;line-height:","px;"],i.Typo13*l,a.Lh18*l),_=(0,r.iv)(["font-size:","px;line-height:","px;"],i.Typo14*l,a.Lh18*l),y=(0,r.iv)(["font-size:","px;line-height:","px;letter-spacing:-0.1px;"],i.Typo15*l,a.Lh20*l),C=(0,r.iv)(["font-size:","px;line-height:","px;letter-spacing:-0.1px;"],i.Typo16*l,a.Lh24*l),w=(0,r.iv)(["font-size:","px;line-height:","px;letter-spacing:-0.1px;"],i.Typo17*l,a.Lh24*l),E={RemSize18:g,RemSize16:m,RemSize15:p,RemSize14:d,RemSize13:h,RemSize12:u,RemSize11:c,PxSize18:(0,r.iv)(["font-size:","px;line-height:","px;"],i.Typo18*l,a.Lh24*l),PxSize17:w,PxSize16:C,PxSize15:y,PxSize14:_,PxSize13:b,PxSize12:v,PxSize11:f}},50056:(e,t,n)=>{"use strict";n.d(t,{G5:()=>k,K6:()=>f,Ks:()=>y,LH:()=>b,Nx:()=>I,SE:()=>E,Vz:()=>Z,aN:()=>S,lv:()=>g,sK:()=>v,y$:()=>_});var r=n(96940),o=n(40068),s=n(28961),i=n(34445),a=n(53284),l=n(50022),c=n(79845);const{isWindows:u,isFirefox:h,isWhale:d,isMac:p}=s.Z,m=u&&!h&&!d||p;function g(e){return m?e-6:e}function f(){return m?"calc(100% + 6px)":"100%"}const v=800;function b(e,t,n){return(0,l.kK)(e)?(0,r.iv)(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]):(0,l.kK)(t)?(console.warn("remNumber required"),(0,r.iv)([""])):"px"===n?function(e,t){return(0,r.iv)(["overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;line-height:","px;text-overflow:ellipsis;-webkit-line-clamp:",";"],t*c.v7,e)}(e,t):function(e,t){return(0,r.iv)(["overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;line-height:","rem;text-overflow:ellipsis;-webkit-line-clamp:",";"],t,e)}(e,t)}const _=()=>(0,r.iv)(["scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}"]),y=()=>(0,r.iv)(["",""],m&&(0,r.iv)(["&::-webkit-scrollbar{width:","px;}&::-webkit-scrollbar-thumb{height:30px;background-color:transparent;background-clip:padding-box;border:2px solid transparent;border-radius:10px;&:hover{background-color:",";}}&:hover{&::-webkit-scrollbar-thumb{background-color:",";}}"],6,(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]}),(e=>{let{foundation:t}=e;return null==t?void 0:t.theme["txt-black-dark"]}))),C=(0,o.F4)(["from{opacity:0.01;}to{opacity:1;}"]),w=(0,o.F4)(["from{opacity:0.01;transform:translateY(6px);}to{opacity:1;transform:translateY(0);}"]),E=e=>()=>(0,r.iv)(["opacity:0.01;"," animation-name:",";animation-duration:","ms;animation-timing-function:cubic-bezier(0.3,0,0,1);animation-fill-mode:forwards;"],e&&(0,r.iv)(["transform:translateY(6px);"]),e?w:C,v),S=()=>(0,r.iv)(["position:relative;&::after{content:'';position:absolute;top:0;bottom:0;left:0;width:1px;height:calc(100% + 1px);}"]),Z=e=>e&&(0,r.iv)(["background-image:url(",");background-repeat:no-repeat;background-position:center;background-size:cover;"],e),I=e=>e&&(0,r.iv)(["background-image:url(",");"],e),k=e=>{let{ext:t}=e;return a.Z.fileIconSelectors.getFileIconUrl(i.Z.getState(),t)}},10824:(e,t,n)=>{"use strict";let r;n.d(t,{U:()=>r}),function(e){e.Command="command",e.Message="message",e.Wam="wam",e.Web="web"}(r||(r={}))},88513:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,u:()=>o});var r=n(50022);const o={LIGHT:"light",DARK:"dark",SYSTEM:"system"};function s(e){return(0,r.HD)(e)&&Object.values(o).includes(e)||null===e}},35696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(80070),o=n(50022);const s=/^(([a-z][a-zA-Z0-9+-.]+):\/\/|tel:|mailto:|javascript:)?(([^:/?#]*)(?::([0-9]+))?)(\/?[^?#]*)(\?[^#]*|)(#.*|)$/,i=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,a=/^(([a-zA-Z0-9-]|[a-zA-Z0-9-][a-zA-Z0-9--_]*[a-zA-Z0-9-])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-_]*[A-Za-z0-9])$/,l=/^localhost$/i,c=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/,u=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-./0-9]*$/,h=/\W+$/;function d(e){return e&&!(0,o.xb)(e)?e:null}class p{static isValid(e){return new p(e,{strict:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}).valid()}get protocol(){var e;return(null===(e=this._protocol)||void 0===e?void 0:e.replace(h,""))||null}constructor(e,t){if((0,r.Z)(this,"src",void 0),(0,r.Z)(this,"config",void 0),(0,r.Z)(this,"_protocol",null),(0,r.Z)(this,"host",null),(0,r.Z)(this,"port",null),(0,r.Z)(this,"path",null),this.src=e||"",this.config=t||{},this.src){const e=this.src.match(s);e&&!(0,o.xb)(e)&&(this._protocol=d((null==e?void 0:e[1])??null),this.host=d((null==e?void 0:e[4])??null),this.port=d((null==e?void 0:e[5])??null),this.path=d(e.slice(6,9).map(d).join("")))}}isEmpty(){return(0,o.xb)(this.host)}isJavascript(){return"javascript"===(this.protocol||"").toLowerCase()||(this.host||"").startsWith("javascript:")}isObjectURL(){return"blob"===(this.protocol||"").toLowerCase()||(this.host||"").startsWith("blob:")}isLocalhost(){return!this.isEmpty()&&!!this.host.match(l)}validHost(){return!(this.isEmpty()||((this._protocol||"").startsWith("tel")?!this.host.match(u):(this._protocol||"").startsWith("mailto")?!this.host.match(c):!this.host.match(i)&&!this.host.match(a)&&!this.host.match(l)))}valid(){var e,t;return!this.isEmpty()&&!(!(null===(e=this.config)||void 0===e?void 0:e.allowJavascript)&&this.isJavascript())&&((null===(t=this.config)||void 0===t?void 0:t.strict)?!(0,o.xb)(this.protocol)&&this.validHost()&&(!!(0,o.xb)(this.port)||!!this.port.match(/[1-9]\d{1,2}/)):this.validHost())}getFullUrl(){var e;return(null===(e=this.config)||void 0===e?void 0:e.allowJavascript)&&this.isJavascript()?this.src:this.valid()?[(()=>{var e;const t=(null===(e=this.config)||void 0===e?void 0:e.preferredProtocol)??"http";return(0,o.xb)(this._protocol)?`${t}://`:this._protocol})(),this.host,(0,o.xb)(this.port)?"":`:${this.port}`,d(this.path)].join(""):""}decodeValidateURI(e){try{return decodeURI(this.src||e||"")}catch(t){return this.src||e||""}}}},94785:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});const r=e=>Boolean(e);function o(e){return e.filter(r)}},13635:(e,t,n)=>{"use strict";n.d(t,{Pt:()=>a,iF:()=>i,jW:()=>s});var r=n(90511),o=n(87851);const s=(e,t)=>`${r.f}${e}.${t}`,i=e=>`${r.o}${e}.png`,a=e=>`${o.Ss}/icons/${e}.svg`},86548:(e,t,n)=>{"use strict";n.d(t,{$O:()=>A,BT:()=>C,FB:()=>k,I:()=>Z,J1:()=>b,LU:()=>U,Ns:()=>R,Q8:()=>g,US:()=>v,WT:()=>l,Ym:()=>L,al:()=>N,cl:()=>E,dV:()=>u,gi:()=>x,ji:()=>y,jy:()=>P,lp:()=>w,p1:()=>T,s2:()=>h,sG:()=>M,xG:()=>I});var r=n(80577),o=n(15405),s=n(49038),i=n(27224),a=n(42474);const l=1e3,c=60*l,u=60*c,h=24*u,d=7*h;function p(e,t){return new Date(e).getFullYear()===new Date(t).getFullYear()}function m(e,t){return function(e,t){return p(e,t)&&new Date(e).getMonth()===new Date(t).getMonth()}(e,t)&&new Date(e).getDate()===new Date(t).getDate()}function g(e,t){return function(e,t){return m(e,t)&&new Date(e).getHours()===new Date(t).getHours()}(e,t)&&new Date(e).getMinutes()===new Date(t).getMinutes()}function f(e){return`${e}`.padStart(2,"0")}function v(e){const t=new Date(e),n=t.getHours();return`${n>12?n-12:n}:${f(t.getMinutes())} ${n>=12?"PM":"AM"}`}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.ZP.KO;return new Intl.DateTimeFormat(t,{hour:t===s.ZP.JA?"2-digit":"numeric",minute:"numeric"}).format(e)}function _(e,t){return Intl.DateTimeFormat(t,{month:"long",day:"numeric"}).format(e)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.ZP.KO;return Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric"}).format(e)}function C(e,t){const n=b(e,t);return`${y(e,t)} ${n}`}function w(e,t,n){return t===a.Z.Datetime?C(new Date(e),n):t===a.Z.Date?y(new Date(e),n):e.toString()}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Z.getDate().getTime();const o=n-t;if(o<c)return e("ch.relative_time.now");if(o<u)return e("ch.relative_time.minute",Math.floor(o/c));if(o<h)return e("ch.relative_time.hour",Math.floor(o/u));if(o<d)return e("ch.relative_time.day",Math.floor(o/h));const s=new Date(t),i=f(s.getMonth()+1),a=f(s.getDate());return p(t,n)?`${i}-${a}`:`${s.getFullYear()}-${i}-${a}`}function S(e){const t=new Date(e);return t.setHours(0,0,0,0),t.getTime()}function Z(e,t){let n=e,r=t;return n instanceof Date&&(n=n.getTime()),r instanceof Date&&(r=r.getTime()),n=S(n),r=S(r),Math.floor(Math.abs(n-r)/h)}function I(e){const t=new Date(e),n=`${t.getFullYear()}`,r=f(t.getMonth()+1),o=f(t.getDate());return`${v(e)}, ${n}/${r}/${o}`}function k(e){if(!/^\d{4}-\d{1,2}-\d{1,2}$/.test(e))return!1;const t=e.split("-"),n=parseInt(t[0],10),r=parseInt(t[1],10),o=parseInt(t[2],10);if(n<1e3||n>3e3||0===r||r>12)return!1;const s=[31,28,31,30,31,30,31,31,30,31,30,31];return(n%400==0||n%100!=0&&n%4==0)&&(s[1]=29),o>0&&o<=s[r-1]}function x(e){return/^([01]?[0-9]|2[0-3]):[0-5]?[0-9]$/.test(e)}function T(e){const t=e.split("-"),n=parseInt(t[0],10),r=parseInt(t[1],10)-1,o=parseInt(t[2],10),s=new Date;return s.setFullYear(n,r,o),s}function A(e){const t=e.split(":"),n=parseInt(t[0],10),r=parseInt(t[1],10);return new o.Z(n,r)}function M(e){const t=e.split(/[^0-9]/).map(Number);return t.length<5?((0,i.fF)(" dateTimeString format. yyyy-MM-ddTHH:mm(   )  .   : ",e),null):new Date(t[0],t[1]-1,t[2],t[3],t[4])}function P(e){return`${e.getFullYear()}-${f(e.getMonth()+1)}-${f(e.getDate())}`}function R(e){return`${P(e)}T${new o.Z(e.getHours(),e.getMinutes()).toString()}`}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z.getDate();const t=e.getFullYear(),n=f(e.getMonth()+1),o=f(e.getDate()),s=f(e.getHours()),i=f(e.getMinutes()),a=f(e.getSeconds());return`${t}-${n}-${o} ${s}:${i}:${a}`}const O=["ch.day_of_week.sun","ch.day_of_week.mon","ch.day_of_week.tue","ch.day_of_week.wed","ch.day_of_week.thu","ch.day_of_week.fri","ch.day_of_week.sat"];function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.ZP.KO,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Z.getDate().getTime();const i=b(e,t);if(m(e,o))return i;const a=m(e,o+h);if(a)switch(t){case s.ZP.JA:return`${n("ch.tomorrow")}${i}`;case s.ZP.KO:case s.ZP.EN:default:return`${n("ch.tomorrow")} ${i}`}const l=Z(e,o)<7;if(l){const r=new Date(e),o=n(O[r.getDay()]);switch(t){case s.ZP.KO:return`${o} ${i}`;case s.ZP.JA:return`${o}${i}`;case s.ZP.EN:default:return`${o}, ${i}`}}return p(e,o)?_(new Date(e),t):y(new Date(e),t)}function U(e){const t=Math.floor(e/u),n=Math.floor(e%u/c),r=Math.floor(e%c/l),o=[];return t>0&&o.push(`${t}`.padStart(2,"0")),o.push(`${n}`.padStart(2,"0")),o.push(`${r}`.padStart(2,"0")),o.join(":")}},27224:(e,t,n)=>{"use strict";function r(){}function o(){}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console&&console.warn?console.warn.apply(console,t):console&&console.log&&console.log.apply(console,t)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Callback";return function(){try{e(...arguments)}catch(e){s(`[${t}] failed:`,e)}}}function a(e,t){return t?`Warning: ${e} API is deprecated and will be removed in a future release. Consider using ${t} callback instead. See https://developers.channel.io/docs/web-channelio#${t.toLowerCase()} for more information.`:`Warning: ${e} API is deprecated and will be removed in a future release. `}function l(e){}function c(){const e=document.createElement("script");e.src="//cdn.jsdelivr.net/npm/eruda",document.body.appendChild(e),e.onload=()=>{var e,t;null===(e=window.eruda)||void 0===e||e.init(),null===(t=window.eruda)||void 0===t||t.position({x:200,y:20})}}n.d(t,{Yo:()=>c,c4:()=>a,fF:()=>r,fM:()=>i,ji:()=>l,vU:()=>o,wN:()=>s})},39156:(e,t,n)=>{"use strict";n.d(t,{ID:()=>d,JQ:()=>a,Rn:()=>l,Sv:()=>h,UW:()=>c,hr:()=>u,oE:()=>p,zo:()=>m});var r=n(28961),o=n(9967),s=n(94109),i=n(86548);function a(e){const t=Array.from(e.clipboardData.items||[]).filter((e=>"file"===e.kind)),n=[];for(const e of t){const t=e.getAsFile();if(t&&t.size>0){const r=e.type.split("/").pop(),o=t.name??`${(0,i.al)()}.${r}`;n.push(new File([t],o,{type:e.type}))}}return n}function l(e){return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}function c(e){e.stopPropagation()}const u="download-target";function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.al)();const n=document.createElement("a");n.href=e,n.rel="noopener noreferrer",n.download=t;const{isAppleTouchableDevice:o,isNaverInAppBrowser:s,isFirefox:a}=r.Z;n.target=o&&(s||a)?"_blank":u,n.click()}function d(e){return(0,s.$W)()?`/user-chats/${e}`:"#none"}function p(){const e=o.Z.chPluginScriptElement;e&&e.classList.remove("ch-messenger-hidden")}function m(){const e=o.Z.chPluginScriptElement;e&&e.classList.add("ch-messenger-hidden")}},94109:(e,t,n)=>{"use strict";n.d(t,{$W:()=>c,A4:()=>g,N0:()=>l,Um:()=>m,ej:()=>h,v:()=>d,v0:()=>p,yG:()=>u});var r=n(28961),o=n(53288),s=n(50022),i=n(50655);const{isMobile:a}=r.Z,l=()=>!0,c=()=>!1,u=()=>!1,h=e=>{const t=`; ${document.cookie}`.split(`; ${e}=`);return t.length>=2?t.pop().split(";").shift():null},d=e=>!e,p=()=>(window.navigator.language||"en").split("-")[0],m=e=>{if(!e)return{};const t=new URLSearchParams(e);return o.q.reduce(((e,n)=>(t.get(n)&&(e[`${(0,i.eV)(n)}`]=t.get(n)),e)),{})},g=e=>{if((0,s.xb)(e)&&!(0,s.HD)(e))return!1;const t=window.parent,n=e.match(/^(?:https?:\/\/)?([^/?#]+)(?:[/?#]|$)/i),r=n&&n[1];return t.location.host===r}},25848:(e,t,n)=>{"use strict";function r(e,t){let n,r;const o=3&e.length,s=e.length-o;let i=t;const a=3432918353,l=461845907;let c=0;for(;c<s;)r=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,r=(65535&r)*a+(((r>>>16)*a&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(65535&r)*l+(((r>>>16)*l&65535)<<16)&4294967295,i^=r,i=i<<13|i>>>19,n=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&n)+((58964+(n>>>16)&65535)<<16);switch(r=0,o){case 3:r^=(255&e.charCodeAt(c+2))<<16;case 2:r^=(255&e.charCodeAt(c+1))<<8;case 1:r^=255&e.charCodeAt(c),r=(65535&r)*a+(((r>>>16)*a&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(65535&r)*l+(((r>>>16)*l&65535)<<16)&4294967295,i^=r}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0}function o(e){return r(e,0)}function s(e,t,n){var r;if(t<1)throw new Error("The count of bucket cannot be less than 1.");if(n>t)throw new Error(`The user slot index cannot be greater than bucket count (${t}).`);if(Object.entries(e).map((e=>{let[,t]=e;return t})).reduce(((e,t)=>e+t),0)>1)throw new Error("The sum of variant weight cannot be over 1.");let o=0;const s=Object.entries(e).map((e=>{let[n,r]=e;const s=Math.round(t*r),i=o,a=o+s-1;return o=a+1,[n,[i,a]]})),i=null===(r=s.find((e=>{let[,[t,r]]=e;return t<=n&&n<=r})))||void 0===r?void 0:r[0];if(!i)throw new Error(`Given user slot is not in valid range [0, ${t-1}].`);return i}n.d(t,{Wj:()=>s,i4:()=>o,q7:()=>r})},23414:(e,t,n)=>{"use strict";n.d(t,{He:()=>h,ND:()=>u,Xi:()=>i,yW:()=>a,yv:()=>c});var r=n(80805),o=n(18380),s=n(50022);function i(){let{width:e,height:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[];return e&&n.push(t&&e!==t?`${e}x${t}`:`${e}x`),n.join(",")}function a(e){const t=parseFloat((e/1024).toFixed(1)),n=parseFloat((e/1048576).toFixed(1));return t<1024?`${t}KB`:`${n}MB`}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.g,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.$;return e.width>n.width||e.height>n.height?Math.max(e.width/n.width,e.height/n.height):e.width<t.width&&e.height<t.height?Math.min(e.width/t.width,e.height/t.height):1}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.g,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.$;const i=l(e,t,n);return!(0,s.kK)(e.orientation)&&[r.Z.VerticalFlipRotate90,r.Z.Rotate90,r.Z.HorizontalFlipRotate90,r.Z.Rotate270].includes(e.orientation)?{width:Math.floor(e.height/i),height:Math.floor(e.width/i)}:{width:Math.floor(e.width/i),height:Math.floor(e.height/i)}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.createElement("video");return!!t.canPlayType(e)}function h(e){return e.replace(/%/g,"_")}},28023:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>i,rc:()=>o,uZ:()=>s,w6:()=>a});var r=n(50022);const o=e=>Math.round(100*(e+Number.EPSILON))/100;function s(e,t,n){return"number"!=typeof n?Math.max(e,t)===t?e:t:Math.min(e,t)===e?t:Math.max(e,n)===e?n:e}function i(e){return e?"string"==typeof e?Number.parseInt(e,10)||0:"number"==typeof e?Math.trunc(e):0:0}function a(e,t,n){if(void 0===t)return Array.from({length:e},((e,t)=>t));const o=(0,r.kK)(n)?1:n,s=0===o?t-e:(t-e)/o;return Array.from({length:s},((t,n)=>e+n*o))}},58078:(e,t,n)=>{"use strict";n.d(t,{CE:()=>i,D9:()=>a,Xh:()=>c,e$:()=>l,ei:()=>s});var r=n(38830),o=n(50022);function s(e,t){return Object.fromEntries(Object.entries(e).filter((e=>{let[n]=e;return(0,o.q9)(t,n)})))}function i(e,t){return(0,o.Kn)(e)?Object.fromEntries(Object.entries(e).filter((e=>{let[n]=e;return!(0,o.q9)(t,n)}))):{}}function a(e,t){return(0,o.Kn)(e)?Object.fromEntries(Object.entries(e).filter((e=>{let[n,r]=e;return t(n,r)}))):{}}function l(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"function"==typeof window.structuredClone?window.structuredClone(e):(0,r.ZP)(e)}},26633:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>s,Kc:()=>l,Ym:()=>a,d$:()=>i,vL:()=>o});var r=n(98450);const o=e=>(0,r.LX)({path:"/home",end:!0},e),s=e=>(0,r.LX)({path:"/user-chats/:userChatId",end:!0},e),i=e=>(0,r.LX)({path:"/setting/*",end:!0},e),a=e=>(0,r.LX)({path:"/user-chats",end:!0},e),l=e=>(0,r.LX)({path:"/workflows/:workflowId",end:!0},e)},68266:(e,t,n)=>{"use strict";n.d(t,{P:()=>s,Q:()=>o});const r=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`));function o(e){return Object.fromEntries(new URLSearchParams(e))}function s(e){return e?Object.entries(e).map((e=>{let[t,n]=e;return void 0===n?"":null===n?`${r(t)}=`:Array.isArray(n)?n.filter((e=>void 0!==e)).map((e=>null===e?"":e)).reduce(((e,n)=>e.concat(`${r(t)}=${r(n)}`)),[]).join("&"):`${r(t)}=${r(n)}`})).filter((e=>e.length>0)).join("&"):""}},50655:(e,t,n)=>{"use strict";n.d(t,{$m:()=>_,AE:()=>p,AS:()=>w,Bc:()=>g,Eg:()=>l,GL:()=>Z,JY:()=>m,O0:()=>f,aE:()=>S,eV:()=>I,i1:()=>v,iH:()=>y,kE:()=>b,l0:()=>d,zs:()=>k});var r=n(28023),o=n(50022);const s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},i=/[&<>"]/g,a=RegExp(i.source);function l(e){return(0,o.HD)(e)&&function(e){return a.test(e)}(e)?e.replace(i,(e=>s[e])):e}const c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&dollar;":"$"},u=new RegExp(`(${Object.keys(c).join("|")})`,"g"),h=RegExp(u.source);function d(e){return e?h.test(e)?e.replace(u,(e=>c[e])):e:""}function p(e){return(0,o.HD)(e)?e.replace(/[^\d]/g,""):""}function m(e){return e>99?"99+":`${e}`}function g(e){return e>99?"99":`${e}`}function f(e,t){return e.replace(new RegExp(`\n{${t+1},}`,"g"),"\n".repeat(t))}function v(e){return!!(0,o.hj)(e)||!!(0,o.HD)(e)&&/^(?:-|\+|)?\d+(?:,\d{3})*(?:\.\d+)?$/.test(e)}function b(e){return!!(0,o.hj)(e)||!!(0,o.HD)(e)&&/^[0-9-.]+$/.test(e)}const _="";function y(e){return e.concat(_)}const C=/^\n+$/;function w(e){return C.test(e)}const E=/^[ \t]+$/;function S(e){return E.test(e)}const Z=e=>e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),I=e=>Z(e).replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;const t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return(0,r.w6)(e).forEach((()=>{t.push(n[Math.floor(Math.random()*n.length)])})),t.join("")}},15964:(e,t,n)=>{"use strict";n.d(t,{JP:()=>h,V0:()=>g,WH:()=>u,hL:()=>f,jC:()=>m,uz:()=>p});var r=n(96940),o=n(76438),s=n(28961),i=n(49038),a=n(50022);const{isTouchableDevice:l}=s.Z;function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16),t]}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e)return`rgba(${c(e,t).join(",")})`}function h(){const e=o.Z.getZIndex();return(0,a.kK)(e)?1e7:e}const d="#f7f7f8";function p(e){if(!e)return d;switch(e.toLowerCase()){case"#ffffff":case"#fff":case"white":return d;default:return e}}const m=e=>l?(0,r.iv)(["&:active{","}"],e):(0,r.iv)(["&:hover{","}"],e);function g(e){const t=e===i.ZP.JA,n=e===i.ZP.KO;return[t&&"NotoSansJP",n&&"NotoSansKR","-apple-system","BlinkMacSystemFont","Helvetica Neue",t&&"Yu Gothic",n&&" ","Segoe UI","Roboto","system-ui","sans-serif"].filter(a.HD).map((e=>JSON.stringify(e))).join(", ")}function f(e){return"#ffffff"===e||"#fff"===e||"white"===e}},40520:(e,t,n)=>{"use strict";n.d(t,{Cr:()=>i,Ds:()=>o,P2:()=>s});var r=n(50022);function o(e){let t,n,o,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,l=0,c=!1,u=!1,h=!0;function d(n){const r=t;t=void 0,l=n,r&&e(...r)}function p(e){const t=e-l,r=i-(e-s);return u?Math.min(r,n-t):r}function m(e){if(void 0===s)return!0;const t=e-s;return t>=i||t<0||u&&e-l>=n}function g(e){o=void 0,h&&t?d(e):t=void 0}function f(){const e=Date.now();return m(e)?g(e):(o=window.setTimeout(f,p(e)),o)}function v(e){l=e,o=window.setTimeout(f,i),c&&d(e)}function b(){void 0!==o&&clearTimeout(o),l=0,t=void 0,s=void 0,o=void 0}function _(){o&&g(Date.now())}function y(){return void 0!==o}function C(){const e=Date.now(),n=m(e);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];if(t=a,s=e,n){if(void 0===o)return void v(s);if(u)return o=window.setTimeout(f,i),void d(s)}void 0===o&&(o=window.setTimeout(f,i))}return(0,r.Kn)(a)&&(c=!!a.leading,u="maxWait"in a,n=u?Math.max(a.maxWait||0,i):n,h="trailing"in a?!!a.trailing:h),C.cancel=b,C.flush=_,C.pending=y,C}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,s=!0,i=!0;return(0,r.Kn)(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),o(e,t,{leading:s,trailing:i,maxWait:t})}function i(e,t,n){const r=Math.min(t,e*2**n);return Math.random()*r}},50022:(e,t,n)=>{"use strict";n.d(t,{HD:()=>l,HY:()=>g,Kn:()=>i,O2:()=>p,PO:()=>h,Uy:()=>a,hj:()=>c,jn:()=>u,kK:()=>o,mf:()=>s,q9:()=>m,xb:()=>d});const r=e=>Object.prototype.toString.call(e);function o(e){return null==e}function s(e){return"function"==typeof e}function i(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}function a(e){return i(e)}function l(e){return"string"==typeof e||i(e)&&"[object String]"===r(e)}function c(e){return"number"==typeof e||i(e)&&"[object Number]"===r(e)}function u(e){return"boolean"==typeof e||i(e)&&"[object Boolean]"===r(e)}function h(e){if("object"!=typeof e)return!1;if(null==e)return!1;if("[object Object]"!==r(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e){return!(null!=e&&(Array.isArray(e)||"string"==typeof e?e.length:(e=>"[object Set]"===r(e))(e)||(e=>"[object Map]"===r(e))(e)?e.size:i(e)&&Object.keys(e).length))}function p(e){return Array.isArray(e)?!e.length:!u(e)&&!c(e)&&!e}function m(e,t){return e.includes(t)}const g={Array:[],Object:{}}},12771:(e,t,n)=>{"use strict";n.d(t,{MI:()=>u,TF:()=>d,aK:()=>h,xn:()=>c,yb:()=>l});var r=n(15405),o=n(48384),s=n(88513),i=n(28023),a=n(50022);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{step:o=30,normalizer:s}=n,l=(0,i.uZ)((0,i.Z3)(e),0,24),c=(0,i.uZ)((0,i.Z3)(t),0,24),u=(0,i.uZ)((0,i.Z3)(o),1,60),h=(0,i.w6)(l,c).map((e=>(0,i.w6)(0,60,u).map((t=>new r.Z(e,t))))).flat();return(0,a.mf)(s)?s(h).sort(((e,t)=>e.hour!==t.hour?e.hour-t.hour:e.minute-t.minute)):h}function c(e){return`${o.Z.LAST_SEEN_TAB_ID}_${e}`}function u(e){return`${o.Z.NOTIFICATION_SOUND}_${e}`}function h(e,t){return t.matchMedia(`(prefers-color-scheme: ${e})`)}function d(e,t){switch(e){case s.u.SYSTEM:return h("dark",t).matches;case s.u.DARK:return!0;case s.u.LIGHT:default:return!1}}},96242:()=>{}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return s[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=s,a.amdO={},e=[],a.O=(t,n,r,o)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,r,o]=e[u],i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var s={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,a.d(o,s),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>499===e?"ch-plugin-core.6ec68944.vendor-sentry.js":262===e?"ch-plugin-core.6369d473.vendor-common.js":883===e?"ch-plugin-core.27d7abd7.vendor-messenger~pop-up.js":142===e?"ch-plugin-core.492ddfc0.vendor-messenger.js":592===e?"ch-plugin-core-20251106192538.1dd4fecf.common.bundle.js":79===e?"ch-plugin-core.350c35e2.vendor-phonenumber.js":"ch-plugin-core-20251106192538."+{670:"f22f2bcb",743:"7cb9e44b",961:"a9250b27"}[e]+"."+{670:"pop-up",743:"messenger",961:"formatted-phonenumber-input"}[e]+".bundle.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="web-sdk:",a.l=(e,t,n,s)=>{if(r[e])r[e].push(t);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==o+n){i=h;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",o+n),i.src=e),r[e]=[t];var d=(t,n)=>{i.onerror=i.onload=null,clearTimeout(p);var o=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),l&&document.head.appendChild(i)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="https://cdn.channel.io/plugin/",(()=>{var e={179:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var s=a.p+a.u(t),i=new Error;a.l(s,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,r[1](i)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[s,i,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(t&&t(n);c<s.length;c++)o=s[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=globalThis.webpackChunkweb_sdk=globalThis.webpackChunkweb_sdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;var l=a.O(void 0,[736],(()=>a(56116)));l=a.O(l)})();