
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6fab25a7-0725-53d8-bf3b-8a4d85466198")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,423833,e=>{"use strict";var t=e.i(94601),s=e.i(682930);e.s(["alertPreventedLesson",0,()=>{(0,s.openModal)({icon:"notification",title:"다음 단위 기간에 속한 토픽이에요",content:(0,t.jsxs)("p",{children:["다음 기간에 속한 토픽은",(0,t.jsx)("br",{}),"레슨 완료를 미리 할 수 없어요."]}),primaryButton:{text:"확인"}})}])},910657,e=>{"use strict";var t=e.i(351623),s=e.i(280429),o=e.i(852396),n=e.i(957131);let i=t.gql`
  fragment userThemeFragment on User {
    theme
  }
`,l=t.gql`
  ${i}
  query getTheme {
    currentUser {
      id
      ...userThemeFragment
    }
  }
`;e.s(["USER_THEME_FIELDS",0,i,"useMyTheme",0,()=>{let{isLoggedIn:e}=(0,n.useIsLoggedIn)(),{loading:t,data:i,refetch:r}=(0,s.useQuery)(l,{skip:!e});return{loading:t,theme:i?.currentUser?.theme??o.Classroom_Theme.Light,refetch:r}}])},473503,e=>{"use strict";var t=e.i(136960),s=e.i(852396),o=e.i(910657);let n=e=>{document.body.setAttribute("data-theme",e)};e.s(["useTheme",0,e=>{let{theme:i}=(0,o.useMyTheme)(),l=e??i;(0,t.useEffect)(()=>{if(l!==s.Classroom_Theme.OsDefault)return n(l),()=>{document.body.removeAttribute("data-theme")};if(window.matchMedia){let e=window.matchMedia("(prefers-color-scheme: dark)");n(e.matches?s.Classroom_Theme.Dark:s.Classroom_Theme.Light);let t=e=>{n(e.matches?s.Classroom_Theme.Dark:s.Classroom_Theme.Light)};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t),document.body.removeAttribute("data-theme")}}},[l])}])},151e3,e=>{e.v({_lg:"DailyCheckIn-module-scss-module__eMvwRa___lg",_md:"DailyCheckIn-module-scss-module__eMvwRa___md",_sm:"DailyCheckIn-module-scss-module__eMvwRa___sm",animating:"DailyCheckIn-module-scss-module__eMvwRa__animating",body:"DailyCheckIn-module-scss-module__eMvwRa__body",bottom:"DailyCheckIn-module-scss-module__eMvwRa__bottom",checkIcon:"DailyCheckIn-module-scss-module__eMvwRa__checkIcon",checkInContainer:"DailyCheckIn-module-scss-module__eMvwRa__checkInContainer",checked:"DailyCheckIn-module-scss-module__eMvwRa__checked",container:"DailyCheckIn-module-scss-module__eMvwRa__container",contents:"DailyCheckIn-module-scss-module__eMvwRa__contents",day:"DailyCheckIn-module-scss-module__eMvwRa__day",dayStreakNumber:"DailyCheckIn-module-scss-module__eMvwRa__dayStreakNumber",dayStreakWrapper:"DailyCheckIn-module-scss-module__eMvwRa__dayStreakWrapper",dayWrapper:"DailyCheckIn-module-scss-module__eMvwRa__dayWrapper",fillBackground:"DailyCheckIn-module-scss-module__eMvwRa__fillBackground",fillCheck:"DailyCheckIn-module-scss-module__eMvwRa__fillCheck",fire:"DailyCheckIn-module-scss-module__eMvwRa__fire",header:"DailyCheckIn-module-scss-module__eMvwRa__header",lottie:"DailyCheckIn-module-scss-module__eMvwRa__lottie",mobileVisibilityText:"DailyCheckIn-module-scss-module__eMvwRa__mobileVisibilityText",point:"DailyCheckIn-module-scss-module__eMvwRa__point",rollingCount:"DailyCheckIn-module-scss-module__eMvwRa__rollingCount",title:"DailyCheckIn-module-scss-module__eMvwRa__title",weekStreakTitle:"DailyCheckIn-module-scss-module__eMvwRa__weekStreakTitle"})},146777,e=>{e.v({_lg:"CloseBoxToast-module-scss-module__Fv55XW___lg",_md:"CloseBoxToast-module-scss-module__Fv55XW___md",_sm:"CloseBoxToast-module-scss-module__Fv55XW___sm",button:"CloseBoxToast-module-scss-module__Fv55XW__button",container:"CloseBoxToast-module-scss-module__Fv55XW__container"})},390750,e=>{e.v({_lg:"BadgeToast-module-scss-module__jU3-0G___lg",_md:"BadgeToast-module-scss-module__jU3-0G___md",_sm:"BadgeToast-module-scss-module__jU3-0G___sm",container:"BadgeToast-module-scss-module__jU3-0G__container",description:"BadgeToast-module-scss-module__jU3-0G__description",image:"BadgeToast-module-scss-module__jU3-0G__image",title:"BadgeToast-module-scss-module__jU3-0G__title"})},344161,e=>{e.v({_lg:"PointToast-module-scss-module__x2YUEG___lg",_md:"PointToast-module-scss-module__x2YUEG___md",_sm:"PointToast-module-scss-module__x2YUEG___sm",description:"PointToast-module-scss-module__x2YUEG__description",icon:"PointToast-module-scss-module__x2YUEG__icon",number:"PointToast-module-scss-module__x2YUEG__number",purple:"PointToast-module-scss-module__x2YUEG__purple",title:"PointToast-module-scss-module__x2YUEG__title"})},343477,e=>{e.v({_lg:"LevelUpFullScreen-module-scss-module__pZkHOq___lg",_md:"LevelUpFullScreen-module-scss-module__pZkHOq___md",_sm:"LevelUpFullScreen-module-scss-module__pZkHOq___sm",body:"LevelUpFullScreen-module-scss-module__pZkHOq__body",bottom:"LevelUpFullScreen-module-scss-module__pZkHOq__bottom",description:"LevelUpFullScreen-module-scss-module__pZkHOq__description","fade-in":"LevelUpFullScreen-module-scss-module__pZkHOq__fade-in",lottieCong:"LevelUpFullScreen-module-scss-module__pZkHOq__lottieCong",lottieLevel:"LevelUpFullScreen-module-scss-module__pZkHOq__lottieLevel",mobileVisibilityText:"LevelUpFullScreen-module-scss-module__pZkHOq__mobileVisibilityText",number:"LevelUpFullScreen-module-scss-module__pZkHOq__number",pentagon:"LevelUpFullScreen-module-scss-module__pZkHOq__pentagon","slide-top":"LevelUpFullScreen-module-scss-module__pZkHOq__slide-top",spark:"LevelUpFullScreen-module-scss-module__pZkHOq__spark",subtitle:"LevelUpFullScreen-module-scss-module__pZkHOq__subtitle",text:"LevelUpFullScreen-module-scss-module__pZkHOq__text",title:"LevelUpFullScreen-module-scss-module__pZkHOq__title"})},984903,225508,252450,330738,464070,804094,460710,437392,537155,945417,e=>{"use strict";var t=e.i(351623),s=e.i(982742);let o=t.gql`
  mutation MarkPassed($input: MarkPassedInput!, $topicTypedId: ID!) {
    markPassed(input: $input) {
      lesson {
        id
        type
        studyNote(topicTypedId: $topicTypedId) {
          id
          status
          sawHints
          sawExplanation
          quizAttempts {
            sawHints
            sawExplanation
          }
          enrollment {
            id
            status
            canIssueCertificate
            topic {
              id
              typedId
              kdcSession {
                id
                typedId
                kdcUserSession {
                  id
                  typedId
                  completed
                }
              }
            }
            passedLesson: studyNotesV2(status: PASSED) {
              totalCount
            }
          }
        }
      }
    }
  }
`;e.s(["useMarkPassed",0,()=>{let[e,{loading:t}]=(0,s.useMutation)(o,{refetchQueries:["GetMyStreak"]});return{markPassedRequest:async({studyNoteTypedId:t,topicTypedId:s})=>{let{data:o}=await e({variables:{input:{studyNoteTypedId:t},topicTypedId:s}});return{lesson:o?.markPassed?.lesson}},loading:t}}],984903);var n=e.i(94601),i=e.i(99073),l=e.i(350890),r=e.i(133464),a=e.i(45872),d=e.i(970094),u=e.i(136960),c=e.i(852396),m=e.i(151e3),_=e.i(589963),p=e.i(519415),h=e.i(738650),g=e.i(174656),y=e.i(24191);let f=(0,y.default)(()=>e.A(356703),{loadableGenerated:{modules:[507263]},ssr:!1}),x=l.default.bind(m.default),v=({daysInRow:e,weeksInRow:t,days:s,passedLessonCount:o,noPoint:i,onClickNext:l})=>{let m=`${t}주째 출석 중`,{theme:y}=(0,d.useCurrentTheme)(),v=y===c.Classroom_Theme.Dark,[C,b]=(0,u.useState)(!1),E=(0,u.useMemo)(()=>C?v?_.default:h.default:v?p.default:g.default,[v,C]),T=1===o?"내일도 출석해서 연속 공부를 채워나가 보세요.":o>1&&1===e?"다시 공부 시작! 연속 공부 최고 기록에 도전해 보세요.":e>=2&&e<=6?"7일 연속 공부를 달성하면 수료율이 73% 높아져요!":7===e||30===e||100===e||365===e?`축하해요! ${e}일 연속 공부를 달성했어요.`:"";return(0,u.useEffect)(()=>{setTimeout(()=>{b(!0)},1500)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:x("mobileVisibilityText"),children:"mobileVisibilityText"}),(0,n.jsxs)("div",{className:x("container"),children:[(0,n.jsxs)("div",{className:x("body"),children:[!i&&(0,n.jsx)("p",{className:x("point"),children:"+20 XP"}),(0,n.jsx)("div",{className:x("lottie"),children:(0,n.jsx)(f,{animationData:E,loop:!0,width:50,height:50})}),(0,n.jsxs)("div",{className:x("dayStreakWrapper"),children:[(0,n.jsxs)("ul",{className:x("dayStreakNumber","rollingCount"),children:[(0,n.jsxs)("li",{children:[e-1,"일"]}),(0,n.jsxs)("li",{children:[e,"일"]})]}),(0,n.jsx)("div",{children:" 연속 공부 중!"})]}),(0,n.jsx)("div",{className:x("weekStreakTitle"),children:m}),(0,n.jsxs)("div",{className:x("checkInContainer"),children:[(0,n.jsx)("div",{className:x("header"),children:T&&(0,n.jsx)("p",{className:x("title"),children:T})}),(0,n.jsx)("div",{className:x("contents"),children:s.map(e=>{let t,s;return(0,n.jsxs)("div",{className:x("dayWrapper"),children:[(0,n.jsx)("div",{className:x("day",{checked:e.isCheck&&!((t=e).isToday&&t.isCheck),animating:(s=e).isToday&&s.isCheck}),children:e.isCheck&&(0,n.jsx)(a.Icon,{containerClassName:x("checkIcon"),name:"check",thickness:"bold",color:"--purple80"})}),(0,n.jsx)("div",{children:e.label})]},e.label)})})]})]}),(0,n.jsx)("div",{className:x("bottom"),children:(0,n.jsx)(r.Button,{variant:"primary",onClick:l,children:"계속하기"})})]})]})};var C=e.i(453126);let b=({isKdcSession:e,onClickNext:t})=>{let{daysInRow:s,weeksInRow:o,days:l,passedLessonCount:r,dayStreakGoal:a,loading:d}=(0,i.useGetMyStreak)();return(0,u.useEffect)(()=>{d||C.Amplitude.logEvent("view.streak_change_page",{streak:{days:s,weeks:o}})},[s,o,d,a]),(0,n.jsx)(v,{daysInRow:s,weeksInRow:o,onClickNext:t,days:l,passedLessonCount:r,noPoint:e})};var E=e.i(682930);e.s(["useDailyCheckInModal",0,()=>({open:(e,t)=>{if(window.location.pathname.startsWith("/topics/"))return(0,E.openModal)({title:null,fullScreen:!0,content:s=>(0,n.jsx)(b,{onClickNext:()=>{s(),e()},isKdcSession:t})})}})],225508);var T=e.i(677593),S=e.i(427232),w=e.i(872552),j=e.i(674845),I=e.i(896567),L=e.i(957131),N=e.i(146777);let R=l.default.bind(N.default),k=({children:e,onClickClose:t})=>(0,n.jsxs)("div",{className:R("container"),children:[(0,n.jsx)("button",{type:"button",onClick:t,className:R("button"),children:(0,n.jsx)(a.Icon,{name:"xMark",className:R("closeIcon"),size:"small"})}),e]});var F=e.i(390750);let A=l.default.bind(F.default),O=({badge:e,close:t})=>(0,n.jsx)(k,{onClickClose:t,children:(0,n.jsxs)("div",{className:A("container"),children:[(0,n.jsx)("div",{className:A("image"),children:(0,n.jsx)("img",{alt:"badge",src:e.image})}),(0,n.jsx)("div",{className:A("title"),children:"배지 획득!"}),(0,n.jsx)("div",{className:A("description"),children:e.description})]})});var G=e.i(129101),P=e.i(664402),W=e.i(227828);let U=t.gql`
  query GetMyBadgesForToast {
    currentUser {
      id
      badgesOffset(take: 100, achieved: true) {
        edges {
          node {
            id
            title
            achievedDescription
            imageKey
          }
        }
      }
    }
  }
`,M=e=>new Promise(t=>setTimeout(t,e));e.s(["wait",0,M],252450);let D={[c.LessonType.Exercise]:100,[c.LessonType.Quiz]:0,[c.LessonType.Note]:50,[c.LessonType.Video]:50},B={right:35,bottom:86},q={right:25,bottom:76},V={right:18,bottom:76},H={right:15,bottom:66};var z=e.i(344161),$=e.i(495219);let K=l.default.bind(z.default),Y=({color:e="default",icon:t,title:s,description:o,point:i})=>(0,n.jsx)($.Toast,{containerClassName:K(e),icon:(0,n.jsx)("div",{className:K("icon"),children:t}),message:(0,n.jsx)("div",{className:K("title"),children:s}),subMessage:(0,n.jsx)("div",{className:K("description"),children:o}),rightBox:i>0?(0,n.jsx)("div",{className:K("number"),children:`+${i} XP`}):null});var J=e.i(80546);let X=["다음 레슨도 가볼까요?","대단해요! 계속 해볼까요?","멋져요! 잘 하고 있어요","이대로 다음 레슨까지 Go!","혹시 당신은 천재인가요?!"];var Q=e.i(567869),Z=e.i(328456);e.s(["useLessonToast",0,({weeksInRow:e,attendanceCountThisWeek:t})=>{let[s,o]=(0,u.useState)(!1),[i,l]=(0,u.useState)(!1),{open:r}=(()=>{let{openToast:e}=(0,j.useToast)();return{open:({xpEarned:t,xpMissed:s})=>{let o,i=`힌트, 해설 보기 ${s>0?`-${s}`:s} XP`,l=s>0?i:X[Math.floor(Math.random()*(Math.floor(4)-(o=Math.ceil(0))+1))+o];e({item:(0,n.jsx)(Y,{icon:(0,n.jsx)(J.Graphic,{name:"voltage"}),title:"레슨 완료",description:l,point:t}),type:w.ToastType.Point})}}})(),{open:a}=(()=>{let{openToast:e}=(0,j.useToast)();return{open:({pointsEarned:t,streakWeeks:s})=>{let o=`${s}주 연속 출석 중`;e({item:(0,n.jsx)(Y,{color:"purple",icon:(0,n.jsx)(J.Graphic,{name:"fire"}),title:"연속 출석 보너스",description:o,point:t}),type:w.ToastType.Point})}}})(),{open:d,getNewBadge:m}=(()=>{let{isLoggedIn:e,userId:t}=(0,L.useIsLoggedIn)(),{openToast:s,closeToast:o}=(0,j.useToast)(),{fetchMyBadges:i}=(()=>{let[e]=(0,P.useLazyQuery)(U,{fetchPolicy:"network-only"});return{fetchMyBadges:async()=>{let t=await e();return t.data?.currentUser.badgesOffset.edges.map(({node:e})=>({id:e.id,title:e.title,description:e.achievedDescription,image:`${W.CDN_URLS[c.Bucket.Images]}/${e.imageKey}`}))??[]}}})(),l=async()=>{var s;if(!e)return;let o=(0,I.getLocalStorage)(`BADGE_IDS_${t}`,!0)??[],n=await i(),l=n.find(e=>!o.includes(e.id));return s=n.map(({id:e})=>e),(0,I.setLocalStorage)(`BADGE_IDS_${t}`,JSON.stringify(s)),l};return(0,G.useEffectOnce)(()=>{l()}),{getNewBadge:l,open:e=>{let t=(0,S.v4)();s({initialId:t,type:w.ToastType.CloseBox,timeout:4e3,item:(0,n.jsx)(O,{close:()=>o(t),badge:e})})}}})(),{setFullWidth:_}=(0,j.useToast)(),p=0===t&&e>0;(e=>{let{isMobileSize:t,isTabletSize:s,isDesktopSize:o}=(0,Q.useWindowSize)(),{updatePosition:n,toasts:i}=(0,j.useToast)();(0,u.useEffect)(()=>{let i;switch(!0){case e&&o:i=B;break;case e&&s:i=q;break;case!t:i=V;break;default:i=H}n({right:`${i.right/10}rem`,bottom:`${i.bottom/10}rem`})},[e,t,s,o,i])})(i);let{topic:h}=(0,Z.useTopicDetailFromContext)(),g=!!h?.kdcSession;return{openToast:async t=>{o(!0),_(!1);let s=T.TOAST_DURATION,n=await m();o(!1),n&&(l(!0),s=4e3),n&&(d(n),await M(300)),(e=>{var t,s,o,n;let i,l,a,d,u,m,{earnedXp:_,missedXp:p}=(({lessonType:e,openedHintsCount:t=0,openedSolutionCount:s=0,quizCount:o=0})=>{let n=e===c.LessonType.Quiz,i=n?30*o:D[e],l=+t+(n?20:60)*s;return{earnedXp:i-l,missedXp:l}})({lessonType:e.type,quizCount:e.studyNote?.quizAttempts?.length,openedHintsCount:(t=e.type,s=e.studyNote,i=t===c.LessonType.Quiz,l=s?.quizAttempts?.reduce((e,t)=>e+(t?.sawHints?.length??0),0),a=s?.sawHints?.length??0,i?l:a),openedSolutionCount:(o=e.type,n=e.studyNote,d=o===c.LessonType.Quiz,u=n?.quizAttempts?.filter(e=>e?.sawExplanation===!0).length??0,m=+!!n?.sawExplanation,d?u:m)});g?r({xpEarned:0,xpMissed:0}):r({xpEarned:_,xpMissed:p})})(t),!g&&p&&(await M(300),a({pointsEarned:(e+1)*20,streakWeeks:e+1})),await M(s),_(!0)},loading:s}}],330738);var ee=e.i(57801);let et=t.gql`
  query CheckCurrentReferral {
    currentUser {
      id
      typedId
      currentCostudy: currentReferral {
        id
        typedId
      }
    }
  }
`,es="costudyVisited",eo="true";var en=e.i(321643);let ei={src:e.i(775092).default,width:1152,height:641,blurWidth:8,blurHeight:4,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAACzzX7wAAAAgklEQVR42k3KvwqCUBSA8XM4Vyr6Rw1ZOgRRdrFoCQoUHHTwEZxEubuv4Oysi86CTk7iM/ha4iJ+6+8DmMWIFpJESwQkBMAZIa62B+Wpqbb5f8TXO3c2691pYmLseL7pkcq5a4mg9Iqsu7z07zTsZVkzQj/x8rQVTdWLpu6Vz/s32gCwOxLt4KDMNgAAAABJRU5ErkJggg=="};var el=e.i(896267),er=e.i(539520),ea=e.i(280429);let ed=t.gql`
  fragment TopicFragment on Topic {
    id
    slug
    title
    version
    difficulty
    lessonCount {
      total
    }
    chapters(first: 1) {
      id
      typedId
      lessons(first: 1) {
        id
        seqId
      }
    }
  }
`,eu=t.gql`
  ${ed}
  query GetMedium($key: String!, $version: Int) {
    topicByResourceKey(key: $key, version: $version) {
      id
      currentUserEnrollment {
        id
        medium {
          ... on SkillPath {
            id
            slug
            title
            typedId
            steps {
              id
              typedId
              topics {
                ...TopicFragment
              }
            }
          }
          ... on Playlist {
            id
            typedId
            title
            topics {
              ...TopicFragment
            }
          }
        }
      }
    }
  }
`,ec=e=>{let{medium:t}=((e,t)=>{let{data:s,loading:o}=(0,ea.useQuery)(eu,{variables:{key:e,version:t},skip:!e});return{medium:s?.topicByResourceKey?.currentUserEnrollment?.medium,loading:o}})(e),s=(0,el.useRouter)();return{moveToMediumContent:e=>{if(!t)return void s.push("/dashboard");let o="SkillPath"===t.__typename?`/paths/${t.slug}?mediumTopicId=${e}`:`/dashboard/playlists/${t.id}?mediumTopicId=${e}`;s.push(o)}}};e.s(["useGraduateModal",0,()=>{let{topic:e}=(0,Z.useTopicDetailFromContext)(),t=e?.slug??"",s=e?.title??"",o=e?.id??"",{moveToMediumContent:i}=ec(t),{checkCurrentCostudy:l}=(()=>{let[e,{loading:t}]=(0,P.useLazyQuery)(et);return{checkCurrentCostudy:async()=>{let t=await e();return t.data?.currentUser?.currentCostudy},loading:t}})(),{getMyTeam:r}=(0,er.useMyTeamLazy)(),{open:a}=(()=>{let e=(0,el.useRouter)(),{userId:t}=(0,L.useIsLoggedIn)();return{open:()=>new Promise(s=>{let o;t?(o=btoa(`${es}_${t}`),(0,I.setLocalStorage)(o,eo),C.Amplitude.logEvent("view.costudy_modal",{page:e.asPath}),(0,en.openImageModal)({title:"함께하면 더 즐거우니까!\n러닝메이트와 함께해 보세요.",description:"함께 학습하면 완료율도 경험치도 더 높아져요.",img:ei,size:{l:"L",m:"L",s:"S"},primaryButton:{text:"친구 초대하기",onClick:e=>{C.Amplitude.logEvent("click.costudy_modal"),window.open("/dashboard?tab=costudy","_blank"),e()}},secondaryButton:{text:"다음에 할게요"},onClose:()=>{s()}})):s()})}})(),d=(0,u.useRef)(null),{userId:c}=(0,L.useIsLoggedIn)(),m=e=>{d.current=e??null},_=async()=>{if(c){let e,t=(e=btoa(`${es}_${c}`),(0,I.getLocalStorage)(e)!==eo);if(d.current?.score===5&&t){let e=await l(),t=await r();e||t||await a()}}i(o)};return{open:()=>{(0,E.openModal)({title:"축하합니다!",icon:"trophy",width:"51rem",height:"78.2rem, 80vh",hasXButton:!0,content:e=>(0,n.jsx)(ee.CreateReviewForm,{topicTitle:s,topicId:o,formTitle:" 토픽을 수료했어요.",formSecondTitle:"수강 후기를 작성해 주세요!",onReviewCompleted:m,removeModal:e}),onCloseModal:_})}}}],464070);var em=e.i(85067),e_=e.i(55592),ep=e.i(819731),eh=e.i(992621);let eg=({topicTypedId:e,onClose:t})=>{let s=(0,el.useRouter)(),{nextLesson:o,nextTopic:i,loading:l}=(0,ep.useNextKdcSession)({topicTypedId:e}),{enroll:a}=(0,eh.useEnrollTopicV3)();return(0,n.jsxs)(n.Fragment,{children:[l?(0,n.jsx)(e_.default,{width:"15rem",baseColor:"var(--gray10)",highlightColor:"var(--gray20)"}):i&&o?"다음 토픽을 학습하러 가볼까요?":"과정의 마지막 토픽이에요. 수고하셨어요!",(0,n.jsx)(em.ModalFooter,{children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e_.default,{width:"8rem",baseColor:"var(--gray10)",highlightColor:"var(--gray20)",height:"3rem"}),(0,n.jsx)(e_.default,{width:"8rem",baseColor:"var(--gray10)",highlightColor:"var(--gray20)",height:"3rem"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Button,{variant:"secondary",size:"medium",onClick:t,children:"닫기"}),i&&o&&(0,n.jsx)(r.Button,{variant:"primary",size:"medium",id:"global-modal-primary-button",onClick:async()=>{await a({topicResourceKey:i.slug}),s.push(`/topics/${i.slug}/lessons/${o.code}`),t()},children:"다음 토픽 학습하기"})]})})]})};var ey=e.i(585223);e.s(["useKdcGraduateModal",0,()=>{let{topicTypedId:e}=(0,ey.useResourceKeyContext)();return{openKdcGraduateModal:()=>{(0,E.openModal)({uniqId:"kdc-graduate-modal",icon:"trophy",title:"토픽을 완료했어요!",content:t=>(0,n.jsx)(eg,{onClose:t,topicTypedId:e}),keepOnRouteChange:!0})}}}],804094);var ef=e.i(404006),ex=e.i(598554);let ev=e=>!e.studyNote||e.studyNote?.status===c.StudyNoteStatus.Default;e.s(["useIncompleteLastLessonModal",0,()=>{let{topic:e}=(0,Z.useTopicDetailFromContext)(),t=(0,el.useRouter)(),{availableLessons:s}=(0,ef.useClassroomRouter)(),{moveToMediumContent:o}=ec(e?.slug??"");return{open:n=>{(0,E.openModal)({icon:"challenge",title:"완료하지 않은 레슨이 있어요.",content:n?.content??"미완료 레슨이 있어 토픽을 수료할 수 없어요.\n토픽을 수료하려면 레슨을 모두 완료해 보세요.",primaryButton:{text:"미완료 레슨 보기",onClick:o=>{if(e){let o=s.find(ev);e?.slug||ex.captureMessage("slug is undefined in useIncompleteLastLessonModal"),o&&t.push(`/topics/${e.slug}/lessons/${o.code}`)}o()}},secondaryButton:{text:"나중에 완료하기",onClick:t=>{t(),o(e?.id??"")}}})}}}],460710);let eC=e=>e.status===c.EnrollmentStatus.Graduated;e.s(["isTopicJustGraduated",0,(e,t)=>{if(!e||!t)return!1;let s=eC(t),o=eC(e);return!s&&o}],437392);var eb=e.i(528319),eE=e.i(343477),eT=e.i(166837),eS=e.i(86108),ew=e.i(997662);let ej=l.default.bind(eE.default),eI=(0,y.default)(()=>e.A(356703),{loadableGenerated:{modules:[507263]},ssr:!1}),eL=({level:e,onClickNext:t})=>{let{theme:s}=(0,d.useCurrentTheme)(),o=s===c.Classroom_Theme.Dark?eS.default:eT.default;return(0,u.useEffect)(()=>{C.Amplitude.logEvent("view.level_up_page",{level:e})},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:ej("mobileVisibilityText"),children:"mobileVisibilityText"}),(0,n.jsxs)("div",{className:ej("container"),children:[(0,n.jsxs)("div",{className:ej("body"),children:[(0,n.jsx)(eI,{animationData:ew.default,className:ej("lottieCong")}),(0,n.jsx)("div",{className:ej("subtitle"),children:"LEVEL UP!"}),(0,n.jsxs)("div",{className:ej("pentagon"),children:[(0,n.jsx)(eI,{animationData:o,loop:!1,className:ej("lottieLevel")}),(0,n.jsx)("div",{className:ej("number"),children:e})]}),(0,n.jsxs)("div",{className:ej("text"),children:[(0,n.jsxs)("div",{className:ej("title"),children:["LEVEL ",e]}),(0,n.jsx)("div",{className:ej("description"),children:"축하합니다. 레벨이 올랐어요!\n다음 레벨까지 더 달려볼까요?"})]})]}),(0,n.jsx)("div",{className:ej("bottom"),children:(0,n.jsx)(r.Button,{variant:"primary",onClick:t,children:"계속하기"})})]})]})};e.s(["useOpenUserLevelUpFullModal",0,()=>{let{refetch:e}=(0,eb.useUserLevel)(),{isLoggedIn:t}=(0,L.useIsLoggedIn)(),s=(0,u.useCallback)(async s=>{if(!t)return!1;let{data:o}=await e(),i=o?.currentUser?.levelV2?.currentLevel,l=Number((0,I.getLocalStorage)("userLevel")||void 0),r="number"==typeof i&&i>0,a=!Number.isNaN(l),d=r&&a&&i!==l,u=window.location.pathname.startsWith("/topics/");return d&&u&&((0,E.openModal)({title:null,fullScreen:!0,content:e=>(0,n.jsx)(eL,{level:i,onClickNext:()=>{e(),s?.()}})}),(0,I.setLocalStorage)("userLevel",`${i}`)),d},[t,e]),o=async()=>{if(!t)return;let{data:s}=await e(),o=s?.currentUser?.levelV2?.currentLevel;(0,I.setLocalStorage)("userLevel","number"==typeof o?`${o}`:"undefined")};return(0,G.useEffectOnce)(()=>{o()}),{check:s}}],537155),e.s(["alertLessonDurationNeeded",0,()=>{(0,E.openModal)({icon:"notification",title:"영상 시청 시간이 부족해요",content:"레슨을 완료하려면\n영상 수강 시간을 충분히 채워주세요",primaryButton:{text:"확인"}})}],945417)},396742,835180,e=>{"use strict";var t=e.i(852396),s=e.i(136960),o=e.i(404006),n=e.i(896267),i=e.i(296370),l=e.i(984903),r=e.i(225508),a=e.i(330738),d=e.i(464070),u=e.i(804094),c=e.i(460710),m=e.i(437392),_=e.i(614803),p=e.i(99073),h=e.i(537155),g=e.i(945417),y=e.i(423833),f=e.i(313974),x=e.i(344127),v=e.i(94601),C=e.i(682930),b=e.i(896567),E=e.i(567869);let T="checkedTeamStudyIdsForExam";var S=e.i(992621),w=e.i(12255),j=e.i(538234),I=e.i(829882);let L="lessonPlayTime",N=()=>{try{return JSON.parse(localStorage.getItem(L)||"{}")}catch{return localStorage.removeItem(L),{}}},R=e=>parseInt(N()[e]??"0"),k=e=>{let t=N();t[e]&&(delete t[e],(0,b.setLocalStorage)(L,JSON.stringify(t)))};e.s(["SaveVideoLessonPlayTimeManager",0,()=>{let{lesson:e}=(0,I.useLessonDetailFromContext)();return(0,s.useEffect)(()=>{if(e&&e.type===t.LessonType.Video&&e.currentUserRequiredPlaybackDuration&&e.studyNote?.status===t.StudyNoteStatus.Default){let t=()=>{var t;let s,o,n;t=e.studyNote?.id??"",s=(0,b.getLocalStorage)("playbackRate")||1,n=parseFloat((o=N())[t]??"0")+1/s,(0,b.setLocalStorage)(L,JSON.stringify({...o,[t]:n}))},s=setInterval(()=>{let e=(0,j.getWistiaApi)(),o=(0,w.getLessonContentViewerMatcherId)();e&&o&&(e.bind("secondchange",t),clearInterval(s))},500);return()=>{let e=(0,j.getWistiaApi)();e&&e.unbind("secondchange",t),clearInterval(s)}}},[e?.studyNote?.id]),null},"getVideoLessonPlayTime",0,R,"removeVideoLessonPlayTime",0,k],835180);var F=e.i(351623),A=e.i(280429),O=e.i(938160);let G=F.gql`
  query GetPassedTopicCount($topicSlug: String!) {
    currentUser {
      id
      todayPassedSessionCount(input: { topicSlug: $topicSlug })
    }
  }
`;var P=e.i(585223),W=e.i(267327),U=e.i(328456),M=e.i(293499),D=e.i(819731),B=e.i(664402);let q=F.gql`
  query KdcEnrollmentByTopicTypedId($topicTypedId: String!) {
    node(typedId: $topicTypedId) {
      id
      typedId
      ... on Topic {
        kdcSession {
          id
          typedId
          kdcUserSession {
            id
            typedId
            kdcEnrollment {
              id
              typedId
            }
          }
        }
      }
    }
  }
`,V=F.gql`
  query GetShouldAttendExamStudyGroupStep($topicResourceKey: String!) {
    currentUserShouldAttemptExamStudyGroupStep(topicResourceKey: $topicResourceKey) {
      examStudyGroupStep {
        id
        typedId
      }
    }
  }
`;var H=e.i(966e3);e.s(["useLessonComplete",0,()=>{let{lesson:e}=(0,I.useLessonDetailFromContext)(),{topicTypedId:w,lessonTypedId:L,topicResourceKey:N,lessonResourceKey:F}=(0,P.useResourceKeyContext)(),{openKdcGraduateModal:z}=(0,u.useKdcGraduateModal)(),{topic:$}=(0,U.useTopicDetailFromContext)(),K=(0,n.useRouter)(),{mediumTypedId:Y}=K.query,{nextLesson:J,availableLessons:X}=(0,o.useClassroomRouter)(),{check:Q}=(0,h.useOpenUserLevelUpFullModal)(),{markPassedRequest:Z,loading:ee}=(0,l.useMarkPassed)(),{hasAttendedToday:et,attendanceCountThisWeek:es,weeksInRow:eo}=(0,p.useGetMyStreak)(),{openToast:en,loading:ei}=(0,a.useLessonToast)({weeksInRow:eo,attendanceCountThisWeek:es}),{open:el}=(0,d.useGraduateModal)(),{open:er}=(0,c.useIncompleteLastLessonModal)(),ea=e?.studyNote?.status===t.StudyNoteStatus.Passed,ed=(0,s.useRef)(!1),{canAccess:eu}=(0,W.useLessonAccessibilityFromRouter)(),{loading:ec,enroll:em}=(0,S.useEnrollTopicV3)(),{loading:e_,enter:ep}=(0,i.useEnterLesson)(),{currentUser:eh}=(0,H.useMyProfile)(),eg=!!eh?.name,{open:ey}=(0,_.useAddNicknameModal)(),{open:ef}=(0,r.useDailyCheckInModal)(),{open:ex}=(()=>{let e=(0,n.useRouter)(),{isMobileSize:t}=(0,E.useWindowSize)();return{open:({examStepTypedId:s,onFinish:o})=>{let n=(0,b.getLocalStorage)(T,!0)||[];n.includes(s)?o():((0,b.setLocalStorage)(T,JSON.stringify([...n,s])),(0,C.openModal)({width:t?"32.5rem":"37rem",icon:"alert",disableCloseOnOverlayClick:!0,title:`평가를 응시할 수 있는${t?"\n":""} 진도율에 도달했어요!`,content:(0,v.jsxs)(v.Fragment,{children:["평가를 완료하지 않으면 과정 수료 처리가",(0,v.jsx)("br",{}),"되지 않으니 꼭 응시해 주세요!"]}),primaryButton:{text:"평가 응시하러 가기",onClick:t=>{t(),e.push(`/exams/${s}/overview`)}},secondaryButton:{text:"다음에 응시하기",onClick:e=>{e(),o()}}}))}}})(),{getShouldAttendExamStudyGroupStep:ev}=(()=>{let[e]=(0,B.useLazyQuery)(V);return{getShouldAttendExamStudyGroupStep:async t=>{let{data:s}=await e({variables:{topicResourceKey:t}});return s?.currentUserShouldAttemptExamStudyGroupStep?.examStudyGroupStep??null}}})(),{isT1Sprinter:eC}=(0,x.useGetIsKdtSprinter)(),eb=!e?.studyNote,eE=(()=>{let{lessonResourceKey:e,topicSlug:t}=(0,P.useResourceKeyContext)(),{isKDCSprinter:o}=(0,O.useGetIsKdcSprinter)(),{passedSessionCount:n,refetch:i}=(e=>{let{isKDCSprinter:t}=(0,O.useGetIsKdcSprinter)(),{data:s,refetch:o,loading:n}=(0,A.useQuery)(G,{variables:e,skip:!t});return{passedSessionCount:s?.currentUser?.todayPassedSessionCount,refetch:o,loading:n}})({topicSlug:t}),l=o&&!!n&&n>=10;return(0,s.useEffect)(()=>{l&&(0,C.openModal)({uniqId:"kdcMaxTopicCompleteAlert",icon:"alert",title:"일일 최대 진도율을 초과했어요",content:()=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("p",{children:["하루 최대 ",10,"개 토픽의 진도율만 인정해요."]}),(0,v.jsxs)("p",{children:["오늘은 복습을 해주시고, 다른 토픽은",(0,v.jsx)("br",{})," 내일 더 학습해주세요."]})]}),primaryButton:{text:"확인하기"}})},[l,e]),(0,s.useEffect)(()=>{o&&i()},[e,o]),l})(),{checkKdsVerifyNeededLazy:eT}=(0,M.useCheckKDSVerifyNeededLazy)(),{openKdcLastLessonCompleteModal:eS}=(()=>{let e=(0,n.useRouter)(),{topicTypedId:t}=(0,P.useResourceKeyContext)(),{getNextKdcSession:s}=(0,D.useNextKdcSessionLazy)(),{getKdcEnrollmentByTopic:o}=(()=>{let[e,{loading:t}]=(0,B.useLazyQuery)(q);return{getKdcEnrollmentByTopic:async t=>{let s=await e({variables:t});return s.data?.node?.kdcSession?.kdcUserSession?.kdcEnrollment},loading:t}})(),{enroll:i}=(0,S.useEnrollTopicV3)();return{openKdcLastLessonCompleteModal:async()=>{let[n,l]=await Promise.all([s(t),o({topicTypedId:t})]);if(n)if(n.node.kdcSession?.nextSession?.topic){let t=n.node.kdcSession?.nextSession?.topic,s=t?.currentUserNextLesson;(0,C.openModal)({icon:"challenge",title:"토픽의 마지막 레슨이에요",content:"다음 토픽을 학습하러 가볼까요?",primaryButton:t&&s?{text:"다음 토픽 학습하기",onClick:async o=>{await i({topicResourceKey:t.slug}),e.push(`/topics/${t.slug}/lessons/${s.code}`),o()}}:void 0,secondaryButton:l?{text:"커리큘럼 보기",onClick:t=>{e.push(`/kdc/enrollments/${l.typedId}`),t()}}:void 0})}else(0,C.openModal)({icon:"challenge",title:"과정의 마지막 레슨이에요.",primaryButton:l?{text:"커리큘럼 보기",onClick:t=>{e.push(`/kdc/enrollments/${l.typedId}`),t()}}:void 0,secondaryButton:{text:"닫기"}})}}})(),[ew,ej]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let t;if(ej(!1),e?.studyNote?.canPass)return void ej(!0);let s=R(e?.studyNote?.id??""),o=e?.currentUserRequiredPlaybackDuration;if(!o||s>=o-1)return void ej(!0);let n=setInterval(()=>{(s=R(e?.studyNote?.id??""))>=o-1&&(t=setTimeout(()=>{ej(!0)},1e3),clearInterval(n))},1e3);return()=>{clearInterval(n),clearTimeout(t)}},[e]);let eI=(0,s.useMemo)(()=>{if(e?.gradingType===t.ExerciseGradingType.Submission||eE)return!1;let s=e?.type===t.LessonType.Note,o=e?.studyNote?.status===t.StudyNoteStatus.CompletedContent;return eu&&(s||e?.type===t.LessonType.Video&&ew||o)},[e?.studyNote?.status,e?.type,e?.studyNote?.canPass,e?.gradingType,eu,ew,eE]),eL=()=>{J&&K.push(`/topics/${N}/lessons/${J.code}`)},eN=async e=>{if(ed.current=!0,!w)return;let{lesson:t}=await Z({studyNoteTypedId:e,topicTypedId:w});if(!t)return;await en(t);let s=async()=>{if(!t)return;if($?.kdcSession){let e=t.studyNote?.enrollment.passedLesson?.totalCount;if("number"!=typeof e)return;if(e===X.length)return void z();if(!J)return void eS()}else{let e=t.studyNote?.enrollment;if((0,m.isTopicJustGraduated)(e,$?.currentUserEnrollment)){e?.canIssueCertificate&&el();return}if(!J)return void er()}let e=await ev(N);e?ex({examStepTypedId:e.typedId,onFinish:eL}):ed.current&&(ed.current=!1,eL())},o=async()=>{await Q(s)||s()};eC||et?o():ef(o,!!$?.kdcSession)},eR=async()=>{if(!e?.id)return;let s=await eT({reason:t.VerificationReason.LessonEnter,lessonId:e.id});if(s?.needKDSVerify.need)return void K.replace(`/topics/${N}/lessons/${F}/kds-verify`);let o=(0,j.getWistiaApi)();o?.state()==="playing"&&o.pause();let n=e?.studyNote?.typedId??"";eb&&w&&(await em({topicResourceKey:N,mediumTypedId:Y}),n=await ep({lessonTypedId:L,topicTypedId:w}));try{await eN(n),k(e?.studyNote?.id??"")}catch(e){switch(e?.graphQLErrors?.[0]?.extensions?.code){case f.ErrorCode.NOT_ALLOWED_TO_COMPLETE_LESSON:(0,y.alertPreventedLesson)();break;case f.ErrorCode.NOT_ALLOWED_TO_COMPLETED_LESSON_DURATION:(0,g.alertLessonDurationNeeded)()}}};return(0,s.useEffect)(()=>()=>{ed.current=!1},[K.asPath]),{submittable:eI,visible:eu,handleClickCompleteButton:()=>{if(eI){if(ea)return void eL();if(!eg)return void ey(eR);eR()}},lessonPassed:ea,loading:ei||ee||ec||e_}}],396742)},200571,e=>{"use strict";var t=e.i(94601),s=e.i(136960),o=e.i(852396),n=e.i(351623),i=e.i(982742),l=e.i(910657);let r=n.gql`
  ${l.USER_THEME_FIELDS}
  mutation ThemeChange($input: ThemeChangeInput!) {
    themeChange(input: $input) {
      id
      ...userThemeFragment
    }
  }
`,a="@keepAutoPass",d="@guruInContent",u=(0,s.createContext)({currentTheme:o.Classroom_Theme.Light,setTheme:()=>null,lessonAutoPass:!1,setLessonAutoPass:()=>null,isGuruInContent:!1,setIsGuruInContent:()=>null});e.s(["ClassroomSettingProvider",0,({children:e})=>{let{theme:o}=(0,l.useMyTheme)(),{changeTheme:n}=(()=>{let[e,{loading:t}]=(0,i.useMutation)(r);return{changeTheme:e,loading:t}})(),{keepAuto:c,setKeepAuto:m}=(()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t("true"===localStorage.getItem(a))},[]),{keepAuto:e,setKeepAuto:e=>{t(e),localStorage.setItem(a,e?"true":"false")}}})(),{isGuruInContent:_,setIsGuruInContent:p}=(()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem(d);t(!e||"true"===e)},[]),{isGuruInContent:e,setIsGuruInContent:e=>{t(e),localStorage.setItem(d,e?"true":"false")}}})(),h=(0,s.useMemo)(()=>({currentTheme:o,setTheme:e=>n({variables:{input:{theme:e}}}),lessonAutoPass:c,setLessonAutoPass:m,isGuruInContent:_,setIsGuruInContent:p}),[o,c,_]);return(0,t.jsx)(u.Provider,{value:h,children:e})},"useClassroomSetting",0,()=>(0,s.useContext)(u)],200571)},551261,e=>{"use strict";e.s(["getLessonTitle",0,e=>`${"number"==typeof e?.lessonIndex?(e.lessonIndex+1).toString().padStart(2,"0")+".":""} ${e.title??""}`])},657364,e=>{"use strict";var t=e.i(136960);e.s(["useDragHandler",0,(e,s)=>{let o=(0,t.useRef)(!1),{onDrag:n,onDragStart:i,onDragEnd:l,onClick:r}=s;return()=>{o.current=!1;let t=({clientX:t,clientY:s})=>{o.current=!0,n("horizontal"===e?t:s)},s=({touches:t})=>{let s=t&&("horizontal"===e?t[0].pageX:t[0].pageY);s&&(o.current=!0,n(s))},a=()=>{document.body.removeEventListener("mousemove",t),document.body.removeEventListener("touchmove",s),!o.current&&r&&r(),l&&l()};i&&i(),document.body.addEventListener("mousemove",t),document.body.addEventListener("touchmove",s),window.addEventListener("mouseup",a,{once:!0}),window.addEventListener("touchend",a,{once:!0})}}])},182752,e=>{"use strict";var t,s=((t={}).codeEditor="codeEditor",t.jupyter="jupyter",t.canvas="canvas",t.markdown="markdown",t.none="none",t);e.s(["LessonSideViewType",()=>s])},165841,435086,891583,e=>{"use strict";var t,s=((t={}).SAVE="SAVE",t.RESET="RESET",t.RUN="RUN",t.GRADE="GRADE",t.BOOKMARK="BOOKMARK",t.MEMO="MEMO",t.TOGGLE_EXERCISE="TOGGLE_EXERCISE",t.TOGGLE_SIDE_NAV="TOGGLE_SIDE_NAV",t.SUBMIT="SUBMIT",t.SEARCH="SEARCH",t);let o={SAVE:{window:"ctrl+s",mac:"meta+s"},RESET:{window:"ctrl+shift+backspace",mac:"meta+shift+backspace"},RUN:{window:"ctrl+alt+r",mac:"ctrl+enter"},GRADE:{window:"ctrl+alt+j",mac:"meta+ctrl+enter"},BOOKMARK:{window:"ctrl+shift+o",mac:"meta+shift+o"},MEMO:{window:"ctrl+shift+m",mac:"meta+shift+m"},TOGGLE_EXERCISE:{window:"alt+shift+x"},TOGGLE_SIDE_NAV:{window:"alt+shift+l"},SUBMIT:{window:"ctrl+enter",mac:"meta+enter"},SEARCH:{window:"ctrl+k",mac:"meta+k"}};e.s(["HOT_KEY_CODE",0,o,"HotKeyName",()=>s],165841);var n=e.i(136960),i=e.i(608911),l=e.i(441139);function r(){return(r=Object.assign.bind()).apply(null,arguments)}e.s(["useHotKeyLabel",0,()=>{let e=(0,n.useContext)(l.OsNameContext),t=e===i.OSName.MacOS;return{getHotKeyLabel:s=>{if(e!==i.OSName.MacOS&&e!==i.OSName.Windows)return"";let n=o[s];return(t?n.mac??n.window:n.window).replace(/alt/g,t?"option":"alt").replace(/meta/g,t?"cmd":"window").replace(/\+/g," + ")}}}],435086),e.i(94601);var a=["shift","alt","meta","mod","ctrl"],d={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function u(e){return(e&&d[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function c(e,t){return void 0===t&&(t=","),e.split(t)}function m(e,t,s){void 0===t&&(t="+");var o=e.toLocaleLowerCase().split(t).map(function(e){return u(e)}),n={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod")},i=o.filter(function(e){return!a.includes(e)});return r({},n,{keys:i,description:s,hotkey:e})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){void 0!==e.key&&h([u(e.key),u(e.code)])}),document.addEventListener("keyup",function(e){void 0!==e.key&&g([u(e.key),u(e.code)])})),"undefined"!=typeof window&&window.addEventListener("blur",function(){_.clear()});var _=new Set;function p(e){return Array.isArray(e)}function h(e){var t=Array.isArray(e)?e:[e];_.has("meta")&&_.forEach(function(e){return!a.includes(e)&&_.delete(e.toLowerCase())}),t.forEach(function(e){return _.add(e.toLowerCase())})}function g(e){var t=Array.isArray(e)?e:[e];"meta"===e?_.clear():t.forEach(function(e){return _.delete(e.toLowerCase())})}function y(e,t){void 0===t&&(t=!1);var s,o=e.target,n=e.composed,i=null;return(i=(s=o).tagName&&!s.tagName.startsWith("-")&&s.tagName.includes("-")&&n?e.composedPath()[0]&&e.composedPath()[0].tagName:o&&o.tagName,p(t))?!!(i&&t&&t.some(function(e){var t;return e.toLowerCase()===(null==(t=i)?void 0:t.toLowerCase())})):!!(i&&t&&t)}var f=function(e,t,s){void 0===s&&(s=!1);var o,n=t.alt,i=t.meta,l=t.mod,r=t.shift,a=t.ctrl,d=t.keys,c=e.key,m=e.code,h=e.ctrlKey,g=e.metaKey,y=e.shiftKey,f=e.altKey,x=u(m),v=c.toLowerCase();if(!(null!=d&&d.includes(x))&&!(null!=d&&d.includes(v))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(x))return!1;if(!s){if(!f===n&&"alt"!==v||!y===r&&"shift"!==v)return!1;if(l){if(!g&&!h)return!1}else if(!g===i&&"meta"!==v&&"os"!==v||!h===a&&"ctrl"!==v&&"control"!==v)return!1}return!!(d&&1===d.length&&(d.includes(v)||d.includes(x)))||(d?(void 0===o&&(o=","),(p(d)?d:d.split(o)).every(function(e){return _.has(e.trim().toLowerCase())})):!d||!1)},x=(0,n.createContext)(void 0),v=(0,n.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),C=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},b="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;e.s(["useOsHotKeys",0,(e,t,s,o)=>{var r,a,d,_,E,T,S,w,j,I,L,N,R,k;return r=(0,n.useContext)(l.OsNameContext)===i.OSName.MacOS?e.mac??e.window:e.window,d=(a=(0,n.useState)(null))[0],_=a[1],E=(0,n.useRef)(!1),T=s instanceof Array?o instanceof Array?void 0:o:s,S=p(r)?r.join(null==T?void 0:T.splitKey):r,w=s instanceof Array?s:o instanceof Array?o:void 0,j=(0,n.useCallback)(t,null!=w?w:[]),I=(0,n.useRef)(j),w?I.current=j:I.current=t,!function e(t,s){return t&&s&&"object"==typeof t&&"object"==typeof s?Object.keys(t).length===Object.keys(s).length&&Object.keys(t).reduce(function(o,n){return o&&e(t[n],s[n])},!0):t===s}((L=(0,n.useRef)(void 0)).current,T)&&(L.current=T),N=L.current,R=(0,n.useContext)(v).enabledScopes,k=(0,n.useContext)(x),b(function(){var e;if((null==N?void 0:N.enabled)!==!1&&(e=null==N?void 0:N.scopes,0===R.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!e||R.some(function(t){return e.includes(t)})||R.includes("*"))){var t=function(e,t){var s;if(void 0===t&&(t=!1),!y(e,["input","textarea","select"])||y(e,null==N?void 0:N.enableOnFormTags)){if(null!==d){var o=d.getRootNode();if((o instanceof Document||o instanceof ShadowRoot)&&o.activeElement!==d&&!d.contains(o.activeElement))return void C(e)}(null==(s=e.target)||!s.isContentEditable||null!=N&&N.enableOnContentEditable)&&c(S,null==N?void 0:N.splitKey).forEach(function(s){var o,n,i,l=m(s,null==N?void 0:N.combinationKey);if(f(e,l,null==N?void 0:N.ignoreModifiers)||null!=(i=l.keys)&&i.includes("*")){if(null!=N&&null!=N.ignoreEventWhen&&N.ignoreEventWhen(e)||t&&E.current)return;if(("function"==typeof(o=null==N?void 0:N.preventDefault)&&o(e,l)||!0===o)&&e.preventDefault(),"function"==typeof(n=null==N?void 0:N.enabled)?!n(e,l):!0!==n&&void 0!==n)return void C(e);I.current(e,l),t||(E.current=!0)}})}},s=function(e){void 0!==e.key&&(h(u(e.code)),((null==N?void 0:N.keydown)===void 0&&(null==N?void 0:N.keyup)!==!0||null!=N&&N.keydown)&&t(e))},o=function(e){void 0!==e.key&&(g(u(e.code)),E.current=!1,null!=N&&N.keyup&&t(e,!0))},n=d||(null==T?void 0:T.document)||document;return n.addEventListener("keyup",o,null==T?void 0:T.eventListenerOptions),n.addEventListener("keydown",s,null==T?void 0:T.eventListenerOptions),k&&c(S,null==N?void 0:N.splitKey).forEach(function(e){return k.addHotkey(m(e,null==N?void 0:N.combinationKey,null==N?void 0:N.description))}),function(){n.removeEventListener("keyup",o,null==T?void 0:T.eventListenerOptions),n.removeEventListener("keydown",s,null==T?void 0:T.eventListenerOptions),k&&c(S,null==N?void 0:N.splitKey).forEach(function(e){return k.removeHotkey(m(e,null==N?void 0:N.combinationKey,null==N?void 0:N.description))})}}},[d,S,N,R]),_}],891583)},962493,e=>{e.v({_lg:"SplitViewHandle-module-scss-module__28hrzW___lg",_md:"SplitViewHandle-module-scss-module__28hrzW___md",_sm:"SplitViewHandle-module-scss-module__28hrzW___sm",active:"SplitViewHandle-module-scss-module__28hrzW__active",bar:"SplitViewHandle-module-scss-module__28hrzW__bar",button:"SplitViewHandle-module-scss-module__28hrzW__button",container:"SplitViewHandle-module-scss-module__28hrzW__container",isSideViewOpened:"SplitViewHandle-module-scss-module__28hrzW__isSideViewOpened",resize:"SplitViewHandle-module-scss-module__28hrzW__resize"})},783783,e=>{e.v({_lg:"ContentLayout-module-scss-module__byU1WG___lg",_md:"ContentLayout-module-scss-module__byU1WG___md",_sm:"ContentLayout-module-scss-module__byU1WG___sm",codeReview:"ContentLayout-module-scss-module__byU1WG__codeReview",container:"ContentLayout-module-scss-module__byU1WG__container",content:"ContentLayout-module-scss-module__byU1WG__content",contentWrapper:"ContentLayout-module-scss-module__byU1WG__contentWrapper",dragging:"ContentLayout-module-scss-module__byU1WG__dragging",drawer:"ContentLayout-module-scss-module__byU1WG__drawer",exercise:"ContentLayout-module-scss-module__byU1WG__exercise",exerciseContent:"ContentLayout-module-scss-module__byU1WG__exerciseContent",hasDrawer:"ContentLayout-module-scss-module__byU1WG__hasDrawer",isSideViewOpen:"ContentLayout-module-scss-module__byU1WG__isSideViewOpen"})},775176,e=>{"use strict";var t=e.i(94601),s=e.i(136960),o=e.i(182752),n=e.i(350890),i=e.i(657364),l=e.i(45872),r=e.i(804623),a=e.i(165841),d=e.i(435086),u=e.i(891583),c=e.i(962493);let m=n.default.bind(c.default),_=({isSideViewOpened:e,active:o,onClick:n,onDrag:c,onDragEnd:_})=>{let{getHotKeyLabel:p}=(0,d.useHotKeyLabel)(),h=p(a.HotKeyName.TOGGLE_EXERCISE),g=(0,s.useCallback)(e=>{c(e)},[c]),y=(0,i.useDragHandler)("horizontal",{onDrag:g,onDragEnd:_});return(0,u.useOsHotKeys)(a.HOT_KEY_CODE[a.HotKeyName.TOGGLE_EXERCISE],n,{enableOnFormTags:!0,preventDefault:!0}),(0,t.jsxs)("div",{className:m("container",{isSideViewOpened:e,active:o}),tabIndex:0,onMouseDown:y,onTouchStart:y,children:[(0,t.jsx)("button",{id:"split-view-handle-button",type:"button",className:m("button"),onClick:n,"data-tooltip-id":"split-view-resize",children:(0,t.jsx)(l.Icon,{name:"chevron-fill",rotate:e?90:270})}),(0,t.jsx)("div",{role:"button",id:"split-view-handle-bar",className:m("bar"),children:(0,t.jsx)("div",{className:m("resize"),children:(0,t.jsx)(l.Icon,{name:"fullSizing",size:"small",rotate:45})})}),h&&(0,t.jsx)(r.Tooltip,{id:"split-view-resize",place:"left",content:`실행기 ${e?"닫기":"열기"} (${h})`})]})};var p=e.i(783783),h=e.i(686666);let g=({children:e})=>{let[o,n]=(0,s.useState)(()=>void 0),[i,l]=(0,s.useState)(()=>void 0),r=(0,s.useMemo)(()=>({showSolution:o,setShowSolution:n,focusExplanation:i,setFocusExplanation:l}),[o,i]);return(0,t.jsx)(h.SolutionContext.Provider,{value:r,children:e})},y=n.default.bind(p.default);e.s(["ContentLayout",0,({content:e,exercise:n,codeReview:i,drawer:l,sideViewType:r,isSideViewOpen:a,setSideViewType:d,initialContentWidth:u=50})=>{let[c,m]=(0,s.useState)(u),p=r===o.LessonSideViewType.none,h=i&&!a,f=(0,s.useRef)(null),x=a?c:100,[v,C]=(0,s.useState)(!1),b=(0,s.useCallback)(e=>{if(C(!0),!a||!f.current?.offsetWidth)return;let t=e/f.current?.offsetWidth*100;t>=20&&100-t>20&&m(t)},[a]);return(0,t.jsxs)("div",{className:y("container",{isSideViewOpen:a,dragging:v}),children:[(0,t.jsxs)(g,{children:[(0,t.jsxs)("div",{className:y("contentWrapper",{hasDrawer:l}),ref:f,children:[(0,t.jsx)("div",{className:y("content"),style:{width:`${x}%`},children:e}),!p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{isSideViewOpened:a,active:v,onClick:()=>{d(a?null:"editor")},onDrag:b,onDragEnd:()=>{C(!1)}}),(0,t.jsx)("div",{className:y("exercise"),style:{width:`${100-x}%`},children:(0,t.jsx)("div",{className:y("exerciseContent"),children:n})})]})]}),(0,t.jsx)("div",{className:y("drawer"),children:l})]}),h&&(0,t.jsx)("div",{className:y("codeReview"),children:i})]})}],775176)},389344,e=>{e.v({_lg:"ReviewWithAIButton-module-scss-module__WwQ9nW___lg",_md:"ReviewWithAIButton-module-scss-module__WwQ9nW___md",_sm:"ReviewWithAIButton-module-scss-module__WwQ9nW___sm",button:"ReviewWithAIButton-module-scss-module__WwQ9nW__button",buttonContent:"ReviewWithAIButton-module-scss-module__WwQ9nW__buttonContent"})},672508,e=>{"use strict";var t=e.i(94601),s=e.i(350890),o=e.i(389344),n=e.i(144450);let i=s.default.bind(o.default);e.s(["ReviewWithAIButton",0,({disabled:e,onClick:s})=>(0,t.jsx)("button",{disabled:e,type:"button",onClick:s,className:i("button"),children:(0,t.jsxs)("div",{className:i("buttonContent"),children:[(0,t.jsx)(n.GuruLogo,{status:"idle",size:16}),"AI 코드리뷰"]})})])},685918,382264,e=>{"use strict";var t=e.i(136960);let s=(0,t.createContext)({sideViewType:null,setSideViewType:()=>null});e.s(["SideViewContext",0,s],382264),e.s(["useSideViewState",0,()=>{let{sideViewType:e,setSideViewType:o}=(0,t.useContext)(s);return{isSideViewOpen:null!==e,sideViewType:e,setSideViewType:o}}],685918)},49400,e=>{e.v({_lg:"ConsoleLayout-module-scss-module__F7nX6G___lg",_md:"ConsoleLayout-module-scss-module__F7nX6G___md",_sm:"ConsoleLayout-module-scss-module__F7nX6G___sm",container:"ConsoleLayout-module-scss-module__F7nX6G__container",header:"ConsoleLayout-module-scss-module__F7nX6G__header",refreshIcon:"ConsoleLayout-module-scss-module__F7nX6G__refreshIcon",reload:"ConsoleLayout-module-scss-module__F7nX6G__reload",visibleConsoleError:"ConsoleLayout-module-scss-module__F7nX6G__visibleConsoleError"})},32605,e=>{e.v({_lg:"CodeEditorConsoleTab-module-scss-module__HOMmxG___lg",_md:"CodeEditorConsoleTab-module-scss-module__HOMmxG___md",_sm:"CodeEditorConsoleTab-module-scss-module__HOMmxG___sm",active:"CodeEditorConsoleTab-module-scss-module__HOMmxG__active",button:"CodeEditorConsoleTab-module-scss-module__HOMmxG__button",container:"CodeEditorConsoleTab-module-scss-module__HOMmxG__container",inactive:"CodeEditorConsoleTab-module-scss-module__HOMmxG__inactive",singleTab:"CodeEditorConsoleTab-module-scss-module__HOMmxG__singleTab",singleTabWrapper:"CodeEditorConsoleTab-module-scss-module__HOMmxG__singleTabWrapper"})},894400,e=>{e.v({_lg:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW___lg",_md:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW___md",_sm:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW___sm",aiReviewText:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__aiReviewText",aiReviewTextWrapper:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__aiReviewTextWrapper",chevron:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__chevron",container:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__container",content:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__content",errorText:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__errorText",errorTextWrapper:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__errorTextWrapper",flag:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__flag",link:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__link",resolveErrorText:"ConsoleErrorAiReviewGuide-module-scss-module__Kc-VeW__resolveErrorText"})},851072,e=>{e.v({_lg:"ConsoleGradeGuide-module-scss-module__d_OvTW___lg",_md:"ConsoleGradeGuide-module-scss-module__d_OvTW___md",_sm:"ConsoleGradeGuide-module-scss-module__d_OvTW___sm",aiReview:"ConsoleGradeGuide-module-scss-module__d_OvTW__aiReview",button:"ConsoleGradeGuide-module-scss-module__d_OvTW__button",container:"ConsoleGradeGuide-module-scss-module__d_OvTW__container",icon:"ConsoleGradeGuide-module-scss-module__d_OvTW__icon"})},289877,e=>{e.v({_lg:"EditorButton-module-scss-module__3YsGDq___lg",_md:"EditorButton-module-scss-module__3YsGDq___md",_sm:"EditorButton-module-scss-module__3YsGDq___sm",container:"EditorButton-module-scss-module__3YsGDq__container"})},410182,354922,273529,405695,e=>{"use strict";var t=e.i(94601),s=e.i(350890);let o={default:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult",enableAiReview:!0},get PYTHON(){return o.default},get JAVA(){return o.default},get JAVASCRIPT(){return o.default},get NULL(){return o.default},HTML_CSS:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult",enableAiReview:!0},JUPYTER_DS:{consoleList:["jupyter"],initialConsoleType:"jupyter",afterExecutionConsoleType:"jupyter",enableAiReview:!0},JUPYTER_DS_PYTHON_3_10_9:{consoleList:["jupyter"],initialConsoleType:"jupyter",afterExecutionConsoleType:"jupyter",enableAiReview:!0},JUPYTER_DS_SEABORN_0_13_2:{consoleList:["jupyter"],initialConsoleType:"jupyter",afterExecutionConsoleType:"jupyter",enableAiReview:!0},SQL:{consoleList:["sqlTable","schema"],initialConsoleType:"sqlTable",afterExecutionConsoleType:"sqlTable",enableAiReview:!0},DJANGO:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},DRF:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},PYTHON_TRM:{consoleList:["terminal","executionResult"],initialConsoleType:"terminal",afterExecutionConsoleType:"executionResult",enableAiReview:!0},PYTHON_3_12_8:{consoleList:["terminal","executionResult"],initialConsoleType:"terminal",afterExecutionConsoleType:"executionResult",enableAiReview:!0},PYTHON_3_12_8_STREAMLIT:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},REACT:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},REACT_18_2_0:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},REACT_19_VITE:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},EXPRESS:{consoleList:["terminal","executionResult"],initialConsoleType:"terminal",afterExecutionConsoleType:"executionResult",enableAiReview:!1},EXPRESS_TS:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},NEXT_JS:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},UNIX:{consoleList:["terminal"],initialConsoleType:"terminal",afterExecutionConsoleType:"terminal",enableAiReview:!1},JAVA_8:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult",enableAiReview:!0},JAVA_17:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult",enableAiReview:!0},JAVA_21:{consoleList:["executionResult"],initialConsoleType:"executionResult",afterExecutionConsoleType:"executionResult",enableAiReview:!0},JAVA_21_TRM:{consoleList:["terminal","executionResult"],initialConsoleType:"terminal",afterExecutionConsoleType:"executionResult",enableAiReview:!1}},n=Object.keys(o).filter(e=>!o[e]?.enableAiReview);e.s(["EXCLUDE_AI_REVIEW_LANGUAGES",0,n,"codeEditorSettings",0,o],354922);var i=e.i(133464),l=e.i(49400),r=e.i(136960);let a=(0,r.createContext)({isConsoleError:!1,onConsoleError:()=>null,setInstanceIp:()=>null,setConsoleResult:()=>null,setExecutionType:()=>null});e.s(["ClassroomEditorContext",0,a,"ClassroomEditorContextProvider",0,({uniqKey:e,children:s})=>{let[o,n]=(0,r.useState)(),[i,l]=(0,r.useState)(),[d,u]=(0,r.useState)(),[c,m]=(0,r.useState)(!1),_=e=>{m(e)},p=(0,r.useMemo)(()=>({isConsoleError:c,onConsoleError:_,instanceIp:o,setInstanceIp:n,consoleResult:d,setConsoleResult:u,executionType:i,setExecutionType:l}),[i,c,o,d]);return(0,r.useEffect)(()=>{n(void 0),u(void 0),m(!1),l("RUN")},[e]),(0,t.jsx)(a.Provider,{value:p,children:s})}],273529);var d=e.i(32605),u=e.i(45872),c=e.i(894400),m=e.i(168872),_=e.i(896267),p=e.i(453126),h=e.i(528266);let g=s.default.bind(c.default),y=[h.TOPIC_SLUG.GETTING_STARTED_WITH_PYTHON,h.TOPIC_SLUG.CORE_CONCEPT_OF_PYTHON_PROGRAMMING,h.TOPIC_SLUG.GETTING_STARTED_WITH_JAVASCRIPT,h.TOPIC_SLUG.CORE_CONCEPT_OF_JAVASCRIPT_PROGRAMMING],f={[h.TOPIC_SLUG.GETTING_STARTED_WITH_PYTHON]:"/tutorials/81/how-to-resolve-errors-in-python",[h.TOPIC_SLUG.CORE_CONCEPT_OF_PYTHON_PROGRAMMING]:"/tutorials/81/how-to-resolve-errors-in-python",[h.TOPIC_SLUG.GETTING_STARTED_WITH_JAVASCRIPT]:"/tutorials/87/how-to-resolve-errors-in-javascript",[h.TOPIC_SLUG.CORE_CONCEPT_OF_JAVASCRIPT_PROGRAMMING]:"/tutorials/87/how-to-resolve-errors-in-javascript"},x=({language:e,onClickReviewWithAI:s,lesson:o,topic:i})=>{let l=(0,_.useRouter)().query.t_slug;if(!l)return null;let r=y.includes(l);return(0,t.jsx)("div",{className:g("container"),onMouseDown:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:g("content"),children:[(0,t.jsxs)("div",{className:g("errorTextWrapper"),children:[(0,t.jsx)(u.Icon,{name:"error-fill",size:"small",color:"--diff-remove-txt"}),(0,t.jsxs)("div",{className:g("errorText"),children:["오류가 발생했어요. ",!n.includes(e)&&(0,t.jsxs)("span",{className:g("aiReviewTextWrapper"),children:[(0,t.jsx)("span",{className:g("aiReviewText"),onClick:()=>{s?.(),p.Amplitude.logEvent("click.ai_coaching_button",{lesson:{id:o?.id,name:o?.title},topic:{id:i?.id,name:i?.title},type:"error"})},children:"AI 코드리뷰"}),"로 왜 오류가 발생했는지 확인해 보세요!"]})]})]}),r&&(0,t.jsx)(m.default,{href:f[l],target:"_blank",rel:"noreferrer noopener",className:g("link"),onClick:()=>p.Amplitude.logEvent("click.error_guide_in_console",{topic:{slug:l}}),children:(0,t.jsxs)("div",{className:g("resolveErrorText"),children:[(0,t.jsx)(u.Icon,{name:"flag",className:g("flag"),size:"small",color:"--diff-remove-txt"}),"오류 스스로 해결하는 방법",(0,t.jsx)(u.Icon,{name:"chevron",thickness:"bold",rotate:90,className:g("chevron"),size:"xsmall",color:"--diff-remove-txt"})]})})]})})};var v=e.i(851072);let C=s.default.bind(v.default),b=({language:e,onClickReviewWithAI:s,lesson:o,topic:i})=>(0,t.jsxs)("div",{className:C("container"),onMouseDown:e=>e.stopPropagation(),children:[(0,t.jsx)(u.Icon,{name:"error-fill",color:"--diff-remove-txt",size:"small",containerClassName:C("icon")}),!n.includes(e)&&(0,t.jsxs)("div",{className:C("aiReview"),children:[(0,t.jsx)("button",{className:C("button"),onClick:()=>{s?.(),p.Amplitude.logEvent("click.ai_coaching_button",{lesson:{id:o?.id,name:o?.title},topic:{id:i?.id,name:i?.title},type:"typo"})},children:"AI 코드리뷰"}),"를 이용하여 "]})," 실행 결과에 오타가 없는지 확인해 보세요."]}),E=s.default.bind(d.default),T=({language:e,consoleList:s,currentTab:o,handleSetTab:n,onClickReviewWithAI:i,lesson:l,topic:d})=>{let{isConsoleError:u,executionType:c}=(0,r.useContext)(a),m=s?.length>1,_=e=>{switch(e){case"executionResult":case"jupyter":case"sqlTable":default:return m?"실행 결과":"</> 실행 결과";case"schema":return"스키마";case"terminal":return"터미널"}},p=(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:E("container"),children:s.map(e=>(0,t.jsx)("button",{type:"button",className:E("button",{active:o===e,inactive:o!==e}),onClick:n,id:`${e}`,children:_(e)},e))}),"terminal"!==o&&(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(x,{language:e,onClickReviewWithAI:i,lesson:l,topic:d}),!u&&"GRADE_FAIL"===c&&(0,t.jsx)(b,{language:e,onClickReviewWithAI:i,lesson:l,topic:d})]})]}),h="terminal"!==o?(0,t.jsxs)("div",{className:E("singleTabWrapper"),children:[(0,t.jsx)("span",{className:E("singleTab"),children:_(s?.[0])}),u&&(0,t.jsx)(x,{language:e,onClickReviewWithAI:()=>{i?.()},lesson:l,topic:d}),!u&&"GRADE_FAIL"===c&&(0,t.jsx)("div",{className:E("gradeGuide"),children:(0,t.jsx)(b,{language:e,onClickReviewWithAI:()=>{i?.()},lesson:l,topic:d})})]}):(0,t.jsx)("span",{className:E("singleTab"),children:_(s?.[0])});return m?p:h},S=s.default.bind(l.default);e.s(["ConsoleLayout",0,({language:e,currentTab:s,setCurrentTab:n,onReload:l,content:r,onClickReviewWithAI:a,lesson:d,topic:u})=>{let c=o[e],m=c?.consoleList??[],_=m.length>1&&"terminal"!==s;return(0,t.jsxs)("div",{className:S("container"),children:[(0,t.jsxs)("div",{className:S("header",{visibleConsoleError:_}),children:[(0,t.jsx)(T,{language:e,consoleList:m,currentTab:s,handleSetTab:({target:e})=>{let t=e.id;t&&n(t)},onClickReviewWithAI:a,lesson:d,topic:u}),"terminal"===s&&(0,t.jsx)("div",{className:S("reload"),children:(0,t.jsx)(i.Button,{variant:"text",size:"small",onClick:()=>{p.Amplitude.logEvent("click.lesson_page_exercise_reload_button",{lesson:{id:d?.id,name:d?.title},topic:{id:u?.id,name:u?.title}}),l?.()},rightIcon:"rotateRight",children:"새로고침"})})]}),r]})}],410182);var w=e.i(804623),j=e.i(289877);let I=s.default.bind(j.default);e.s(["EditorButton",0,({className:e,onClick:s,icon:o,title:n,tooltip:i,tooltipPlace:l})=>{let r=`newEditorBtn-tooltip--${n}`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:I("container",e),onClick:e=>{e.stopPropagation(),s()},role:"button",tabIndex:0,"data-tooltip-id":r,children:(0,t.jsx)(u.Icon,{name:o,color:"--gray80"})}),(0,t.jsx)(w.Tooltip,{id:r,place:l,content:i})]})}],405695)},997012,e=>{e.v({_lg:"DownloadableViewer-module-scss-module__aZHMEG___lg",_md:"DownloadableViewer-module-scss-module__aZHMEG___md",_sm:"DownloadableViewer-module-scss-module__aZHMEG___sm",container:"DownloadableViewer-module-scss-module__aZHMEG__container"})},835751,e=>{e.v({_lg:"EditorFilePath-module-scss-module__yHLoWq___lg",_md:"EditorFilePath-module-scss-module__yHLoWq___md",_sm:"EditorFilePath-module-scss-module__yHLoWq___sm",container:"EditorFilePath-module-scss-module__yHLoWq__container",text:"EditorFilePath-module-scss-module__yHLoWq__text"})},868767,e=>{e.v({_lg:"ImageViewer-module-scss-module__nlQFgq___lg",_md:"ImageViewer-module-scss-module__nlQFgq___md",_sm:"ImageViewer-module-scss-module__nlQFgq___sm",container:"ImageViewer-module-scss-module__nlQFgq__container",content:"ImageViewer-module-scss-module__nlQFgq__content"})},821277,e=>{e.v({_lg:"ReadonlyCodeViewer-module-scss-module__r0HpLa___lg",_md:"ReadonlyCodeViewer-module-scss-module__r0HpLa___md",_sm:"ReadonlyCodeViewer-module-scss-module__r0HpLa___sm",container:"ReadonlyCodeViewer-module-scss-module__r0HpLa__container",label:"ReadonlyCodeViewer-module-scss-module__r0HpLa__label"})},499117,e=>{e.v({_lg:"SqlTable-module-scss-module__eqBNPa___lg",_md:"SqlTable-module-scss-module__eqBNPa___md",_sm:"SqlTable-module-scss-module__eqBNPa___sm",container:"SqlTable-module-scss-module__eqBNPa__container"})},662073,e=>{e.v({_lg:"ConsoleTerminal-module-scss-module__Nbao2a___lg",_md:"ConsoleTerminal-module-scss-module__Nbao2a___md",_sm:"ConsoleTerminal-module-scss-module__Nbao2a___sm",closed:"ConsoleTerminal-module-scss-module__Nbao2a__closed",container:"ConsoleTerminal-module-scss-module__Nbao2a__container",loadingPopup:"ConsoleTerminal-module-scss-module__Nbao2a__loadingPopup",open:"ConsoleTerminal-module-scss-module__Nbao2a__open","xterm-rows":"ConsoleTerminal-module-scss-module__Nbao2a__xterm-rows","xterm-viewport":"ConsoleTerminal-module-scss-module__Nbao2a__xterm-viewport"})},225245,(e,t,s)=>{!function(t,o){if("function"==typeof define&&define.amd){let t;void 0!==(t=o(s))&&e.v(t)}else if("string"!=typeof s.nodeName)o(s);else{var n={};o(n),t.AnsiUp=n.default}}(e.e,function(e){"use strict";var t,s,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};(t=s||(s={}))[t.EOS=0]="EOS",t[t.Text=1]="Text",t[t.Incomplete=2]="Incomplete",t[t.ESC=3]="ESC",t[t.Unknown=4]="Unknown",t[t.SGR=5]="SGR",t[t.OSCURL=6]="OSCURL";var n=function(){function e(){this.VERSION="5.2.1",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1},this._escape_html=!0}return Object.defineProperty(e.prototype,"use_classes",{get:function(){return this._use_classes},set:function(e){this._use_classes=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(e){this._url_whitelist=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"escape_html",{get:function(){return this._escape_html},set:function(e){this._escape_html=e},enumerable:!1,configurable:!0}),e.prototype.setup_palettes=function(){var e=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(function(t){t.forEach(function(t){e.palette_256.push(t)})});for(var t=[0,95,135,175,215,255],s=0;s<6;++s)for(var o=0;o<6;++o)for(var n=0;n<6;++n){var i={rgb:[t[s],t[o],t[n]],class_name:"truecolor"};this.palette_256.push(i)}for(var l=8,r=0;r<24;++r,l+=10){var a={rgb:[l,l,l],class_name:"truecolor"};this.palette_256.push(a)}},e.prototype.escape_txt_for_html=function(e){return this._escape_html?e.replace(/[&<>"']/gm,function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"'"===e?"&#x27;":void 0}):e},e.prototype.append_buffer=function(e){var t=this._buffer+e;this._buffer=t},e.prototype.get_next_packet=function(){var e={kind:s.EOS,text:"",url:""},t=this._buffer.length;if(0==t)return e;var n=this._buffer.indexOf("\x1b");if(-1==n)return e.kind=s.Text,e.text=this._buffer,this._buffer="",e;if(n>0)return e.kind=s.Text,e.text=this._buffer.slice(0,n),this._buffer=this._buffer.slice(n),e;if(0==n){if(t<3)return e.kind=s.Incomplete,e;var l=this._buffer.charAt(1);if("["!=l&&"]"!=l&&"("!=l)return e.kind=s.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;if("["==l){this._csi_regex||(this._csi_regex=i(o(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \x1b[                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \x1b[                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-\x1f:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "])));var r=this._buffer.match(this._csi_regex);if(null===r)return e.kind=s.Incomplete,e;if(r[4])return e.kind=s.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;""!=r[1]||"m"!=r[3]?e.kind=s.Unknown:e.kind=s.SGR,e.text=r[2];var a=r[0].length;return this._buffer=this._buffer.slice(a),e}if("]"==l){if(t<4)return e.kind=s.Incomplete,e;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return e.kind=s.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_st||(this._osc_st=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return RegExp(e.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,""),"g")}(o(["\n                        (?:                         # legal sequence\n                          (\x1b\\)                    # ESC                           |                           # alternate\n                          (\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-\x06]                 # anything illegal\n                          |                           # alternate\n                          [\b-\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\x1c-\x1f]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var d=this._osc_st.exec(this._buffer);if(null===d)return e.kind=s.Incomplete,e;if(d[3])return e.kind=s.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;var u=this._osc_st.exec(this._buffer);if(null===u)return e.kind=s.Incomplete,e;if(u[3])return e.kind=s.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_regex||(this._osc_regex=i(o(["\n                        ^                           # beginning of line\n                                                    #\n                        \x1b]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        \x1b]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "])));var r=this._buffer.match(this._osc_regex);if(null===r)return e.kind=s.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;e.kind=s.OSCURL,e.url=r[1],e.text=r[2];var a=r[0].length;return this._buffer=this._buffer.slice(a),e}if("("==l)return e.kind=s.Unknown,this._buffer=this._buffer.slice(3),e}},e.prototype.ansi_to_html=function(e){this.append_buffer(e);for(var t=[];;){var o=this.get_next_packet();if(o.kind==s.EOS||o.kind==s.Incomplete)break;o.kind!=s.ESC&&o.kind!=s.Unknown&&(o.kind==s.Text?t.push(this.transform_to_html(this.with_state(o))):o.kind==s.SGR?this.process_ansi(o):o.kind==s.OSCURL&&t.push(this.process_hyperlink(o)))}return t.join("")},e.prototype.with_state=function(e){return{bold:this.bold,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:e.text}},e.prototype.process_ansi=function(e){for(var t=e.text.split(";");t.length>0;){var s=parseInt(t.shift(),10);if(isNaN(s)||0===s)this.fg=this.bg=null,this.bold=!1,this.italic=!1,this.underline=!1;else if(1===s)this.bold=!0;else if(3===s)this.italic=!0;else if(4===s)this.underline=!0;else if(22===s)this.bold=!1;else if(23===s)this.italic=!1;else if(24===s)this.underline=!1;else if(39===s)this.fg=null;else if(49===s)this.bg=null;else if(s>=30&&s<38)this.fg=this.ansi_colors[0][s-30];else if(s>=40&&s<48)this.bg=this.ansi_colors[0][s-40];else if(s>=90&&s<98)this.fg=this.ansi_colors[1][s-90];else if(s>=100&&s<108)this.bg=this.ansi_colors[1][s-100];else if((38===s||48===s)&&t.length>0){var o=38===s,n=t.shift();if("5"===n&&t.length>0){var i=parseInt(t.shift(),10);i>=0&&i<=255&&(o?this.fg=this.palette_256[i]:this.bg=this.palette_256[i])}if("2"===n&&t.length>2){var l=parseInt(t.shift(),10),r=parseInt(t.shift(),10),a=parseInt(t.shift(),10);if(l>=0&&l<=255&&r>=0&&r<=255&&a>=0&&a<=255){var d={rgb:[l,r,a],class_name:"truecolor"};o?this.fg=d:this.bg=d}}}}},e.prototype.transform_to_html=function(e){var t=e.text;if(0===t.length||(t=this.escape_txt_for_html(t),!e.bold&&!e.italic&&!e.underline&&null===e.fg&&null===e.bg))return t;var s=[],o=[],n=e.fg,i=e.bg;e.bold&&s.push("font-weight:bold"),e.italic&&s.push("font-style:italic"),e.underline&&s.push("text-decoration:underline"),this._use_classes?(n&&("truecolor"!==n.class_name?o.push(n.class_name+"-fg"):s.push("color:rgb("+n.rgb.join(",")+")")),i&&("truecolor"!==i.class_name?o.push(i.class_name+"-bg"):s.push("background-color:rgb("+i.rgb.join(",")+")"))):(n&&s.push("color:rgb("+n.rgb.join(",")+")"),i&&s.push("background-color:rgb("+i.rgb+")"));var l="",r="";return o.length&&(l=' class="'+o.join(" ")+'"'),s.length&&(r=' style="'+s.join(";")+'"'),"<span"+r+l+">"+t+"</span>"},e.prototype.process_hyperlink=function(e){var t=e.url.split(":");return t.length<1||!this._url_whitelist[t[0]]?"":'<a href="'+this.escape_txt_for_html(e.url)+'">'+this.escape_txt_for_html(e.text)+"</a>"},e}();function i(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return new RegExp(e.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,""))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n})},471739,e=>{e.v({_lg:"JupyterOutput-module-scss-module__8bLCrG___lg",_md:"JupyterOutput-module-scss-module__8bLCrG___md",_sm:"JupyterOutput-module-scss-module__8bLCrG___sm",displayHtml:"JupyterOutput-module-scss-module__8bLCrG__displayHtml",jupyterOutput:"JupyterOutput-module-scss-module__8bLCrG__jupyterOutput"})},782712,e=>{e.v({_lg:"Content-module-scss-module__0Wn_Wq___lg",_md:"Content-module-scss-module__0Wn_Wq___md",_sm:"Content-module-scss-module__0Wn_Wq___sm",container:"Content-module-scss-module__0Wn_Wq__container",pk:"Content-module-scss-module__0Wn_Wq__pk"})},243969,e=>{e.v({_lg:"ConsoleContent-module-scss-module__fgI1jG___lg",_md:"ConsoleContent-module-scss-module__fgI1jG___md",_sm:"ConsoleContent-module-scss-module__fgI1jG___sm",container:"ConsoleContent-module-scss-module__fgI1jG__container",multipleTab:"ConsoleContent-module-scss-module__fgI1jG__multipleTab",pre:"ConsoleContent-module-scss-module__fgI1jG__pre",terminal:"ConsoleContent-module-scss-module__fgI1jG__terminal"})},746868,e=>{e.v({_lg:"EditorHeader-module-scss-module__U80era___lg",_md:"EditorHeader-module-scss-module__U80era___md",_sm:"EditorHeader-module-scss-module__U80era___sm",container:"EditorHeader-module-scss-module__U80era__container",explorerBtn:"EditorHeader-module-scss-module__U80era__explorerBtn",explorerOpen:"EditorHeader-module-scss-module__U80era__explorerOpen"})},893274,e=>{e.v({_lg:"CodeEditorTab-module-scss-module__fKTHAW___lg",_md:"CodeEditorTab-module-scss-module__fKTHAW___md",_sm:"CodeEditorTab-module-scss-module__fKTHAW___sm",active:"CodeEditorTab-module-scss-module__fKTHAW__active",close:"CodeEditorTab-module-scss-module__fKTHAW__close",container:"CodeEditorTab-module-scss-module__fKTHAW__container",file:"CodeEditorTab-module-scss-module__fKTHAW__file",fileWrapper:"CodeEditorTab-module-scss-module__fKTHAW__fileWrapper",files:"CodeEditorTab-module-scss-module__fKTHAW__files",modified:"CodeEditorTab-module-scss-module__fKTHAW__modified",single:"CodeEditorTab-module-scss-module__fKTHAW__single",title:"CodeEditorTab-module-scss-module__fKTHAW__title",withClose:"CodeEditorTab-module-scss-module__fKTHAW__withClose"})},282876,e=>{e.v({_lg:"EditorSubmitButtons-module-scss-module__8rssFG___lg",_md:"EditorSubmitButtons-module-scss-module__8rssFG___md",_sm:"EditorSubmitButtons-module-scss-module__8rssFG___sm",container:"EditorSubmitButtons-module-scss-module__8rssFG__container",name:"EditorSubmitButtons-module-scss-module__8rssFG__name",nonRun:"EditorSubmitButtons-module-scss-module__8rssFG__nonRun"})},450560,375170,447596,875351,885850,707378,64588,151739,996373,855867,329946,30624,154392,867635,345653,64999,392033,884310,117612,254345,81685,e=>{"use strict";var t=e.i(94601),s=e.i(136960);let o=(0,s.createContext)({values:{},setEditorValue:()=>null,reset:()=>null,updateEditorValues:()=>null}),n={};e.s(["CodeEditorContext",0,o,"CodeEditorContextProvider",0,({children:e})=>{let[i,l]=(0,s.useState)(n),r=(0,s.useMemo)(()=>({values:i,setEditorValue:(e,t)=>{l(s=>{if("string"==typeof t)return{...s,[e]:t};let{[e]:o,...n}=s;return n})},reset:e=>{l(e??n)},updateEditorValues:l}),[i]);return(0,t.jsx)(o.Provider,{value:r,children:e})}],450560);var i=e.i(852396);let l=(e,t)=>t&&e.find(({filePath:e})=>e===t)||e.find(({type:e})=>e!==i.LessonFileType.Folder);e.s(["getDefaultOpenedFile",0,l],375170);let r=(0,s.createContext)({files:[],selectedFile:void 0,setSelectedFile:()=>null,toggleFolder:()=>null}),a=e=>{let t=e.match(/(.*\/)/g)?.[0];return t&&"/"!==t&&(t=t.slice(0,-1)),t??"/"},d=e=>e?.split("/").reduce((e,t,s,o)=>t?[...e,`/${o.slice(1,s+1).join("/")}`]:e,["/"])??[];e.s(["FileExplorerContext",0,r,"FileExplorerContextProvider",0,({uniqId:e,files:o,rootName:n="root",defaultOpenedFilePath:u,children:c})=>{let[m,_]=(0,s.useState)(),[p,h]=(0,s.useState)([e]),[g,y]=(0,s.useState)(),f=(0,s.useMemo)(()=>{let t,s={id:e,filePath:"/",name:n,type:i.LessonFileType.Folder,level:0,parentFolderPaths:[],visible:!0,isOpened:p.includes(e),isSelected:m===e,content:null,assetId:null},l={"/":s},r=[];for(let e of o){g===e.id&&e.type!==i.LessonFileType.Folder&&"string"==typeof e.content&&(t=e),e.type===i.LessonFileType.Folder&&e.filePath&&(l[e.filePath]=e);let s=e.filePath?a(e.filePath):"/",o=d(s),n=(s.match(/\/./g)?.length??0)+1,u=o.length>0&&o?.every(e=>p.includes(l[e]?.id));r.push({...e,level:n,parentFolderPaths:o,visible:u,isOpened:p.includes(e.id),isSelected:m===e.id})}return{files:[s,...r],selectedFile:[s,...r].find(({id:e})=>e===m),setSelectedFile:(e,t)=>{_(e),y(e),h(s=>{let o=[];if(t)o=d(a(t));else{let t=r.find(({id:t})=>t===e);if(!t)return s;o=t.parentFolderPaths}let n=new Set(s);for(let e of o){let t=l[e]?.id;t&&n.add(t)}return[...n]})},toggleFolder:e=>{_(e),h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},openedFile:t,defaultOpenedFilePath:u}},[e,o,p,m,n,g,u]);return(0,s.useEffect)(()=>{let e=l(o,u)?.id;e&&f.setSelectedFile(e)},[e]),(0,t.jsx)(r.Provider,{value:f,children:c})}],447596);var u=e.i(24191),c=e.i(677201);let m=(0,u.default)(async()=>(await e.A(432063)).AceEditor,{loadableGenerated:{modules:[641770]},ssr:!1,loading:()=>(0,t.jsx)(c.PopupLoader,{})});e.s(["AceEditor",0,m],875351);var _=e.i(350890),p=e.i(133464),h=e.i(997012);let g=_.default.bind(h.default);e.s(["DownloadableViewer",0,({item:e,src:s,seqId:o})=>{let n=s||e.content||`https://bakey-api.codeit.kr/files/${o}${e.filePath}`;return(0,t.jsx)("div",{className:g("container"),children:(0,t.jsx)("a",{href:n,target:"_blank",rel:"noreferrer noopener",children:(0,t.jsx)(p.Button,{leftIcon:"download",variant:"secondary",children:e.name||"Download"})})})}],885850);var y=e.i(45872),f=e.i(835751);let x=_.default.bind(f.default);e.s(["EditorFilePath",0,({filePath:e})=>{let o=e.split("/").filter(e=>!!e);return e?(0,t.jsx)("div",{className:x("container"),children:o.map((e,o)=>(0,t.jsxs)(s.Fragment,{children:[0!==o&&(0,t.jsx)(y.Icon,{name:"chevron",thickness:"bold",rotate:90,size:"xsmall",color:"--gray70"}),(0,t.jsx)("span",{className:x("text"),children:e})]},`${e}${o}`))}):null}],707378);var v=e.i(868767);let C=_.default.bind(v.default);e.s(["ImageViewer",0,({item:e,src:s,seqId:o})=>{let n=s||e.content||`https://bakey-api.codeit.kr/files/${o}${e.filePath}`;return(0,t.jsx)("div",{className:C("container"),children:(0,t.jsxs)("div",{className:C("content"),children:[(0,t.jsx)("img",{alt:n,src:n}),(0,t.jsx)("span",{children:e.name})]})})}],64588);var b=e.i(821277);let E=_.default.bind(b.default);e.s(["ReadonlyCodeViewer",0,({extension:e,content:s})=>(0,t.jsxs)("div",{className:E("container"),children:[(0,t.jsxs)("div",{className:E("label"),children:[(0,t.jsx)(y.Icon,{name:"eye",size:"xsmall"}),"읽기 전용 파일"]}),(0,t.jsx)(m,{readOnly:!0,content:s,extension:e,onChange:()=>null})]})],151739);let T=e=>{let t=[i.Language.Unix];return!!e&&t.includes(e)};e.s(["isLanguageConsoleOnly",0,T],996373);let S=e=>{let t=[i.Language.Django,i.Language.Drf,i.Language.HtmlCss,i.Language.React,i.Language.React_18_2_0,i.Language.React_19Vite,i.Language.NextJs,i.Language.Python_3_12_8Streamlit];return!!e&&t.includes(e)};e.s(["isLanguageOpenWeb",0,S],855867);var w=e.i(354922),j=e.i(639226),I=e.i(499117);let L=_.default.bind(I.default),N=({tableCode:e})=>(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,j.default)(e)},className:L("container")});var R=e.i(662073),k=e.i(693235);let F=_.default.bind(R.default),A=({active:e,isTerminalOpen:o,terminalUrl:n,setInstanceIp:i,onEntryKey:l})=>{let[r,a]=(0,s.useState)(!0),d=!!n&&e;return(0,s.useEffect)(()=>{let e=e=>{"terminalLoaded"===e.data&&a(!1),"enterKey"===e.data&&l?.(),e.data.instanceIp&&i(e.data.instanceIp),e.stopPropagation()};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]),(0,s.useEffect)(()=>{d&&a(!0)},[d]),(0,t.jsxs)("div",{className:F("container",o?"open":"closed"),children:[r&&(0,t.jsxs)("div",{className:F("loadingPopup"),children:[(0,t.jsx)(k.InlineLoading,{}),(0,t.jsx)("p",{children:"터미널 로딩 중"})]}),d&&(0,t.jsx)("iframe",{id:"web-terminal",title:"web-terminal",src:n})]})};var O=e.i(225245),G=e.i(471739);let P=_.default.bind(G.default),W=({output:e})=>{let o=(0,s.useRef)(new O.default).current,n=(0,s.useCallback)(e=>{let s=e.reduce((e,t)=>e+t),o=new DOMParser().parseFromString(s,"text/html").getElementsByTagName("script"),n=document.getElementById("jupyterScriptContainer");o.length>0&&n&&(n.innerHTML="",Array.from(o).forEach(e=>{let t=document.createElement("script");Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.innerHTML=e.innerHTML.replace(/(eval)|(document\.write)|(innerHTML)|(javascript:)|(setTimout)|(setInterval)/gi,""),n.appendChild(t)}));let i=s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").trim();if(i)return(0,t.jsx)("div",{className:P("jupyterOutput"),id:"jupyterOutput",children:(0,t.jsx)("div",{className:P("displayHtml"),dangerouslySetInnerHTML:{__html:i}})})},[]),i=(0,s.useCallback)(e=>{let s=e.reduce((e,t)=>e+t);return(0,t.jsx)("div",{className:P("jupyterOutput"),children:(0,t.jsx)("div",{className:P('"displayText"'),children:s.trim()})})},[]),l=(0,s.useCallback)((e,s)=>(0,t.jsx)("div",{className:P("jupyterOutput"),children:(0,t.jsx)("img",{className:P("displayImg"),src:`data:${e};base64,${s.replace("\n","")}`,alt:"jupyter output"})}),[]),r=(0,s.useCallback)(e=>{let s=e.reduce((e,t)=>`${e}
${t}`),n=o.ansi_to_html(s);return(0,t.jsx)("div",{className:P("jupyterOutput","error"),children:(0,t.jsx)("div",{className:P("errorHtml"),dangerouslySetInnerHTML:{__html:n}})})},[]),a=(0,s.useCallback)(e=>{let s=e.reduce((e,t)=>e+t);return(0,t.jsx)("div",{className:P("outputStream"),children:(0,t.jsx)("div",{className:P("outputStreamText"),children:s})})},[]),d=(0,s.useCallback)(e=>{let t=Object.keys(e)[0],s=e[t];switch(t){case"text/html":return n(s);case"text/plain":default:return i(s);case"image/png":return l(t,s)}},[]);switch(e.output_type){case"display_data":case"execute_result":return d(e.data);case"stream":return a(e.text);case"error":return r(e.traceback);default:return(0,t.jsx)("p",{children:"' 출력을 지원하지 않는 결과물입니다. 문제가 있을 경우 코드잇 팀에 문의해주세요. .'"})}};var U=e.i(685918),M=e.i(782712);let D=_.default.bind(M.default),B=e=>{let{schema:s}=e;return(0,t.jsxs)("table",{className:D("container"),children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:(0,t.jsx)("th",{colSpan:2,children:s.name})})}),(0,t.jsx)("tbody",{children:s.data.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("th",{children:[e.column_name,e.isPk?(0,t.jsx)("span",{className:D("pk"),children:"(PK)"}):""]}),(0,t.jsx)("th",{children:e.column_type})]},e.column_name))})]})},q=({schemaList:e})=>{let s,o=(s=[],e.map(t=>{if(s.find(e=>e.name===t.table_name))return;let o={name:t.table_name,data:[]};e.filter(e=>e.table_name===t.table_name).map(e=>{var t;o.data.push({column_name:e.column_name,column_type:"int"===(t=e.column_type)?"INTEGER":t.toUpperCase(),isPk:"PRI"===e.column_key})}),s.push(o)}),s);return e.length?(0,t.jsx)("div",{className:"SchemaTable",children:o.map(e=>(0,t.jsx)(B,{schema:e},e.name))}):(0,t.jsx)("div",{className:"SchemaTable",children:"스키마가 비어 있습니다."})},V=({schema:e})=>e?.isLoading?(0,t.jsx)(t.Fragment,{children:"스키마를 불러오는 중 입니다..."}):!e?.isLoading&&e?.isError?(0,t.jsx)(t.Fragment,{children:"스키마를 불러오는 중 문제가 발생했습니다."}):e?.tableResult&&(0,t.jsx)(q,{schemaList:e.tableResult});var H=e.i(351623),z=e.i(280429);let $=e=>{let t=[i.Language.Django,i.Language.Drf,i.Language.PythonTrm,i.Language.Python_3_12_8,i.Language.Python_3_12_8Streamlit,i.Language.React,i.Language.React_18_2_0,i.Language.React_19Vite,i.Language.Express,i.Language.ExpressTs,i.Language.NextJs,i.Language.Unix,i.Language.JupyterDsTrm,i.Language.Java_21Trm];return!!e&&t.includes(e)};e.s(["isLanguageRequireTerminal",0,$],329946);let K=H.gql`
  query GetTerminalUrl($bakeyFileRequest: BakeyFileRequest!) {
    getTerminalUrl(bakeyFileRequest: $bakeyFileRequest)
  }
`,Y=e=>{let{data:t,loading:s}=(0,z.useQuery)(K,{variables:{bakeyFileRequest:e},skip:!$(e.language)||!e.enrollmentId||!e.seqId,notifyOnNetworkStatusChange:!0});return{terminalUrl:t?.getTerminalUrl,loading:s}};e.s(["useGetTerminalUrl",0,Y],30624);var J=e.i(167513),X=e.i(273529),Q=e.i(982742);let Z=H.gql`
  mutation InitialTable($studyNoteId: ObjectId!) {
    initialTable(studyNoteId: $studyNoteId)
  }
`;var ee=e.i(243969),et=e.i(46533),es=e.i(102863);let eo=H.gql`
  ${es.STUDY_NOTE_FILE_FIELDS}
  mutation SyncProjectFiles($input: SyncProjectFilesInput!) {
    syncProjectFiles(input: $input) {
      studyNote {
        id
        typedId
        files {
          ...StudyNoteFileFields
        }
      }
    }
  }
`,en=()=>{let[e,{loading:t}]=(0,Q.useMutation)(eo);return{syncProjectFiles:t=>e({variables:{input:t}}),loading:t}};e.s(["useSyncProjectFiles",0,en],154392);let ei=()=>{let{syncProjectFiles:e,loading:t}=en(),{updateEditorValues:n}=(0,s.useContext)(o);return{syncProjectFilesWithContext:async t=>{let s=await e(t),o=s.data?.syncProjectFiles;return o&&n(e=>o.studyNote.files.reduce((t,s)=>s.id in e&&"string"==typeof s.content?{...t,[s.id]:s.content}:t,e)),s},loading:t}};e.s(["useSyncProjectFilesWithContext",0,ei],867635);let el=_.default.bind(ee.default);e.s(["ConsoleContent",0,({language:e,consoleType:o,studyNoteTypedId:n,enrollmentId:l,lessonSeqId:r})=>{let a=n?(0,J.getObjectId)(n):void 0,{consoleResult:d,setInstanceIp:u}=(0,s.useContext)(X.ClassroomEditorContext),{isSideViewOpen:c}=(0,U.useSideViewState)(),m=w.codeEditorSettings[e],_=m?.consoleList??[],{syncProjectFilesWithContext:p}=ei(),h=((e,t)=>{let[o,n]=(0,s.useState)(!1),[l,r]=(0,s.useState)([]),{initializeTable:a,loading:d}=(()=>{let[e,{loading:t}]=(0,Q.useMutation)(Z);return{initializeTable:e,loading:t}})();return(0,s.useEffect)(()=>{e===i.Language.Sql&&t&&(r([]),n(!1),(async()=>{try{let e=await a({variables:{studyNoteId:t}}),s=e.data?.initialTable;if(!s)return n(!0);if('"NULL\\n"'===JSON.stringify(s))return n(!1);return r(JSON.parse(s))}catch(e){return n(!0)}})())},[t]),{isLoading:d,tableResult:l,isError:o}})(e,a),g=_.length>1,y=_.includes("terminal"),{terminalUrl:f,loading:x}=Y({language:e,enrollmentId:l,seqId:r}),v=(0,s.useMemo)(()=>{switch(o){case"executionResult":default:return d;case"jupyter":if("jupyter"===o&&d&&""!==d&&"[]"!==d&&"["===d[0])try{return JSON.parse(d)?.map((e,s)=>(0,t.jsx)(W,{output:e},s))}catch(e){console.error(e)}return d;case"sqlTable":return(0,t.jsx)(N,{tableCode:d??""});case"schema":return(0,t.jsx)(V,{schema:h});case"terminal":return""}},[o,d,e,a]),C=async()=>{!n||T(e)||await p({studyNoteTypedId:n})};return(0,t.jsxs)(t.Fragment,{children:["jupyter"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(et.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"}),(0,t.jsx)("div",{id:"jupyterScriptContainer"})]}),(0,t.jsx)("div",{className:el("container",{multipleTab:g,terminal:"terminal"===o}),children:(0,t.jsxs)("pre",{className:el("pre"),children:[v,y&&!x&&(0,t.jsx)(A,{active:c,isTerminalOpen:"terminal"===o,onEntryKey:C,terminalUrl:f,setInstanceIp:u})]})})]})}],345653);var er=e.i(746868),ea=e.i(893274);let ed=_.default.bind(ea.default),eu=({files:e,currentFileId:o,onClick:n,onRemove:i,checkModified:l})=>{let r=(0,s.useRef)(null);return(0,s.useEffect)(()=>{r.current?.childNodes.forEach(e=>{e.dataset.fileId===o&&e.scrollIntoView({block:"nearest",inline:"start"})})},[o]),(0,t.jsx)("div",{className:ed("container"),children:(0,t.jsx)("div",{ref:r,className:ed("files",{single:e.length<2}),children:e.map(s=>{let r=s.id===o,a=e.length>1,d=l?.(s);return(0,t.jsxs)("div",{className:ed("fileWrapper",{active:r,withClose:a||d}),"data-file-id":s.id,children:[(0,t.jsx)("button",{type:"button",className:ed("file"),onClick:()=>n(s),children:(0,t.jsx)("span",{className:ed("title"),children:s.name||""})}),a?(0,t.jsx)("button",{type:"button",className:ed("close",{modified:d}),onClick:()=>i(s),children:(0,t.jsx)(y.Icon,{name:"xMark",size:"xsmall"})}):d&&(0,t.jsx)("div",{className:ed("close","modified")})]},s.id??s.filePath)})})})},ec=({checkModified:e})=>{let[o,n]=(0,s.useState)([]),{files:i,openedFile:l,setSelectedFile:a}=(0,s.useContext)(r),d=o.reduce((e,t)=>{let s=i.find(({id:e})=>e===t);return s?[...e,s]:e},[]);return(0,s.useEffect)(()=>{l?.id&&n(e=>e.includes(l.id)?e:[l.id,...e])},[l?.id]),(0,t.jsx)(eu,{files:d,currentFileId:l?.id,onClick:e=>{a(e.id)},onRemove:e=>{let t=o.filter(t=>t!==e.id);n(t),l?.id===e.id&&t[0]&&a(t[0])},checkModified:e})},em=_.default.bind(er.default);e.s(["EditorHeader",0,({explorerOpen:e,setExplorerOpen:n})=>{let{values:i}=(0,s.useContext)(o);return(0,t.jsxs)("div",{className:em("container"),children:[(0,t.jsx)("div",{className:em("explorerBtn",{explorerOpen:e}),onClick:()=>n(e=>!e),role:"button",tabIndex:0,children:(0,t.jsx)(y.Icon,{name:"folder-fill",size:"small"})}),(0,t.jsx)(ec,{checkModified:e=>{let t=i[e.id];return!!t&&e.content!==t}})]})}],64999);let e_=H.gql`
  fragment explanationAndHintsFragment on StudyNote {
    lesson {
      ... on LessonExercise {
        id
        explanation
        hints {
          id
          content
        }
      }
    }
  }
`;e.s(["EXPLANATION_AND_HINTS_FRAGMENT",0,e_],392033);let ep=H.gql`
  ${e_}
  mutation GradeFile($studyNoteId: ObjectId!, $instanceIp: String) {
    gradeFile(studyNoteId: $studyNoteId, instanceIp: $instanceIp) {
      id
      __typename
      codeExecution {
        id
        pass
        result {
          status
          printed
          errorLog
          renderedUrl
          evaluateUrl
        }
      }
      status
      ...explanationAndHintsFragment
    }
  }
`;e.s(["useGradeFile",0,()=>{let[e,{loading:t}]=(0,Q.useMutation)(ep);return{gradeFile:t=>e({variables:t}),loading:t}}],884310);let eh=H.gql`
  mutation RunNonUserProject($input: RunNonUserProjectInput!) {
    runNonUserProject(input: $input) {
      codeExecution {
        result {
          status
          printed
          errorLog
          renderedUrl
          evaluateUrl
        }
      }
    }
  }
`;e.s(["useRunNonUserProject",0,()=>{let[e,{loading:t}]=(0,Q.useMutation)(eh);return{runNonUserProject:t=>e({variables:{input:t}}),loading:t}}],117612);let eg=H.gql`
  mutation SubmitFile($studyNoteId: ObjectId!, $instanceIp: String) {
    submitFile(studyNoteId: $studyNoteId, instanceIp: $instanceIp) {
      codeExecution {
        result {
          status
          printed
          errorLog
          renderedUrl
          evaluateUrl
        }
      }
    }
  }
`;e.s(["useSubmitFile",0,()=>{let[e,{loading:t}]=(0,Q.useMutation)(eg);return{submitFile:t=>e({variables:t}),loading:t}}],254345);var ey=e.i(282876);let ef=_.default.bind(ey.default);e.s(["EditorSubmitButtons",0,({runnable:e,language:s,isLoading:o,lessonType:n,gradingType:l,onSubmit:r,onGrade:a,readOnly:d,submitActionButton:u})=>(0,t.jsxs)("div",{className:ef("container"),children:[(0,t.jsx)(p.Button,{id:"editorSubmitButtonRun",disabled:o,onClick:e?r:void 0,variant:"primary",size:"small",children:(0,t.jsx)("span",{className:ef("name",{nonRun:!e}),children:S(s)?"웹 페이지 열기":"실행"})}),!d&&n===i.LessonType.Exercise&&l!==i.ExerciseGradingType.Self&&(l===i.ExerciseGradingType.Submission?u:(0,t.jsx)(p.Button,{id:"editorSubmitButtonGrade",variant:"secondary",disabled:o,onClick:a,size:"small",children:"채점"}))]})],81685)},770242,e=>{e.v({_lg:"ExerciseResult-module-scss-module__VF-Wda___lg",_md:"ExerciseResult-module-scss-module__VF-Wda___md",_sm:"ExerciseResult-module-scss-module__VF-Wda___sm",animation:"ExerciseResult-module-scss-module__VF-Wda__animation",body:"ExerciseResult-module-scss-module__VF-Wda__body",box:"ExerciseResult-module-scss-module__VF-Wda__box",celebrate:"ExerciseResult-module-scss-module__VF-Wda__celebrate",fadeI:"ExerciseResult-module-scss-module__VF-Wda__fadeI",footer:"ExerciseResult-module-scss-module__VF-Wda__footer",overlay:"ExerciseResult-module-scss-module__VF-Wda__overlay",title:"ExerciseResult-module-scss-module__VF-Wda__title"})},299613,e=>{e.v({_lg:"CodeEditor-module-scss-module__2YhzCW___lg",_md:"CodeEditor-module-scss-module__2YhzCW___md",_sm:"CodeEditor-module-scss-module__2YhzCW___sm","ace_print-margin":"CodeEditor-module-scss-module__2YhzCW__ace_print-margin",actions:"CodeEditor-module-scss-module__2YhzCW__actions",aiButton:"CodeEditor-module-scss-module__2YhzCW__aiButton",body:"CodeEditor-module-scss-module__2YhzCW__body",bodyWrapper:"CodeEditor-module-scss-module__2YhzCW__bodyWrapper",consoleWrapper:"CodeEditor-module-scss-module__2YhzCW__consoleWrapper",container:"CodeEditor-module-scss-module__2YhzCW__container",display:"CodeEditor-module-scss-module__2YhzCW__display",editor:"CodeEditor-module-scss-module__2YhzCW__editor",explorerOpen:"CodeEditor-module-scss-module__2YhzCW__explorerOpen",icon:"CodeEditor-module-scss-module__2YhzCW__icon",invisibleFile:"CodeEditor-module-scss-module__2YhzCW__invisibleFile",leftButtons:"CodeEditor-module-scss-module__2YhzCW__leftButtons",resizeHandleBar:"CodeEditor-module-scss-module__2YhzCW__resizeHandleBar",resizing:"CodeEditor-module-scss-module__2YhzCW__resizing",rightButtons:"CodeEditor-module-scss-module__2YhzCW__rightButtons",saveResetButtons:"CodeEditor-module-scss-module__2YhzCW__saveResetButtons",withOpenWebButton:"CodeEditor-module-scss-module__2YhzCW__withOpenWebButton",withSubmitButton:"CodeEditor-module-scss-module__2YhzCW__withSubmitButton"})},240312,e=>{e.v({_lg:"ActionOption-module-scss-module__Uza3ya___lg",_md:"ActionOption-module-scss-module__Uza3ya___md",_sm:"ActionOption-module-scss-module__Uza3ya___sm",container:"ActionOption-module-scss-module__Uza3ya__container",direct:"ActionOption-module-scss-module__Uza3ya__direct",directButton:"ActionOption-module-scss-module__Uza3ya__directButton",directButtonIcon:"ActionOption-module-scss-module__Uza3ya__directButtonIcon",fadeIn:"ActionOption-module-scss-module__Uza3ya__fadeIn",initWrapper:"ActionOption-module-scss-module__Uza3ya__initWrapper",offButton:"ActionOption-module-scss-module__Uza3ya__offButton",preset:"ActionOption-module-scss-module__Uza3ya__preset",presetItem:"ActionOption-module-scss-module__Uza3ya__presetItem",presetList:"ActionOption-module-scss-module__Uza3ya__presetList",presetTitle:"ActionOption-module-scss-module__Uza3ya__presetTitle",questionWrapper:"ActionOption-module-scss-module__Uza3ya__questionWrapper"})},881814,376109,636277,722858,552648,43279,48779,795424,1295,e=>{"use strict";var t=e.i(94601),s=e.i(884310),o=e.i(117612),n=e.i(254345),i=e.i(273529),l=e.i(148660),r=e.i(685918),a=e.i(81685),d=e.i(165841),u=e.i(435086),c=e.i(891583),m=e.i(852396),_=e.i(450560),p=e.i(996373),h=e.i(855867),g=e.i(329946),y=e.i(608911),f=e.i(441139),x=e.i(136960),v=e.i(396742),C=e.i(350890),b=e.i(970094),E=e.i(133464),T=e.i(770242),S=e.i(894799),w=e.i(284888),j=e.i(816535),I=e.i(418670),L=e.i(796338);let N=(0,e.i(24191).default)(()=>e.A(356703),{loadableGenerated:{modules:[507263]},ssr:!1}),R=C.default.bind(T.default),k=({visible:e,status:s,shouldRenderCompleteButton:o,onClose:n,onComplete:i,onShowSolution:l,hasUnseenHint:r,hasExplanation:a,onShowHint:d,onRetry:u,passedTitle:c="정답입니다!"})=>{let[_,p]=(0,x.useState)(!1),{theme:h}=(0,b.useCurrentTheme)();return((0,x.useEffect)(()=>{let t;return e&&"pass"===s?t=setTimeout(()=>{p(!0)},350):p(!1),()=>{clearTimeout(t)}},[e]),e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:R("overlay"),onClick:n,role:"alert"}),(0,t.jsxs)("div",{className:R("box"),children:[(0,t.jsx)(N,{animationData:h===m.Classroom_Theme.Dark?"fail"===s?I.default:w.default:"fail"===s?j.default:S.default,className:R("animation"),loop:!1}),(0,t.jsx)("div",{className:R("body"),children:"pass"===s?(0,t.jsxs)(t.Fragment,{children:[_&&(0,t.jsx)(N,{animationData:L.default,className:R("celebrate"),loop:!1,onComplete:()=>{p(!1)}}),(0,t.jsx)("p",{className:R("title"),children:c}),(0,t.jsx)("div",{className:R("footer"),children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Button,{variant:"primary",onClick:l,children:"해설 보기"}),o&&(0,t.jsx)(E.Button,{variant:"text",onClick:i,children:"레슨완료"})]}):(0,t.jsx)(t.Fragment,{children:o?(0,t.jsx)(E.Button,{variant:"primary",onClick:i,children:"레슨완료"}):(0,t.jsx)(E.Button,{variant:"secondary",onClick:n,children:"확인"})})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:R("title"),children:"앗! 다시 해볼까요?"}),(0,t.jsx)(E.Button,{variant:"secondary",onClick:u,children:"다시 도전하기!"}),r&&(0,t.jsx)(E.Button,{variant:"text",onClick:d,children:"힌트 보기"})]})})]})]}):null};var F=e.i(453126),A=e.i(567869),O=e.i(344127),G=e.i(77453),P=e.i(829882),W=e.i(292765),U=e.i(585223),M=e.i(328456),D=e.i(318706);let B=({visible:e,onClose:s,status:o,passedTitle:n})=>{let{topicResourceKey:i,lessonResourceKey:l}=(0,U.useResourceKeyContext)(),{lesson:a}=(0,P.useLessonDetailFromContext)(),{lesson:d}=(0,W.useLessonHints)({input:{topicResourceKey:i,lessonResourceKey:l}}),{topic:u}=(0,M.useTopicDetailFromContext)(),{handleClickCompleteButton:c,submittable:m}=(0,v.useLessonComplete)(),{showSolution:_,focusExplanation:p}=(0,G.useSolutionContext)(),{setSideViewType:h}=(0,r.useSideViewState)(),{isDesktopSize:g}=(0,A.useWindowSize)(),{isKDTSprinter:y}=(0,O.useGetIsKdtSprinter)(),{resetDrawer:f}=(0,D.useDrawerState)(),x=(a?.studyNote?.sawHints?.length??0)<(d?.hints?.length??0),C=!!d?.explanation,b=m?()=>{F.Amplitude.logEvent("click.exercise_result_complete_lesson"),c(),s()}:void 0,E=()=>{g||(h(null),f())};return(0,t.jsx)(k,{visible:e,onClose:s,status:o,shouldRenderCompleteButton:!!b&&!y,onComplete:b,onShowSolution:()=>{F.Amplitude.logEvent("click.exercise_result_show_solution",{lesson:{id:a?.id,name:a?.title},topic:{id:u?.id,name:u?.title}}),E(),p(),s()},hasUnseenHint:x,hasExplanation:C,onShowHint:()=>{F.Amplitude.logEvent("click.exercise_result_show_hint",{lesson:{id:a?.id,name:a?.title},topic:{id:u?.id,name:u?.title}}),E(),_(),s()},onRetry:()=>{F.Amplitude.logEvent("click.exercise_result_retry"),s()},passedTitle:n})};e.s(["ExerciseResult",0,B],376109);var q=e.i(453248),V=e.i(804623),H=e.i(447596),z=e.i(351623),$=e.i(982742),K=e.i(102863);let Y=z.gql`
  ${K.STUDY_NOTE_FIELDS}
  mutation SaveProjectFiles($input: SaveProjectFilesInput!) {
    saveProjectFiles(input: $input) {
      studyNote {
        ...StudyNoteFields
      }
      lessonFiles {
        ...StudyNoteFileFields
      }
    }
  }
`,J=()=>{let[e,{loading:t}]=(0,$.useMutation)(Y);return{saveProjectFiles:t=>e({variables:{input:t}}),loading:t}};e.s(["useSaveProjectFiles",0,J],636277);let X=({readOnly:e,studyNoteTypedId:t,enrollmentId:s})=>{let{values:o,reset:n}=(0,x.useContext)(_.CodeEditorContext),{files:l,openedFile:r}=(0,x.useContext)(H.FileExplorerContext),{instanceIp:a}=(0,x.useContext)(i.ClassroomEditorContext),{saveProjectFiles:d,loading:u}=J();return{saveCurrentFiles:async()=>{if(!u&&!e&&s&&t){let e=Object.entries(o).reduce((e,t)=>{let[s,o]=t,n=l.find(({id:e})=>e===s);return n?.type===m.LessonFileType.Editable&&"string"==typeof o?[...e,{content:o,lessonFileId:s}]:e},[]);e.length>0&&await d({studyNoteTypedId:t,instanceIp:a,inputs:e}),n(r?{[r.id]:o[r.id]}:void 0)}}}};e.s(["useSaveCurrentFiles",0,X],722858);var Q=e.i(867635);e.s(["EditorSubmitButtons",0,({lesson:e,enrollmentId:v,studyNote:C,beforeSubmit:b,readOnly:E,submitActionButton:T})=>{let{topic:S}=(0,M.useTopicDetailFromContext)(),{isSideViewOpen:w}=(0,r.useSideViewState)(),j=(0,x.useContext)(f.OsNameContext),[I,L]=(0,x.useState)(),N=e.runnableType!==m.RunnableType.NotRunnable,R=(0,g.isLanguageRequireTerminal)(e.language),{getConsoleResult:k}=(({language:e})=>{let t=(0,g.isLanguageRequireTerminal)(e);return{getConsoleResult:s=>{if(!s)return"실행 중 오류가 발생하였습니다.";let{printed:o,status:n,errorLog:i,renderedUrl:l}=s;return l?(window.open(l,"_blank",t?"noreferrer, noopener":"noreferrer, noopener, width=1000,height=800"),"결과 창이 뜨지 않을 시, 브라우저의 팝업을 허용하고 '웹 페이지 열기'를 다시 눌러 주세요."):"timeout"===n?"실행 시간을 초과하였습니다. 코드 내에 무한 루프가 있을 수 있으니 확인해 주세요.":("[]"===o||!o)&&i&&e!==m.Language.JupyterDs?i:"[]"!==o&&o?e===m.Language.JupyterDs||e===m.Language.JupyterDsPython_3_10_9||e===m.Language.JupyterDsSeaborn_0_13_2?o:`${o}
${i}`:""}}})({language:e.language??m.Language.Python}),A=(0,l.useInvalidEnrollmentAlert)({alertType:"feature"}),{setConsoleResult:O,instanceIp:G,setExecutionType:P,onConsoleError:W}=(0,x.useContext)(i.ClassroomEditorContext),{values:U}=(0,x.useContext)(_.CodeEditorContext),{files:D}=(0,x.useContext)(H.FileExplorerContext),{saveCurrentFiles:z}=X({readOnly:E,studyNoteTypedId:C?.typedId,enrollmentId:v}),{getHotKeyLabel:$}=(0,u.useHotKeyLabel)(),{runNonUserProject:K,loading:Y}=(0,o.useRunNonUserProject)(),{submitFile:J,loading:Z}=(0,n.useSubmitFile)(),{gradeFile:ee,loading:et}=(0,s.useGradeFile)(),{syncProjectFilesWithContext:es}=(0,Q.useSyncProjectFilesWithContext)(),eo=async()=>{W(!1),b(),P("RUN");try{O("잠시만 기다려주세요...");let t=await K({lessonTypedId:e.typedId,files:D.map(e=>({assetId:e.assetId,content:e.id in U?U[e.id]:e.content,filePath:e.filePath,id:e.id,name:e.name,type:e.type}))}),s=t.data?.runNonUserProject?.codeExecution.result;W(s?.status==="error"&&!!s?.errorLog),O(k(s))}catch(e){O("실행 중 오류가 발생하였습니다.")}},en=async()=>{if(C?.id){b(),P("RUN"),W(!1);try{O("잠시만 기다려주세요..."),await z();let e=await J({instanceIp:G,studyNoteId:C.id}),t=e.data?.submitFile.codeExecution.result;W(t?.status==="error"&&!!t?.errorLog),O(k(t))}catch(e){O("실행 중 오류가 발생하였습니다.")}finally{R&&!(0,p.isLanguageConsoleOnly)(e.language)&&es({studyNoteTypedId:C.typedId})}}},ei=async()=>{if(N){if(F.Amplitude.logEvent("run.lesson_page_exercise",{topic:{id:S?.id,name:S?.title},lesson:{id:e.id,name:e.title},button:{type:(0,h.isLanguageOpenWeb)(e.language)?"웹 페이지 열기":"실행"}}),E)return void await eo();if(!v)return void A();await en()}},el=async()=>{let{gradingType:t}=e;if(C?.id&&t!==m.ExerciseGradingType.Self){b(),W(!1),P("GRADE");try{O("잠시만 기다려주세요..."),await z();let e=await ee({instanceIp:G,studyNoteId:C.id}),t=e.data?.gradeFile.codeExecution;if(t){let{result:e,pass:s}=t;W(e?.status==="error"&&!!e?.errorLog),O(k(e)),P(s?"GRADE":"GRADE_FAIL"),L(s)}else O("실행 중 오류가 발생하였습니다.")}catch(e){O("실행 중 오류가 발생하였습니다.")}finally{R&&!(0,p.isLanguageConsoleOnly)(e.language)&&es({studyNoteTypedId:C.typedId})}}},er=async()=>{if(!E&&e.type===m.LessonType.Exercise&&e.gradingType!==m.ExerciseGradingType.Self){if(F.Amplitude.logEvent("grade.lesson_page_exercise",{topic:{id:S?.id,name:S?.title},lesson:{id:e.id,name:e.title},button:{type:"채점"}}),!v)return void A();await el()}};return(0,c.useOsHotKeys)(d.HOT_KEY_CODE[d.HotKeyName.RUN],ei,{enabled:N&&w,enableOnFormTags:!0,preventDefault:!0}),(0,c.useOsHotKeys)(d.HOT_KEY_CODE[d.HotKeyName.GRADE],er,{enabled:w&&!E&&e.type===m.LessonType.Exercise,enableOnFormTags:!0,preventDefault:!0}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.EditorSubmitButtons,{runnable:N,language:e.language,isLoading:Y||Z||et,lessonType:e.type,gradingType:e.gradingType,onSubmit:ei,onGrade:er,readOnly:E,submitActionButton:T}),(0,t.jsxs)(q.Portal,{selector:"#portal",children:[e.type===m.LessonType.Exercise&&(0,t.jsx)(B,{visible:"boolean"==typeof I,onClose:()=>L(void 0),status:I?"pass":"fail"}),$(d.HotKeyName.RUN)&&(0,t.jsx)(V.Tooltip,{anchorSelect:"#editorSubmitButtonRun",place:"top",content:N?$(d.HotKeyName.RUN):"본 과제는 실행이 지원되지 않습니다."}),(j===y.OSName.MacOS||j===y.OSName.Windows)&&(0,t.jsx)(V.Tooltip,{anchorSelect:"#editorSubmitButtonGrade",place:"top",content:$(d.HotKeyName.GRADE)})]})]})}],881814);let Z=z.gql`
  ${K.STUDY_NOTE_FILE_FIELDS}
  mutation ResetProjectFiles($input: ResetProjectFilesInput!) {
    resetProjectFiles(input: $input) {
      studyNote {
        id
        typedId
        files {
          ...StudyNoteFileFields
        }
      }
    }
  }
`,ee=()=>{let[e,{loading:t}]=(0,$.useMutation)(Z,{refetchQueries:["GetTerminalUrl"]});return{resetProject:t=>e({variables:{input:t}}),loading:t}};e.s(["useResetProjectFiles",0,ee],552648);var et=e.i(375170);e.s(["useResetEditor",0,()=>{let{resetProject:e}=ee(),{defaultOpenedFilePath:t,setSelectedFile:s}=(0,x.useContext)(H.FileExplorerContext),{reset:o}=(0,x.useContext)(_.CodeEditorContext);return{resetEditor:async n=>{let i,l=await e({studyNoteTypedId:n}),r=l.data?.resetProjectFiles?.studyNote.files;r&&(i=(0,et.getDefaultOpenedFile)(r,t)),o(i&&i.content&&i.type===m.LessonFileType.Editable?{[i.id]:i.content}:void 0),i&&s(i.id)}}}],43279);var es=e.i(835638);e.s(["useThrottledCallback",0,(e,t)=>{let s=(0,x.useRef)(e),o=(0,x.useMemo)(()=>(0,es.throttle)((...e)=>s.current(...e),t),[t]);return(0,x.useEffect)(()=>{s.current=e},[e]),(0,x.useEffect)(()=>()=>{o.cancel()},[o]),o}],48779);var eo=e.i(240312),en=e.i(45872),ei=e.i(807119),el=e.i(534474),er=e.i(682930);let ea=C.default.bind(eo.default),ed=(e,t,s)=>{let o=document.createElement("span");o.className="guru-selection";let n=document.createRange();n.setStart(e,t??0),n.setEnd(e,s??e.textContent?.length??0),n.surroundContents(o)};e.s(["UiGuruActionOption",0,({position:e,onClose:s,onSubmit:o,presets:n,selection:i,topic:l,lesson:r,onClickOffButton:a})=>{let[d,u]=(0,x.useState)("init"),c=(0,x.useRef)(null),m={topic:{id:l?.id,name:l?.name},lesson:{id:r?.id,name:r?.name,type:r?.type}};return(0,x.useEffect)(()=>{let e=e=>{let t=c.current;t&&e.target&&(t.contains(e.target)||s())};document.addEventListener("mousedown",e);let t=document.createElement("style");return t.innerHTML=`
       ::selection {
         background-color: rgba(241, 255, 89, 0.4);
       }
       [data-theme='DARK'] ::selection {
         background-color: rgba(255, 220, 45, 0.3);
       }
       ol, ul {
         -webkit-user-select: text;
         -moz-user-select: text;
         -ms-user-select: text; 
       }
     `,document.head.appendChild(t),()=>{document.removeEventListener("mousedown",e),document.head.removeChild(t),document.querySelectorAll(".guru-selection").forEach(e=>{e.replaceWith(...Array.from(e.childNodes))})}},[]),(0,t.jsxs)("div",{ref:c,className:ea("container"),style:{"--top":e.top?`${e.top}px`:void 0,"--bottom":e.bottom?`${e.bottom}px`:void 0,"--left":e.left?`${e.left}px`:void 0,"--right":e.right?`${e.right}px`:void 0},unselectable:"on","data-guru":"action-option",children:["init"===d&&(0,t.jsxs)("div",{className:ea("initWrapper"),children:[(0,t.jsx)(E.Button,{variant:"secondary",onClick:()=>{if(u("question"),F.Amplitude.logEvent("click.lesson_page_guru_popup_question_button",m),i&&i.rangeCount>0){let{anchorNode:e,anchorOffset:t,focusNode:s,focusOffset:o}=i;if(!e||!s)return;let n=i.getRangeAt(0);if(n.commonAncestorContainer.nodeType===Node.TEXT_NODE){let e=t>o,s=e?o:t,i=e?t:o;ed(n.commonAncestorContainer,s,i)}if(n.commonAncestorContainer.nodeType===Node.ELEMENT_NODE){let i=e.compareDocumentPosition(s)===Node.DOCUMENT_POSITION_PRECEDING,l=i?s:e,r=i?e:s,a=i?o:t,d=i?t:o,u=document.createTreeWalker(n.commonAncestorContainer,NodeFilter.SHOW_TEXT,{acceptNode:e=>{if(!e.textContent?.trim())return NodeFilter.FILTER_REJECT;let t=e.compareDocumentPosition(l),s=e.compareDocumentPosition(r);return 0===t||0===s||t===Node.DOCUMENT_POSITION_PRECEDING&&s===Node.DOCUMENT_POSITION_FOLLOWING?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),c=[];for(;u.nextNode();)c.push(u.currentNode);c.forEach(e=>{ed(e,e.isEqualNode(l)?a:void 0,e.isEqualNode(r)?d:void 0)})}}},size:"small",type:"button",className:ea("directButton"),leftIcon:(0,t.jsx)(ei.Logo,{size:"xsmall",className:ea("directButtonIcon")}),children:"AI GURU에게 질문"}),(0,t.jsx)("button",{className:ea("offButton"),type:"button",onClick:()=>{(0,er.openModal)({icon:"alert",title:"강의 본문에서 AI GURU를 끌까요?",content:"언제든 설정 메뉴에서 다시 켤 수 있어요",primaryButton:{text:"끄기",onClick:e=>{F.Amplitude.logEvent("click.lesson_page_guru_off_modal_confirm_button",m),a(),s(),e()}},secondaryButton:{text:"취소하기"}})},children:(0,t.jsx)(en.Icon,{name:"power",size:"small",color:"--txt-secondary"})})]}),"question"===d&&(0,t.jsxs)("div",{className:ea("questionWrapper"),children:[(0,t.jsx)("div",{className:ea("direct"),children:(0,t.jsx)(el.GuruTextarea,{placeholder:"GURU에게 무엇이든 물어보세요",maxLength:1e3,autoFocus:!0,onSubmit:e=>{o(e,{type:"직접 질문"})}})}),(0,t.jsxs)("div",{className:ea("preset"),children:[(0,t.jsx)("p",{className:ea("presetTitle"),children:"추천 질문"}),(0,t.jsx)("div",{className:ea("presetList"),children:n.map(e=>(0,t.jsxs)("button",{className:ea("presetItem"),type:"button",onClick:()=>{o(e,{type:"추천 질문"})},children:[e,(0,t.jsx)(en.Icon,{name:"enter",size:"small",color:"--txt-secondary"})]},e))})]})]})]})}],795424),e.s(["CODE_GURU_ACTION_OPTION_PRESET",0,["이 코드의 역할을 자세히 알려줘","이 코드의 응용 방법을 알려줘","코드 실행 시 주의할 점을 알려줘"],"DEFAULT_GURU_ACTION_OPTION_PRESET",0,["더 쉽게 설명해줘","예시를 들어서 설명해줘","관련된 추가 학습 자료를 알려줘"],"EDITOR_GURU_ACTION_OPTION_PRESET",0,["코드를 단계별로 작성할 수 있게 도와줘","오류를 해결하는 법을 알려줘","더 효율적인 코드 작성법을 알려줘"]],1295)},249205,e=>{e.v({_lg:"GutterTrigger-module-scss-module__Feijpq___lg",_md:"GutterTrigger-module-scss-module__Feijpq___md",_sm:"GutterTrigger-module-scss-module__Feijpq___sm",container:"GutterTrigger-module-scss-module__Feijpq__container"})},479289,e=>{e.v({_lg:"LessonSubmissionInfo-module-scss-module__LITWtq___lg",_md:"LessonSubmissionInfo-module-scss-module__LITWtq___md",_sm:"LessonSubmissionInfo-module-scss-module__LITWtq___sm",container:"LessonSubmissionInfo-module-scss-module__LITWtq__container",link:"LessonSubmissionInfo-module-scss-module__LITWtq__link",submittedAt:"LessonSubmissionInfo-module-scss-module__LITWtq__submittedAt"})},975489,e=>{e.v({_lg:"FileExplorer-module-scss-module__9cYmzW___lg",_md:"FileExplorer-module-scss-module__9cYmzW___md",_sm:"FileExplorer-module-scss-module__9cYmzW___sm",background:"FileExplorer-module-scss-module__9cYmzW__background",container:"FileExplorer-module-scss-module__9cYmzW__container",files:"FileExplorer-module-scss-module__9cYmzW__files",filesScrollable:"FileExplorer-module-scss-module__9cYmzW__filesScrollable",header:"FileExplorer-module-scss-module__9cYmzW__header"})},698638,e=>{e.v({_lg:"FileExplorerItem-module-scss-module__ojFLeG___lg",_md:"FileExplorerItem-module-scss-module__ojFLeG___md",_sm:"FileExplorerItem-module-scss-module__ojFLeG___sm",container:"FileExplorerItem-module-scss-module__ojFLeG__container",isFolderOpened:"FileExplorerItem-module-scss-module__ojFLeG__isFolderOpened",isSelected:"FileExplorerItem-module-scss-module__ojFLeG__isSelected",item:"FileExplorerItem-module-scss-module__ojFLeG__item",menu:"FileExplorerItem-module-scss-module__ojFLeG__menu",name:"FileExplorerItem-module-scss-module__ojFLeG__name"})},818435,e=>{e.v({_lg:"ExplorerItemIcon-module-scss-module__oOFhuq___lg",_md:"ExplorerItemIcon-module-scss-module__oOFhuq___md",_sm:"ExplorerItemIcon-module-scss-module__oOFhuq___sm",angle:"ExplorerItemIcon-module-scss-module__oOFhuq__angle",container:"ExplorerItemIcon-module-scss-module__oOFhuq__container",item:"ExplorerItemIcon-module-scss-module__oOFhuq__item",open:"ExplorerItemIcon-module-scss-module__oOFhuq__open",withoutAngle:"ExplorerItemIcon-module-scss-module__oOFhuq__withoutAngle"})},237219,e=>{e.v({_lg:"InputModal-module-scss-module__AU2U5W___lg",_md:"InputModal-module-scss-module__AU2U5W___md",_sm:"InputModal-module-scss-module__AU2U5W___sm",buttons:"InputModal-module-scss-module__AU2U5W__buttons",container:"InputModal-module-scss-module__AU2U5W__container",title:"InputModal-module-scss-module__AU2U5W__title"})},998370,e=>{e.v({_lg:"CodeEditorLayout-module-scss-module__9Z5uvq___lg",_md:"CodeEditorLayout-module-scss-module__9Z5uvq___md",_sm:"CodeEditorLayout-module-scss-module__9Z5uvq___sm",container:"CodeEditorLayout-module-scss-module__9Z5uvq__container",explorerWrapper:"CodeEditorLayout-module-scss-module__9Z5uvq__explorerWrapper"})},911639,e=>{e.v({container:"Resizer-module-scss-module__T_LyPq__container",isResizing:"Resizer-module-scss-module__T_LyPq__isResizing"})},766194,883747,477484,459808,e=>{"use strict";var t=e.i(94601),s=e.i(350890),o=e.i(136960),n=e.i(495266),i=e.i(672508),l=e.i(148660),r=e.i(685918),a=e.i(410182),d=e.i(405695),u=e.i(354922),c=e.i(165841),m=e.i(435086),_=e.i(891583),p=e.i(657364),h=e.i(852396),g=e.i(450560),y=e.i(447596),f=e.i(875351),x=e.i(885850),v=e.i(707378),C=e.i(64588),b=e.i(151739),E=e.i(996373),T=e.i(855867),S=e.i(682930),w=e.i(345653),j=e.i(64999),I=e.i(881814),L=e.i(43279),N=e.i(722858),R=e.i(48779),k=e.i(299613),F=e.i(83909),A=e.i(45872),O=e.i(706324),G=e.i(273529),P=e.i(453126),W=e.i(328456),U=e.i(21762),M=e.i(478293),D=e.i(795424),B=e.i(1295),q=e.i(829882),V=e.i(200571);let H=()=>{let{lesson:e}=(0,q.useLessonDetailFromContext)(),{topic:t}=(0,W.useTopicDetailFromContext)();return{logGuruMessageSend:s=>{P.Amplitude.logEvent("click.lesson_page_guru_message_send_button",{lesson:{id:e?.id,name:e?.title,type:e?.type},topic:{id:t?.id,name:t?.title},question:s})}}};e.s(["useLogGuruMessageSend",0,H],883747);let z=()=>{let{lesson:e}=(0,q.useLessonDetailFromContext)(),{topic:s}=(0,W.useTopicDetailFromContext)(),{setInput:o,isAvailable:n,loadingCreate:i}=(0,O.useGuruClassroomContext)(),{isGuruInContent:r,setIsGuruInContent:a}=(0,V.useClassroomSetting)(),d=e?.studyNote?.typedId,u=(0,l.useInvalidEnrollmentAlert)({alertType:"feature"}),{logGuruMessageSend:c}=H();return{onSelectionChange:(0,U.debounce)(l=>{let m=document.querySelector("#ace-editor"),_=document.querySelector(".ace_selection.ace_start");l&&n&&r&&!i&&m&&_?(0,M.openPortal)(n=>(0,t.jsx)(D.UiGuruActionOption,{position:{right:window.innerWidth-m.getBoundingClientRect().left+8,top:_.getBoundingClientRect().top},onClose:n,presets:B.EDITOR_GURU_ACTION_OPTION_PRESET,onSubmit:(e,{type:t})=>{((e,t)=>{if(e){if(!d)return u();o({requestType:h.GuruRequestType.Message,studyNoteTypedId:d,content:e,selectedText:l}),c({type:t,content:e,placement:"실행기"})}})(e,t),n()},lesson:{id:e?.id,name:e?.title,type:e?.type},topic:{id:s?.id,name:s?.title},onClickOffButton:()=>a(!1)}),{uniqId:"guru-note-text-select-action"}):(0,M.openPortal)((0,t.jsx)(t.Fragment,{}),{uniqId:"guru-note-text-select-action"})},100)}};var $=e.i(905674),K=e.i(491619);let Y={src:e.i(474410).default,width:84,height:84,blurWidth:8,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA40lEQVR42lWPy2rCQBSGJ3NOJnbddUsvSYp1mtBEmcVUFCuUOqFUjOAFFLyCuPB9fAlfQdy7c+PCZ3FGUXBxVuf7bwQBIHZz/F/Wk0K2KgNfya9orF4fJKcUgYg3n1eCSDi2w5A6aIM+vGM591cYiAyqJZVhTD8Bym63Kb1RxygNpJ0SouJAZpDirBS1l73VfljcHT6fJg3tBh9eIkktDk/AXDy3Nv3FdlpYb937cQoXoFf5Ts4RFvSz+bT8+Jda1jVCkbz3zotcnEoyQGTUvi2pV0LwEvIf0VahX5PG1pS7zDwC8GUsRRzMSzoAAAAASUVORK5CYII="};var J=e.i(249205);let X=s.default.bind(J.default),Q=({onClick:e})=>(0,t.jsx)(K.default,{className:X("container"),title:"GURU에게 질문하기",src:Y,alt:"GURU",width:16,height:16,onClick:e}),Z=({editor:e})=>{let{isAvailable:s,loadingCreate:n}=(0,O.useGuruClassroomContext)(),{isGuruInContent:i}=(0,V.useClassroomSetting)(),[l,r]=(0,o.useState)(e?.getCursorPosition().row),[a,d]=(0,o.useState)(null),{onSelectionChange:u}=z(),{lesson:c}=(0,q.useLessonDetailFromContext)(),{topic:m}=(0,W.useTopicDetailFromContext)();return(0,o.useEffect)(()=>{if(e&&s&&i){let t=()=>{r(e.getCursorPosition().row)};return t(),e.getSession().selection.on("changeCursor",t),()=>{e.getSession().selection.off("changeCursor",t)}}r(void 0)},[e,s,i]),(0,o.useEffect)(()=>{if(e&&"number"==typeof l){let t=()=>{e?.getSession().getLine(l).trim()?d(e?.renderer.getContainerElement().getElementsByClassName("ace_gutter-cell").item(l)??null):d(null)};t();let s=e.getSession();return s.on("change",t),()=>{s.off("change",t)}}d(null)},[l]),s&&i&&!n&&a&&(0,$.createPortal)((0,t.jsx)(Q,{onClick:()=>{if("number"!=typeof l)return;e?.selection.selectLineStart();let t=e?.getSession().getLine(l).trim();t&&u(t),P.Amplitude.logEvent("click.lesson_page_guru_popup_button",{topic:{id:m?.id,name:m?.title},lesson:{id:c?.id,name:c?.title,type:c?.type},placement:"실행기"})}}),a)};var ee=e.i(426521),et=e.i(133464);let es=({enableShowReview:e,handleShowReview:s,handleSubmit:o,isReSubmit:n,disableSubmit:i=!1,buttonSize:l={l:"medium",s:"small"}})=>e?(0,t.jsx)(et.Button,{size:l,variant:"secondary",onClick:s,children:"피드백 보기"}):(0,t.jsx)(et.Button,{size:l,variant:"secondary",disabled:i,onClick:o,children:n?"다시 제출하기":"결과물 제출하기"});e.s(["LessonSubmissionActionButton",0,es],477484);var eo=e.i(479289),en=e.i(995745);let ei=s.default.bind(eo.default),el=({enableShowReview:e,handleSubmit:s,disableSubmit:o=!1,submittedAt:n,url:i})=>(0,t.jsxs)("div",{className:ei("container"),children:[i&&(0,t.jsx)("a",{href:i,rel:"noreferrer",target:"_blank",children:(0,t.jsx)(et.Button,{variant:"text",size:"small",className:ei("link"),children:"결과물 보기"})}),n&&(0,t.jsxs)("p",{className:ei("submittedAt"),children:["최근 제출 일시 ",(0,en.formatKoreanDateTime)(n)]}),e&&(0,t.jsx)(et.Button,{variant:"text",size:"small",color:"gray",onClick:s,disabled:o,children:"다시 제출"})]});e.s(["LessonSubmissionInfo",0,el],459808);let er=s.default.bind(k.default),ea=({lesson:e,studyNote:s,explorerOpen:k,setExplorerOpen:U,readOnly:M,enrollmentId:D})=>{let{topic:B}=(0,W.useTopicDetailFromContext)(),q=(0,n.useApolloClient)(),{openedFile:V}=(0,o.useContext)(y.FileExplorerContext),{values:$,setEditorValue:K,reset:Y}=(0,o.useContext)(g.CodeEditorContext),{isSideViewOpen:J}=(0,r.useSideViewState)(),{resetEditor:X}=(0,L.useResetEditor)(),Q=(0,o.useRef)(null),et=e.language??h.Language.Python,eo=u.codeEditorSettings[et],en=(0,E.isLanguageConsoleOnly)(et),[ei,ea]=(0,o.useState)(eo?.initialConsoleType??"executionResult"),{saveCurrentFiles:ed}=(0,N.useSaveCurrentFiles)({readOnly:M,studyNoteTypedId:s?.typedId,enrollmentId:D??void 0}),eu=(0,l.useInvalidEnrollmentAlert)({alertType:"feature"}),ec=(0,o.useRef)(s?.typedId),{getHotKeyLabel:em}=(0,m.useHotKeyLabel)(),{logGuruMessageSend:e_}=H(),[ep,eh]=(0,o.useState)(en?100:25),{enableShowReview:eg,handleShowReview:ey,handleSubmitResult:ef,isReSubmit:ex,hasSubmission:ev}=(0,ee.useLessonSubmissionControl)({onAfterSubmit:()=>P.Amplitude.logEvent("grade.lesson_page_exercise",{topic:{id:B?.id,name:B?.title},lesson:{id:e.id,name:e.title},button:{type:"결과물 제출"}})}),eC=()=>V?$[V.id]??V.content??"":"",{onSelectionChange:eb}=z(),[eE,eT]=(0,o.useState)(),eS=async()=>{if(!M){if(!D)return void eu();await ed()}},ew=(0,R.useThrottledCallback)(eS,3e3),ej=async()=>{await eS(),(0,F.openToast)({message:"저장되었습니다."})},eI=()=>{if(!M){if(!D)return void eu();(0,S.openModal)({title:"정말로 초기화하시겠어요?",icon:"alert",content:"해당 레슨에서 작업했던 모든 파일이 삭제되고\n초기 제공 파일만 남은 상태로 돌아갑니다.",primaryButton:{text:"초기화하기",onClick:e=>{s?.typedId&&X(s.typedId),e()}},secondaryButton:{text:"취소하기"}})}},[eL,eN]=(0,o.useState)(!1),eR=(0,o.useCallback)(e=>{if(Q.current){eN(!0);let{top:t,height:s}=Q.current.getBoundingClientRect();eh(100*Math.max(s-(e-t+58),0)/s)}},[]),ek=(0,p.useDragHandler)("vertical",{onDrag:eR,onDragEnd:()=>eN(!1)});(0,_.useOsHotKeys)(c.HOT_KEY_CODE[c.HotKeyName.SAVE],ej,{enabled:J,enableOnFormTags:!0,preventDefault:!0});let eF=em(c.HotKeyName.SAVE);(0,_.useOsHotKeys)(c.HOT_KEY_CODE[c.HotKeyName.RESET],eI,{enabled:J,enableOnFormTags:!0,preventDefault:!0});let eA=em(c.HotKeyName.RESET);(0,o.useEffect)(()=>{!V||V.type!==h.LessonFileType.Editable||V.id in $||(ec.current===s?.typedId?K(V.id,V.content??""):(Y({[V.id]:V.content??""}),ec.current=s?.typedId))},[V?.id]);let{loadingCreate:eO,setInput:eG}=(0,O.useGuruClassroomContext)(),{consoleResult:eP,isConsoleError:eW}=(0,o.useContext)(G.ClassroomEditorContext),eU=()=>{if(!s)return void eu();if(V?.type!==h.LessonFileType.Editable)return void(0,F.openToast)({icon:"warning",message:"이 파일은 리뷰할 수 없어요"});let e=eC();e?(eG({requestType:h.GuruRequestType.CodeReview,code:e,errorMessage:eW?eP??void 0:void 0,output:eW?void 0:eP??void 0,studyNoteTypedId:s.typedId}),e_({type:"직접 질문",content:e,placement:"AI 코드리뷰"})):(0,F.openToast)({icon:"warning",message:"코드 작성 후 이용해 보세요"})};return(0,t.jsx)("div",{className:er("container",{explorerOpen:k,resizing:eL}),children:(0,t.jsx)("div",{className:er("body"),children:(0,t.jsxs)("div",{className:er("bodyWrapper"),ref:Q,children:[!en&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.EditorHeader,{setExplorerOpen:U,explorerOpen:k}),(0,t.jsxs)("div",{className:er("editor"),onMouseLeave:ew,children:[V&&(0,t.jsx)(v.EditorFilePath,{filePath:V.filePath??""}),(0,t.jsx)("div",{className:er("display"),children:(()=>{if(!V)return null;let{type:s}=V,o=V.name.split("."),n=o[o.length-1],i=eC();switch(s){case h.LessonFileType.Readonly:return(0,t.jsx)(b.ReadonlyCodeViewer,{extension:n,content:V.content});case h.LessonFileType.Editable:return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.AceEditor,{fileId:V.id,extension:n,content:i,onChange:e=>K(V.id,e),readOnly:M||"lesson_init.sql"===V.name,onSelectionChange:e=>{eb(e.trim())},onLoad:e=>{eT(e)}}),(0,t.jsx)(Z,{editor:eE})]});case h.LessonFileType.Downloadable:return(0,t.jsx)(x.DownloadableViewer,{item:V,src:i,seqId:e.seqId});case h.LessonFileType.Image:return(0,t.jsx)(C.ImageViewer,{item:V,src:i,seqId:e.seqId});default:return(0,t.jsx)("p",{className:er("invisibleFile"),children:"미리보기를 지원하지 않는 파일입니다."})}})()}),(0,t.jsxs)("div",{className:er("actions"),children:[!en&&(0,t.jsx)("div",{role:"button",tabIndex:0,className:er("resizeHandleBar"),onTouchStart:ek,onMouseDown:ek,children:(0,t.jsx)("span",{className:er("icon"),children:(0,t.jsx)(A.Icon,{name:"fullSizing",size:"small"})})}),(0,t.jsxs)("div",{className:er("leftButtons"),children:[(0,t.jsx)(I.EditorSubmitButtons,{lesson:e,enrollmentId:D??void 0,studyNote:s,beforeSubmit:()=>{if(e.runnableType!==h.RunnableType.NotRunnable){let e=eo?.afterExecutionConsoleType;e&&ei!==e&&ea(e)}},readOnly:M,submitActionButton:e.submissionType?(0,t.jsx)(es,{enableShowReview:eg,handleSubmit:ef,handleShowReview:ey,isReSubmit:ex,buttonSize:"small"}):void 0}),!M&&(0,t.jsxs)("div",{className:er("rightButtons"),children:[!u.EXCLUDE_AI_REVIEW_LANGUAGES.includes(e.language??"")&&(0,t.jsx)("div",{className:er("aiButton"),children:(0,t.jsx)(i.ReviewWithAIButton,{disabled:eO||!V,onClick:()=>{eU(),P.Amplitude.logEvent("click.ai_coaching_button",{lesson:{id:e.id,name:e.title},topic:{id:B?.id,name:B?.title},type:"review"})}})}),(0,t.jsxs)("div",{className:er("saveResetButtons",{withOpenWebButton:(0,T.isLanguageOpenWeb)(e.language),withSubmitButton:e.submissionType}),children:[(0,t.jsx)(d.EditorButton,{onClick:()=>{P.Amplitude.logEvent("click.lesson_page_exercise_save_button",{topic:{id:B?.id,name:B?.title},lesson:{id:e.id,name:e.title}}),ej()},icon:"save",title:"저장",tooltip:`저장${eF?` (${eF})`:""}`,tooltipPlace:"top-end"}),(0,t.jsx)(d.EditorButton,{onClick:()=>{P.Amplitude.logEvent("click.lesson_page_exercise_reset_button",{topic:{id:B?.id,name:B?.title},lesson:{id:e.id,name:e.title}}),eI()},icon:"reset",title:"초기화",tooltip:`초기화${eA?` (${eA})`:""}`,tooltipPlace:"top-end"})]})]})]}),ev&&(0,t.jsx)(el,{enableShowReview:eg,handleSubmit:ef,submittedAt:s?.submission?.submittedAt,url:s?.projectLessonSubmission?.url})]})]})]}),(0,t.jsx)("div",{className:er("consoleWrapper"),style:{height:`${en?100:ep}%`},children:(0,t.jsx)(a.ConsoleLayout,{language:et,currentTab:ei,setCurrentTab:ea,onReload:()=>{q.refetchQueries({include:["GetTerminalUrl"]})},onClickReviewWithAI:eU,content:(0,t.jsx)(w.ConsoleContent,{language:et,consoleType:ei,studyNoteTypedId:s?.typedId,enrollmentId:D??void 0,lessonSeqId:e.seqId??void 0}),lesson:e,topic:B??null})})]})})})};var ed=e.i(567869),eu=e.i(975489),ec=e.i(698638),em=e.i(818435);let e_=s.default.bind(em.default),ep=({item:e,isSelected:s,isOpen:n})=>{let i=(0,o.useMemo)(()=>s?"open":"close",[s]),l=(0,o.useMemo)(()=>e.type===h.LessonFileType.Folder&&n?"open":"close",[n,e.type]);return(0,t.jsx)("div",{className:e_("container"),children:e.type===h.LessonFileType.Folder?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Icon,{name:"chevron",thickness:"bold",rotate:"open"===l?180:90,color:"open"===l?"--gray100":"--gray50",size:"xsmall",containerClassName:e_("angle")}),(0,t.jsx)(A.Icon,{name:"folder-fill",size:"small",color:"open"===l?"--bg-purple-primary-invert":"--gray50",containerClassName:e_("item")})]}):(0,t.jsx)(A.Icon,{name:"file-fill",size:"small",color:"open"===i?"--bg-purple-primary-invert":"--gray50",containerClassName:e_("item","withoutAngle")})})},eh=s.default.bind(ec.default),eg=({file:e,onClick:s,renderMenu:o,renderName:n})=>(0,t.jsx)("div",{className:eh("container",{isFolderOpened:e.type===h.LessonFileType.Folder&&e.isOpened,isSelected:e.isSelected}),style:{paddingLeft:20*e.level},onClick:()=>s(e),role:"button",tabIndex:0,children:(0,t.jsxs)("div",{className:eh("item"),children:[(0,t.jsx)(ep,{item:e,isSelected:!!e.isSelected,isOpen:!!e.isOpened}),(0,t.jsx)("span",{className:eh("name"),children:n?n(e):e.name||""}),o&&(0,t.jsx)("div",{className:eh("menu"),children:o(e)})]})}),ey=s.default.bind(eu.default),ef=({files:e,setExplorerOpen:s,onClickItem:o,renderHeader:n,renderItemMenu:i,renderItemName:l})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{"aria-label":"open file explorer",className:ey("background"),onClick:()=>s(e=>!e),onKeyDown:()=>null,role:"button",tabIndex:0}),(0,t.jsxs)("div",{className:ey("container"),children:[(0,t.jsx)("div",{className:ey("header"),children:n?.()}),(0,t.jsx)("div",{className:ey("filesScrollable"),children:(0,t.jsx)("div",{className:ey("files"),children:e.map(e=>e.visible?(0,t.jsx)(eg,{file:e,onClick:o,renderMenu:i,renderName:l},e.id):null)})})]})]}),ex=({onClickFile:e,renderHeader:s,renderItemMenu:n,renderItemName:i,setExplorerOpen:l=()=>null})=>{let{files:r,setSelectedFile:a,toggleFolder:d}=(0,o.useContext)(y.FileExplorerContext);return(0,t.jsx)(ef,{files:r,setExplorerOpen:l,onClickItem:t=>{t.type===h.LessonFileType.Folder?d(t.id):(a(t.id),e?.(t))},renderHeader:s,renderItemMenu:n,renderItemName:i})};var ev=e.i(525528),eC=e.i(804623),eb=e.i(596703),eE=e.i(956842),eT=e.i(557151),eS=e.i(237219),ew=e.i(534712);let ej=s.default.bind(eS.default),eI=({title:e,rules:s,label:n,onSubmit:i,submitLabel:l,onCancel:r,cancelLabel:a,defaultValue:d})=>{let{control:u,handleSubmit:c,setFocus:m}=(0,eT.useForm)();return(0,o.useEffect)(()=>{m("value")},[]),(0,t.jsxs)("form",{className:ej("container"),onSubmit:c(i),children:[(0,t.jsx)("p",{className:ej("title"),children:e}),(0,t.jsx)(eT.Controller,{name:"value",control:u,rules:s,defaultValue:d,render:({field:s,fieldState:o})=>(0,t.jsx)(ew.InputTextField,{...s,label:n??e,width:"34.5rem",error:!!o.error,helperText:o.error?o.error.message:void 0})}),(0,t.jsxs)("div",{className:ej("buttons"),children:[(0,t.jsx)(et.Button,{variant:"secondary",size:"medium",onClick:r,children:a??"취소하기"}),(0,t.jsx)(et.Button,{variant:"primary",type:"submit",size:"medium",children:l??"확인하기"})]})]})};var eL=e.i(37397);let eN=async(e,t="")=>{let s=document.createElement("a");if(s.style.display="none",s.href=e,t){let o=await (0,eL.default)({method:"GET",url:e,responseType:"blob"});s.href=window.URL.createObjectURL(new Blob([o.data])),s.setAttribute("download",t)}document.body.appendChild(s),s.click(),document.body.removeChild(s)};var eR=e.i(351623),ek=e.i(982742),eF=e.i(102863);let eA=eR.gql`
  ${eF.STUDY_NOTE_FIELDS}
  mutation CreateProjectFile($input: CreateProjectFileInput!) {
    createProjectFile(input: $input) {
      lessonFile {
        ...StudyNoteFileFields
      }
      studyNote {
        ...StudyNoteFields
      }
    }
  }
`,eO=eR.gql`
  ${eF.STUDY_NOTE_FIELDS}
  mutation DeleteProjectFile($input: DeleteProjectFileInput!) {
    deleteProjectFile(input: $input) {
      studyNote {
        ...StudyNoteFields
      }
    }
  }
`,eG=eR.gql`
  mutation GetProjectDownloadUrl($input: GetProjectDownloadUrlInput!) {
    getProjectDownloadUrl(input: $input) {
      url
    }
  }
`,eP=eR.gql`
  ${eF.STUDY_NOTE_FIELDS}
  mutation RenameProjectFile($input: RenameProjectFileInput!) {
    renameProjectFile(input: $input) {
      studyNote {
        ...StudyNoteFields
      }
    }
  }
`,eW=({lesson:e,studyNote:s,enrollmentId:n,setExplorerOpen:i})=>{let{renderItemMenu:r,renderHeader:a}=(({enrollmentId:e,studyNote:s,lesson:n})=>{let{instanceIp:i}=(0,o.useContext)(G.ClassroomEditorContext),{selectedFile:r,setSelectedFile:a}=(0,o.useContext)(y.FileExplorerContext),{getDownloadUrl:d}=(()=>{let[e]=(0,ek.useMutation)(eG);return{getDownloadUrl:async t=>{let s=await e({variables:{input:t}});return s.data?.getProjectDownloadUrl?.url}}})(),{createProjectFile:u}=(()=>{let[e,{loading:t}]=(0,ek.useMutation)(eA);return{createProjectFile:t=>e({variables:{input:t}}),loading:t}})(),{renameProjectFile:c}=(()=>{let[e]=(0,ek.useMutation)(eP);return{renameProjectFile:t=>e({variables:{input:t}})}})(),{deleteProjectFile:m}=(()=>{let[e]=(0,ek.useMutation)(eO);return{deleteProjectFile:t=>e({variables:{input:t}})}})(),{open:_,closeModal:p}=(()=>{let{openModal:e,closeModal:s,Modal:o}=(0,eE.useModal)();return{open:({title:n,label:i,rules:l,onSubmit:r,submitLabel:a,cancelLabel:d,defaultValue:u=""})=>{e((0,t.jsx)(o,{onClose:s,children:(0,t.jsx)(eI,{title:n,label:i,rules:l,onSubmit:({value:e})=>{r(e),s()},submitLabel:a,onCancel:s,cancelLabel:d,defaultValue:u})}))},closeModal:s}})(),g=(0,l.useInvalidEnrollmentAlert)({alertType:"feature"}),f={required:!0,validate:{noSlash:e=>!!e&&!e.includes("/"),extension:e=>!e||!!e.includes(".")||"파일 확장자를 입력해주세요."}},x={required:!0,validate:{noSlash:e=>!!e&&!e.includes("/"),extension:e=>!!e&&!e.includes(".")}},v=async()=>{if(!s?.typedId)return void g();let e=await d({studyNoteTypedId:s.typedId});e&&await eN(e,"project.zip")},C=({title:e,label:t,rules:o,fileType:n,completedMessage:l})=>r=>{s?.typedId?_({title:e,label:t,rules:o,onSubmit:async e=>{let t=((e,t)=>{if("/"===e.filePath)return`/${t}`;if(e.type===h.LessonFileType.Folder)return`${e.filePath}/${t}`;{let s=e.parentFolderPaths[e.parentFolderPaths.length-1];return"/"===s?`/${t}`:`${s}/${t}`}})(r,e),{data:o}=await u({filePath:t,studyNoteTypedId:s?.typedId,type:n,instanceIp:i});if((0,F.openToast)({icon:"success",message:l}),n!==h.LessonFileType.Folder){let e=o?.createProjectFile.lessonFile;e&&a(e.id,e.filePath??void 0)}p()},submitLabel:"추가",cancelLabel:"취소"}):g()},b=C({title:"새 파일 생성",label:"이름을 입력하세요",rules:f,fileType:h.LessonFileType.Editable,completedMessage:"파일 생성 완료"}),E=C({title:"새 폴더 생성",label:"이름을 입력하세요",rules:x,fileType:h.LessonFileType.Folder,completedMessage:"폴더 생성 완료"}),T=e=>{_({title:"이름 변경",label:"이름을 입력하세요",rules:e.type===h.LessonFileType.Folder?x:f,defaultValue:e.name??"",onSubmit:async t=>{e.id&&s?.typedId&&(await c({lessonFileId:e.id,newName:t,studyNoteTypedId:s.typedId}),(0,F.openToast)({icon:"success",message:"이름 변경 완료"}),p())}})},w=e=>{(0,S.openModal)({icon:"alert",title:"정말 삭제하시겠어요?",primaryButton:{text:"삭제",onClick:async t=>{e.id&&s?.typedId&&(await m({lessonFileId:e.id,studyNoteTypedId:s.typedId}),(0,F.openToast)({icon:"success",message:"삭제 완료"}),t())}},secondaryButton:{text:"취소"}})};return{renderHeader:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ev.IconButton,{icon:{name:"download",size:"small"},button:{id:"downloadButton",onClick:v}}),(0,t.jsx)(eC.Tooltip,{anchorSelect:"#downloadButton",place:"top-end",content:"다운로드"}),!n.fileStructureLock&&r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ev.IconButton,{icon:{name:"plusPaper",size:"small"},button:{id:"createFileButton",onClick:()=>{b(r)}}}),(0,t.jsx)(ev.IconButton,{icon:{name:"plusFolder",size:"small"},button:{id:"createFolderButton",onClick:()=>{E(r)}}}),(0,t.jsx)(eC.Tooltip,{anchorSelect:"#createFolderButton",place:"top",content:"새 폴더 생성"}),(0,t.jsx)(eC.Tooltip,{anchorSelect:"#createFileButton",place:"top",content:"새 파일 생성"})]})]}),renderItemMenu:s=>{let o="/"===s.filePath;if(e&&(!n.fileStructureLock||o))return(0,t.jsx)(eb.MorePopover,{menus:[{text:"이름 변경",checkVisible:!n.fileStructureLock&&!o,onClick:T},{text:"삭제",checkVisible:!n.fileStructureLock&&!o,onClick:w}],record:s})}}})({lesson:e,studyNote:s,enrollmentId:n});return(0,t.jsx)(ex,{renderHeader:a,renderItemMenu:r,setExplorerOpen:i})};var eU=e.i(998370),eM=e.i(911639);let eD=s.default.bind(eM.default),eB=({onMouseDown:e,isResizing:s,resizerWidth:o="1.1rem",resizerLineWidth:n=".1rem"})=>(0,t.jsx)("div",{className:eD("container",{isResizing:s}),onMouseDown:e,style:{"--resizer-width":o,"--resizer-line-width":n},role:"presentation"}),eq=s.default.bind(eU.default);e.s(["CodeEditorLayout",0,({lesson:e,studyNote:s,enrollmentId:n,readOnly:i,files:l})=>{let{isMobileSize:r}=(0,ed.useWindowSize)(),[a,d]=(0,o.useState)(!1),u=(0,E.isLanguageConsoleOnly)(e.language),c=s?.id||e.id,{wrapperWidth:m,isResizing:_,wrapperRef:f,onMouseDown:x}=(({minWidth:e})=>{let t=(0,o.useRef)(null),[s,n]=(0,o.useState)(e),[i,l]=(0,o.useState)(!1),r=(0,o.useCallback)(s=>{t.current&&(n(Math.max(e,s-t.current.getBoundingClientRect().left)),l(!0))},[e]),a=(0,o.useCallback)(()=>{l(!1)},[]);return{wrapperWidth:s,isResizing:i,wrapperRef:t,onMouseDown:(0,p.useDragHandler)("horizontal",{onDrag:r,onDragEnd:a})}})({minWidth:187});return(0,o.useEffect)(()=>{d(!r)},[r]),(0,t.jsx)("div",{className:eq("container"),role:"none",children:(0,t.jsx)(y.FileExplorerContextProvider,{uniqId:c,files:l,rootName:(e=>{let{language:t}=e;switch(t){case h.Language.Django||h.Language.Drf:return"django";case h.Language.PythonTrm||h.Language.Python_3_12_8||h.Language.Python_3_12_8Streamlit:return"python";case h.Language.React||h.Language.React_18_2_0||h.Language.React_19Vite:return"react";default:return e?.title||"실습 파일"}})(e),defaultOpenedFilePath:e.defaultOpenFilePath??void 0,children:(0,t.jsxs)(G.ClassroomEditorContextProvider,{uniqKey:c,children:[!u&&a&&(0,t.jsxs)("div",{ref:f,className:eq("explorerWrapper"),style:{width:`${m}px`},children:[(0,t.jsx)(eW,{lesson:e,studyNote:s??void 0,enrollmentId:n??void 0,setExplorerOpen:d}),(0,t.jsx)(eB,{onMouseDown:x,isResizing:_})]}),(0,t.jsx)(g.CodeEditorContextProvider,{children:(0,t.jsx)(ea,{lesson:e,studyNote:s??void 0,explorerOpen:a,setExplorerOpen:d,readOnly:i,enrollmentId:n})})]})})})}],766194)},43517,e=>{e.v({_lg:"ClassroomTabs-module-scss-module__72ryOa___lg",_md:"ClassroomTabs-module-scss-module__72ryOa___md",_sm:"ClassroomTabs-module-scss-module__72ryOa___sm",active:"ClassroomTabs-module-scss-module__72ryOa__active",container:"ClassroomTabs-module-scss-module__72ryOa__container",tabButton:"ClassroomTabs-module-scss-module__72ryOa__tabButton"})},352619,e=>{"use strict";var t=e.i(94601),s=e.i(350890),o=e.i(43517),n=e.i(45872);let i=s.default.bind(o.default);e.s(["ClassroomTabs",0,({activeKey:e,tabs:s,onChange:o})=>(0,t.jsx)("div",{className:i("container"),children:s.map(({key:s,icon:l,label:r})=>{let a=s===e;return(0,t.jsxs)("button",{type:"button",className:i("tabButton",{active:a}),onClick:()=>{o(s)},children:[(0,t.jsx)(n.Icon,{name:l,size:"small"}),r]},s)})})])},725258,e=>{e.v({VIDEO:"ContentViewerWrapper-module-scss-module__0t67ia__VIDEO",_lg:"ContentViewerWrapper-module-scss-module__0t67ia___lg",_md:"ContentViewerWrapper-module-scss-module__0t67ia___md",_sm:"ContentViewerWrapper-module-scss-module__0t67ia___sm",container:"ContentViewerWrapper-module-scss-module__0t67ia__container",containerWrapper:"ContentViewerWrapper-module-scss-module__0t67ia__containerWrapper",contentContainer:"ContentViewerWrapper-module-scss-module__0t67ia__contentContainer",footer:"ContentViewerWrapper-module-scss-module__0t67ia__footer"})},806335,e=>{e.v({_lg:"CodeReviewForm-module-scss-module__IA-Buq___lg",_md:"CodeReviewForm-module-scss-module__IA-Buq___md",_sm:"CodeReviewForm-module-scss-module__IA-Buq___sm",buttons:"CodeReviewForm-module-scss-module__IA-Buq__buttons"})},973423,e=>{e.v({_lg:"PopoverMenu-module-scss-module__uTIBeq___lg",_md:"PopoverMenu-module-scss-module__uTIBeq___md",_sm:"PopoverMenu-module-scss-module__uTIBeq___sm",container:"PopoverMenu-module-scss-module__uTIBeq__container",menu:"PopoverMenu-module-scss-module__uTIBeq__menu",menuButton:"PopoverMenu-module-scss-module__uTIBeq__menuButton",menuButtonContainer:"PopoverMenu-module-scss-module__uTIBeq__menuButtonContainer"})},917626,e=>{e.v({_lg:"CodeReviewBox-module-scss-module__lNo9kq___lg",_md:"CodeReviewBox-module-scss-module__lNo9kq___md",_sm:"CodeReviewBox-module-scss-module__lNo9kq___sm",creatingIcon:"CodeReviewBox-module-scss-module__lNo9kq__creatingIcon"})},456402,655770,e=>{"use strict";var t,s=e.i(94601),o=e.i(136960),n=e.i(350890),i=e.i(896267),l=e.i(725258);let r=n.default.bind(l.default);e.s(["ContentViewerWrapper",0,({lessonType:e,footer:t,children:n})=>{let l,a=(0,o.useRef)(null);return l=(0,i.useRouter)(),(0,o.useEffect)(()=>{let e=a?.current??window,t=()=>{e&&e.scrollTo({left:0,top:0,behavior:"instant"})};return l.events.on("routeChangeStart",t),()=>{l.events.off("routeChangeStart",t)}},[]),(0,s.jsx)("div",{id:"contentViewerWrapper",ref:a,className:r("containerWrapper"),children:(0,s.jsxs)("div",{className:r("container",e),children:[(0,s.jsx)("div",{className:r("contentContainer",e),children:n}),(0,s.jsx)("div",{className:r("footer"),children:t})]})})}],456402);var a=e.i(557151),d=e.i(582251),u=e.i(45872),c=e.i(970375),m=e.i(133464),_=e.i(748978),p=e.i(806335);let h=n.default.bind(p.default),g=({onSubmit:e,onCancel:t,onClose:o,form:{control:n,handleSubmit:i},thumbnailSrc:l,title:r,defaultContent:d})=>(0,s.jsx)(c.CodeReviewLayout,{title:r,thumbnailSrc:l,onClose:o,children:(0,s.jsxs)("form",{onSubmit:i(e),children:[(0,s.jsx)(a.Controller,{name:"comment",control:n,defaultValue:d,rules:{required:!0},render:({field:{value:e,onChange:t}})=>(0,s.jsx)(_.Textarea,{value:e,onChange:t,placeholder:"코멘트를 작성해 주세요.",minHeight:"40rem",maxHeight:"40rem"})}),(0,s.jsxs)("div",{className:h("buttons"),children:[(0,s.jsx)(m.Button,{onClick:t,variant:"secondary",children:"취소하기"}),(0,s.jsx)(m.Button,{variant:"primary",type:"submit",children:"완료하기"})]})]})});var y=e.i(817842),f=e.i(214191),x=e.i(568552),v=e.i(351623),C=e.i(280429);let b=v.gql`
  query getCodeReviews($studyNoteTypedId: String!) {
    node(typedId: $studyNoteTypedId) {
      ... on StudyNote {
        id
        codeReviews {
          id
          reviewer {
            id
            name
          }
          createdAt
          updatedAt
          comment
        }
      }
    }
  }
`;var E=e.i(982742),T=e.i(102863);let S=v.gql`
  ${T.CODE_REVIEW_FIELDS}
  mutation CreateCodeReview($input: CreateCodeReviewInput!) {
    createCodeReview(input: $input) {
      studyNote {
        __typename
        id
        codeReviews {
          ...CodeReviewFields
        }
      }
    }
  }
`,w=v.gql`
  ${T.CODE_REVIEW_FIELDS}
  mutation DeleteCodeReview($input: DeleteCodeReviewInput!) {
    deleteCodeReview(input: $input) {
      studyNote {
        __typename
        id
        codeReviews {
          ...CodeReviewFields
        }
      }
    }
  }
`,j=v.gql`
  ${T.CODE_REVIEW_FIELDS}
  mutation UpdateCodeReview($input: UpdateCodeReviewInput!) {
    updateCodeReview(input: $input) {
      studyNote {
        __typename
        id
        codeReviews {
          ...CodeReviewFields
        }
      }
    }
  }
`;var I=e.i(966e3),L=e.i(506505),N=e.i(534667),R=e.i(973423);let k=n.default.bind(R.default),F=({menus:e})=>{let{isOpened:t,togglePopover:o,closePopover:n,anchorElement:i}=(0,N.usePopover)();return(0,s.jsxs)("div",{className:k("container"),children:[(0,s.jsx)("a",{className:k("menu"),onClick:o,role:"button",tabIndex:0,children:(0,s.jsx)(u.Icon,{name:"kebab",rotate:90})}),(0,s.jsx)(L.Popover,{open:t,onClose:n,anchorPosition:{right:".2rem"},anchorElement:i,children:(0,s.jsx)("div",{className:k("menuButtonContainer"),children:e.map(e=>(0,s.jsx)("button",{className:k("menuButton"),type:"button",onClick:()=>{e.onClick(),n()},children:e.label},e.label))})})]})};var A=e.i(917626),O=e.i(682930);let G=n.default.bind(A.default);var P=((t=P||{}).Default="Default",t.List="List",t.Create="Create",t.Edit="Edit",t);e.s(["CodeReviewBox",0,({writable:e,studyNoteId:t,studyNoteTypedId:n})=>{let{currentUser:i}=(0,I.useMyProfile)(),{codeReviews:l}=(e=>{let{data:t}=(0,C.useQuery)(b,{variables:{studyNoteTypedId:e}});return{codeReviews:t?.node.codeReviews?.filter(e=>!!e)??[]}})(n),r=(0,a.useForm)(),c=(0,a.useWatch)({control:r.control,name:"comment",defaultValue:""}),[m,_]=(0,o.useState)("Default"),[p,h]=(0,o.useState)(),v=i?.profile?.photo??x.DEFAULT_PROFILE_IMAGE,{createCodeReview:T}=(()=>{let[e]=(0,E.useMutation)(S);return{createCodeReview:e}})(),{updateCodeReview:L}=(()=>{let[e]=(0,E.useMutation)(j);return{updateCodeReview:e}})(),{deleteCodeReview:N}=(()=>{let[e]=(0,E.useMutation)(w);return{deleteCodeReview:e}})(),R=async e=>{p?await L({variables:{input:{comment:e.comment,codeReviewId:p.id,studyNoteId:t}}}):await T({variables:{input:{comment:e.comment,studyNoteId:t}}}),r.reset({comment:""}),h(void 0),_("List")},k=(0,o.useCallback)(e=>(0,s.jsx)(f.CodeReviewListItem,{codeReview:e,listManageButton:(0,s.jsx)(F,{menus:[{label:"수정하기",onClick:()=>{h(e),r.setValue("comment",e.comment),_("Edit")}},{label:"삭제하기",onClick:()=>((0,O.openModal)({icon:"alert",title:"정말 삭제하시겠어요?",primaryButton:{text:"삭제하기",onClick:async s=>{await N({variables:{input:{codeReviewId:e.id,studyNoteId:t}}}),s()}},secondaryButton:{text:"취소하기"}}),e)}]}),editable:e.reviewer.id===i?.id}),[i?.id]);switch(m){case"List":{let e=l[0]?.reviewer;return(0,s.jsx)(y.CodeReviewList,{title:`${e?.name} 멘토님이 남긴 코멘트`,thumbnailSrc:e?.profile?.photo??x.DEFAULT_PROFILE_IMAGE,onClose:()=>{_("Default")},reviews:l,renderReview:k})}case"Create":case"Edit":return(0,s.jsx)(g,{onSubmit:R,onCancel:()=>{p&&r.reset({comment:""}),h(void 0),_("Default")},onClose:()=>{_("Default")},form:r,thumbnailSrc:v,title:p?"코멘트 수정 중...":"코멘트 작성 중...",defaultContent:p?p.comment:void 0});default:{let t={label:"코멘트 보기",onClick:()=>{_("List")},disabled:!l?.length};if(!e){if(l.length>0){let e=l[0]?.reviewer;return(0,s.jsx)(d.UiCodeReviewTools,{title:`${e?.name} 멘토님이 코멘트를 남겼어요.`,thumbnailSrc:e?.profile?.photo??x.DEFAULT_PROFILE_IMAGE,listButton:t})}return null}return(0,s.jsx)(d.UiCodeReviewTools,{title:`${i?.name} 멘토님`,thumbnailSrc:v,writeButton:{label:c?(0,s.jsxs)(s.Fragment,{children:["작성 중... ",(0,s.jsx)(u.Icon,{name:"chevron-fill",rotate:90,className:G("creatingIcon"),color:"--gray00"})]}):"새 코멘트 남기기",onClick:()=>{_("Create")}},listButton:t})}}}],655770)},386235,e=>{e.v({Windows:"Nav-module-scss-module__AJ7kTW__Windows",_lg:"Nav-module-scss-module__AJ7kTW___lg",_md:"Nav-module-scss-module__AJ7kTW___md",_sm:"Nav-module-scss-module__AJ7kTW___sm",container:"Nav-module-scss-module__AJ7kTW__container",hideOnMobile:"Nav-module-scss-module__AJ7kTW__hideOnMobile",registerButton:"Nav-module-scss-module__AJ7kTW__registerButton"})},91632,820959,e=>{"use strict";var t=e.i(94601),s=e.i(136960),o=e.i(382264);e.s(["SideViewStateProvider",0,({initialOpen:e,children:n})=>{let[i,l]=(0,s.useState)(e?"editor":null),r=(0,s.useMemo)(()=>({sideViewType:i,setSideViewType:l}),[i]);return(0,t.jsx)(o.SideViewContext.Provider,{value:r,children:n})}],91632);var n=e.i(350890),i=e.i(19070),l=e.i(386235);let r=n.default.bind(l.default);e.s(["ClassroomNav",0,({hasProfile:e,profileImage:s,username:o=""})=>(0,t.jsx)("div",{className:r("container","hideOnMobile"),children:e&&(0,t.jsx)(i.ProfilePopover,{profileImage:s,username:o})})],820959)},901956,e=>{e.v({_lg:"ClassroomViewSwitcher-module-scss-module__YXgZQG___lg",_md:"ClassroomViewSwitcher-module-scss-module__YXgZQG___md",_sm:"ClassroomViewSwitcher-module-scss-module__YXgZQG___sm",container:"ClassroomViewSwitcher-module-scss-module__YXgZQG__container"})},724534,980423,692462,e=>{"use strict";var t=e.i(94601),s=e.i(350890),o=e.i(685918),n=e.i(901956),i=e.i(852396),l=e.i(352619);let r=s.default.bind(n.default);e.s(["ClassroomViewSwitcher",0,({lessonViewText:e,lessonViewIcon:s,language:n})=>{let{sideViewType:a,setSideViewType:d}=(0,o.useSideViewState)(),u=n===i.Language.Markdown;return(0,t.jsx)("div",{className:r("container"),children:(0,t.jsx)(l.ClassroomTabs,{activeKey:a,tabs:[{key:null,icon:s,label:e},{key:"editor",icon:u?"textarea":"codeBlock",label:u?"에디터":"실행기"},...u?[{key:"viewer",icon:"eye",label:"미리보기"}]:[]],onChange:d})})}],724534),e.s(["getLessonIcon",0,e=>{switch(e){case i.LessonType.Video:return"video";case i.LessonType.Note:return"note";case i.LessonType.Quiz:return"quiz";case i.LessonType.Exercise:default:return"exercise"}}],980423),e.s(["getLessonTypeLabel",0,e=>{switch(e){case i.LessonType.Video:return"영상";case i.LessonType.Note:return"노트";case i.LessonType.Quiz:return"퀴즈";case i.LessonType.Exercise:return"실습";default:return"오류입니다! 인풋을 확인해주세요"}}],692462)}]);

//# sourceMappingURL=d86b44f81783fb70.js.map
//# debugId=6fab25a7-0725-53d8-bf3b-8a4d85466198
